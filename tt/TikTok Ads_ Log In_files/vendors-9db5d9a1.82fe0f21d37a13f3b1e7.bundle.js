/*! For license information please see vendors-9db5d9a1.82fe0f21d37a13f3b1e7.bundle.js.LICENSE.txt */
(self.webpackChunkaccount_center_i18n_web_v2=self.webpackChunkaccount_center_i18n_web_v2||[]).push([[9979],{77043:function(e,t,n){!function(e){"use strict";function t(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t){return e(t={exports:{}},t.exports),t.exports}var o=i((function(e){function t(n){return e.exports=t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e.exports.__esModule=!0,e.exports.default=e.exports,t(n)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})),r=t(o);function s(){var e={"align-content":!1,"align-items":!1,"align-self":!1,"alignment-adjust":!1,"alignment-baseline":!1,all:!1,"anchor-point":!1,animation:!1,"animation-delay":!1,"animation-direction":!1,"animation-duration":!1,"animation-fill-mode":!1,"animation-iteration-count":!1,"animation-name":!1,"animation-play-state":!1,"animation-timing-function":!1,azimuth:!1,"backface-visibility":!1,background:!0,"background-attachment":!0,"background-clip":!0,"background-color":!0,"background-image":!0,"background-origin":!0,"background-position":!0,"background-repeat":!0,"background-size":!0,"baseline-shift":!1,binding:!1,bleed:!1,"bookmark-label":!1,"bookmark-level":!1,"bookmark-state":!1,border:!0,"border-bottom":!0,"border-bottom-color":!0,"border-bottom-left-radius":!0,"border-bottom-right-radius":!0,"border-bottom-style":!0,"border-bottom-width":!0,"border-collapse":!0,"border-color":!0,"border-image":!0,"border-image-outset":!0,"border-image-repeat":!0,"border-image-slice":!0,"border-image-source":!0,"border-image-width":!0,"border-left":!0,"border-left-color":!0,"border-left-style":!0,"border-left-width":!0,"border-radius":!0,"border-right":!0,"border-right-color":!0,"border-right-style":!0,"border-right-width":!0,"border-spacing":!0,"border-style":!0,"border-top":!0,"border-top-color":!0,"border-top-left-radius":!0,"border-top-right-radius":!0,"border-top-style":!0,"border-top-width":!0,"border-width":!0,bottom:!1,"box-decoration-break":!0,"box-shadow":!0,"box-sizing":!0,"box-snap":!0,"box-suppress":!0,"break-after":!0,"break-before":!0,"break-inside":!0,"caption-side":!1,chains:!1,clear:!0,clip:!1,"clip-path":!1,"clip-rule":!1,color:!0,"color-interpolation-filters":!0,"column-count":!1,"column-fill":!1,"column-gap":!1,"column-rule":!1,"column-rule-color":!1,"column-rule-style":!1,"column-rule-width":!1,"column-span":!1,"column-width":!1,columns:!1,contain:!1,content:!1,"counter-increment":!1,"counter-reset":!1,"counter-set":!1,crop:!1,cue:!1,"cue-after":!1,"cue-before":!1,cursor:!1,direction:!1,display:!0,"display-inside":!0,"display-list":!0,"display-outside":!0,"dominant-baseline":!1,elevation:!1,"empty-cells":!1,filter:!1,flex:!1,"flex-basis":!1,"flex-direction":!1,"flex-flow":!1,"flex-grow":!1,"flex-shrink":!1,"flex-wrap":!1,float:!1,"float-offset":!1,"flood-color":!1,"flood-opacity":!1,"flow-from":!1,"flow-into":!1,font:!0,"font-family":!0,"font-feature-settings":!0,"font-kerning":!0,"font-language-override":!0,"font-size":!0,"font-size-adjust":!0,"font-stretch":!0,"font-style":!0,"font-synthesis":!0,"font-variant":!0,"font-variant-alternates":!0,"font-variant-caps":!0,"font-variant-east-asian":!0,"font-variant-ligatures":!0,"font-variant-numeric":!0,"font-variant-position":!0,"font-weight":!0,grid:!1,"grid-area":!1,"grid-auto-columns":!1,"grid-auto-flow":!1,"grid-auto-rows":!1,"grid-column":!1,"grid-column-end":!1,"grid-column-start":!1,"grid-row":!1,"grid-row-end":!1,"grid-row-start":!1,"grid-template":!1,"grid-template-areas":!1,"grid-template-columns":!1,"grid-template-rows":!1,"hanging-punctuation":!1,height:!0,hyphens:!1,icon:!1,"image-orientation":!1,"image-resolution":!1,"ime-mode":!1,"initial-letters":!1,"inline-box-align":!1,"justify-content":!1,"justify-items":!1,"justify-self":!1,left:!1,"letter-spacing":!0,"lighting-color":!0,"line-box-contain":!1,"line-break":!1,"line-grid":!1,"line-height":!1,"line-snap":!1,"line-stacking":!1,"line-stacking-ruby":!1,"line-stacking-shift":!1,"line-stacking-strategy":!1,"list-style":!0,"list-style-image":!0,"list-style-position":!0,"list-style-type":!0,margin:!0,"margin-bottom":!0,"margin-left":!0,"margin-right":!0,"margin-top":!0,"marker-offset":!1,"marker-side":!1,marks:!1,mask:!1,"mask-box":!1,"mask-box-outset":!1,"mask-box-repeat":!1,"mask-box-slice":!1,"mask-box-source":!1,"mask-box-width":!1,"mask-clip":!1,"mask-image":!1,"mask-origin":!1,"mask-position":!1,"mask-repeat":!1,"mask-size":!1,"mask-source-type":!1,"mask-type":!1,"max-height":!0,"max-lines":!1,"max-width":!0,"min-height":!0,"min-width":!0,"move-to":!1,"nav-down":!1,"nav-index":!1,"nav-left":!1,"nav-right":!1,"nav-up":!1,"object-fit":!1,"object-position":!1,opacity:!1,order:!1,orphans:!1,outline:!1,"outline-color":!1,"outline-offset":!1,"outline-style":!1,"outline-width":!1,overflow:!1,"overflow-wrap":!1,"overflow-x":!1,"overflow-y":!1,padding:!0,"padding-bottom":!0,"padding-left":!0,"padding-right":!0,"padding-top":!0,page:!1,"page-break-after":!1,"page-break-before":!1,"page-break-inside":!1,"page-policy":!1,pause:!1,"pause-after":!1,"pause-before":!1,perspective:!1,"perspective-origin":!1,pitch:!1,"pitch-range":!1,"play-during":!1,position:!1,"presentation-level":!1,quotes:!1,"region-fragment":!1,resize:!1,rest:!1,"rest-after":!1,"rest-before":!1,richness:!1,right:!1,rotation:!1,"rotation-point":!1,"ruby-align":!1,"ruby-merge":!1,"ruby-position":!1,"shape-image-threshold":!1,"shape-outside":!1,"shape-margin":!1,size:!1,speak:!1,"speak-as":!1,"speak-header":!1,"speak-numeral":!1,"speak-punctuation":!1,"speech-rate":!1,stress:!1,"string-set":!1,"tab-size":!1,"table-layout":!1,"text-align":!0,"text-align-last":!0,"text-combine-upright":!0,"text-decoration":!0,"text-decoration-color":!0,"text-decoration-line":!0,"text-decoration-skip":!0,"text-decoration-style":!0,"text-emphasis":!0,"text-emphasis-color":!0,"text-emphasis-position":!0,"text-emphasis-style":!0,"text-height":!0,"text-indent":!0,"text-justify":!0,"text-orientation":!0,"text-overflow":!0,"text-shadow":!0,"text-space-collapse":!0,"text-transform":!0,"text-underline-position":!0,"text-wrap":!0,top:!1,transform:!1,"transform-origin":!1,"transform-style":!1,transition:!1,"transition-delay":!1,"transition-duration":!1,"transition-property":!1,"transition-timing-function":!1,"unicode-bidi":!1,"vertical-align":!1,visibility:!1,"voice-balance":!1,"voice-duration":!1,"voice-family":!1,"voice-pitch":!1,"voice-range":!1,"voice-rate":!1,"voice-stress":!1,"voice-volume":!1,volume:!1,"white-space":!1,widows:!1,width:!0,"will-change":!1,"word-break":!0,"word-spacing":!0,"word-wrap":!0,"wrap-flow":!1,"wrap-through":!1,"writing-mode":!1,"z-index":!1};return e}function a(e,t,n){}function c(e,t,n){}var l=/javascript\s*\:/gim;function u(e,t){return l.test(t)?"":t}var p={whiteList:s(),getDefaultWhiteList:s,onAttr:a,onIgnoreAttr:c,safeAttrValue:u},f={indexOf:function(e,t){var n,i;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var i,o;if(Array.prototype.forEach)return e.forEach(t,n);for(i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}};function h(e,t){";"!==(e=f.trimRight(e))[e.length-1]&&(e+=";");var n=e.length,i=!1,o=0,r=0,s="";function a(){if(!i){var n=f.trim(e.slice(o,r)),a=n.indexOf(":");if(-1!==a){var c=f.trim(n.slice(0,a)),l=f.trim(n.slice(a+1));if(c){var u=t(o,s.length,c,l,n);u&&(s+=u+"; ")}}}o=r+1}for(;r<n;r++){var c=e[r];if("/"===c&&"*"===e[r+1]){var l=e.indexOf("*/",r+2);if(-1===l)break;o=(r=l+1)+1,i=!1}else"("===c?i=!0:")"===c?i=!1:";"===c?i||a():"\n"===c&&a()}return f.trim(s)}var d=h;function g(e){return null==e}function m(e){var t={};for(var n in e)t[n]=e[n];return t}function _(e){(e=m(e||{})).whiteList=e.whiteList||p.whiteList,e.onAttr=e.onAttr||p.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||p.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||p.safeAttrValue,this.options=e}_.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this.options,n=t.whiteList,i=t.onAttr,o=t.onIgnoreAttr,r=t.safeAttrValue;return d(e,(function(e,t,s,a,c){var l=n[s],u=!1;if(!0===l?u=l:"function"==typeof l?u=l(a):l instanceof RegExp&&(u=l.test(a)),!0!==u&&(u=!1),a=r(s,a)){var p,f={position:t,sourcePosition:e,source:c,isWhite:u};return u?g(p=i(s,a,f))?s+":"+a:p:g(p=o(s,a,f))?void 0:p}}))};var y=_,v=i((function(e,t){function n(e,t){return new y(t).process(e)}for(var i in(t=e.exports=n).FilterCSS=y,p)t[i]=p[i];"undefined"!=typeof window&&(window.filterCSS=e.exports)})),b=(v.FilterCSS,{indexOf:function(e,t){var n,i;if(Array.prototype.indexOf)return e.indexOf(t);for(n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},forEach:function(e,t,n){var i,o;if(Array.prototype.forEach)return e.forEach(t,n);for(i=0,o=e.length;i<o;i++)t.call(n,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/.exec(e);return t?t.index:-1}}),E=v.FilterCSS,S=v.getDefaultWhiteList;function w(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var k=new E;function z(e,t,n){}function A(e,t,n){}function R(e,t,n){}function T(e,t,n){}function x(e){return e.replace(O,"&lt;").replace(I,"&gt;")}function D(e,t,n,i){if(n=F(n),"href"===t||"src"===t){if("#"===(n=b.trim(n)))return"#";if("http://"!==n.substr(0,7)&&"https://"!==n.substr(0,8)&&"mailto:"!==n.substr(0,7)&&"tel:"!==n.substr(0,4)&&"data:image/"!==n.substr(0,11)&&"ftp://"!==n.substr(0,6)&&"./"!==n.substr(0,2)&&"../"!==n.substr(0,3)&&"#"!==n[0]&&"/"!==n[0])return""}else if("background"===t){if(U.lastIndex=0,U.test(n))return""}else if("style"===t){if(L.lastIndex=0,L.test(n))return"";if(j.lastIndex=0,j.test(n)&&(U.lastIndex=0,U.test(n)))return"";!1!==i&&(n=(i=i||k).process(n))}return n=J(n)}var O=/</g,I=/>/g,G=/"/g,M=/&quot;/g,C=/&#([a-zA-Z0-9]*);?/gim,B=/&colon;?/gim,N=/&newline;?/gim,U=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,L=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,j=/u\s*r\s*l\s*\(.*/gi;function P(e){return e.replace(G,"&quot;")}function q(e){return e.replace(M,'"')}function K(e){return e.replace(C,(function(e,t){return"x"===t[0]||"X"===t[0]?String.fromCharCode(parseInt(t.substr(1),16)):String.fromCharCode(parseInt(t,10))}))}function V(e){return e.replace(B,":").replace(N," ")}function W(e){for(var t="",n=0,i=e.length;n<i;n++)t+=e.charCodeAt(n)<32?" ":e.charAt(n);return b.trim(t)}function F(e){return e=W(e=V(e=K(e=q(e))))}function J(e){return e=x(e=P(e))}function H(){return""}function X(e,t){"function"!=typeof t&&(t=function(){});var n=!Array.isArray(e);function i(t){return!!n||-1!==b.indexOf(e,t)}var o=[],r=!1;return{onIgnoreTag:function(e,n,s){if(i(e)){if(s.isClosing){var a="[/removed]",c=s.position+a.length;return o.push([!1!==r?r:s.position,c]),r=!1,a}return r||(r=s.position),"[removed]"}return t(e,n,s)},remove:function(e){var t="",n=0;return b.forEach(o,(function(i){t+=e.slice(n,i[0]),n=i[1]})),t+=e.slice(n)}}}function Z(e){for(var t="",n=0;n<e.length;){var i=e.indexOf("\x3c!--",n);if(-1===i){t+=e.slice(n);break}t+=e.slice(n,i);var o=e.indexOf("--\x3e",i);if(-1===o)break;n=o+3}return t}function Y(e){var t=e.split("");return(t=t.filter((function(e){var t=e.charCodeAt(0);return!(127===t||t<=31&&10!==t&&13!==t)}))).join("")}var $={whiteList:w(),getDefaultWhiteList:w,onTag:z,onIgnoreTag:A,onTagAttr:R,onIgnoreTagAttr:T,safeAttrValue:D,escapeHtml:x,escapeQuote:P,unescapeQuote:q,escapeHtmlEntities:K,escapeDangerHtml5Entities:V,clearNonPrintableCharacter:W,friendlyAttrValue:F,escapeAttrValue:J,onIgnoreTagStripAll:H,StripTagBody:X,stripCommentTag:Z,stripBlankChar:Y,cssFilter:k,getDefaultCSSWhiteList:S};function Q(e){var t,n=b.spaceIndex(e);return t=-1===n?e.slice(1,-1):e.slice(1,n+1),"/"===(t=b.trim(t).toLowerCase()).slice(0,1)&&(t=t.slice(1)),"/"===t.slice(-1)&&(t=t.slice(0,-1)),t}function ee(e){return"</"===e.slice(0,2)}function te(e,t,n){var i="",o=0,r=!1,s=!1,a=0,c=e.length,l="",u="";e:for(a=0;a<c;a++){var p=e.charAt(a);if(!1===r){if("<"===p){r=a;continue}}else if(!1===s){if("<"===p){i+=n(e.slice(o,a)),r=a,o=a;continue}if(">"===p||a===c-1){i+=n(e.slice(o,r)),l=Q(u=e.slice(r,a+1)),i+=t(r,i.length,l,u,ee(u)),o=a+1,r=!1;continue}if('"'===p||"'"===p)for(var f=1,h=e.charAt(a-f);""===h.trim()||"="===h;){if("="===h){s=p;continue e}h=e.charAt(a-++f)}}else if(p===s){s=!1;continue}}return o<c&&(i+=n(e.substr(o))),i}var ne=/[^a-zA-Z0-9\\_:.-]/gim;function ie(e,t){var n=0,i=0,o=[],r=!1,s=e.length;function a(e,n){if(!((e=(e=b.trim(e)).replace(ne,"").toLowerCase()).length<1)){var i=t(e,n||"");i&&o.push(i)}}for(var c=0;c<s;c++){var l,u=e.charAt(c);if(!1!==r||"="!==u)if(!1===r||c!==i){if(/\s|\n|\t/.test(u)){if(e=e.replace(/\s|\n|\t/g," "),!1===r){if(-1===(l=oe(e,c))){a(b.trim(e.slice(n,c))),r=!1,n=c+1;continue}c=l-1;continue}if(-1===(l=se(e,c-1))){a(r,ce(b.trim(e.slice(n,c)))),r=!1,n=c+1;continue}}}else{if(-1===(l=e.indexOf(u,c+1)))break;a(r,b.trim(e.slice(i+1,l))),r=!1,n=(c=l)+1}else r=e.slice(n,c),n=c+1,i='"'===e.charAt(n)||"'"===e.charAt(n)?n:re(e,c+1)}return n<e.length&&(!1===r?a(e.slice(n)):a(r,ce(b.trim(e.slice(n))))),b.trim(o.join(" "))}function oe(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"="===n?t:-1}}function re(e,t){for(;t<e.length;t++){var n=e[t];if(" "!==n)return"'"===n||'"'===n?t:-1}}function se(e,t){for(;t>0;t--){var n=e[t];if(" "!==n)return"="===n?t:-1}}function ae(e){return'"'===e[0]&&'"'===e[e.length-1]||"'"===e[0]&&"'"===e[e.length-1]}function ce(e){return ae(e)?e.substr(1,e.length-2):e}var le={parseTag:te,parseAttr:ie},ue=v.FilterCSS,pe=le.parseTag,fe=le.parseAttr;function he(e){return null==e}function de(e){var t=b.spaceIndex(e);if(-1===t)return{html:"",closing:"/"===e[e.length-2]};var n="/"===(e=b.trim(e.slice(t+1,-1)))[e.length-1];return n&&(e=b.trim(e.slice(0,-1))),{html:e,closing:n}}function ge(e){var t={};for(var n in e)t[n]=e[n];return t}function me(e){var t={};for(var n in e)Array.isArray(e[n])?t[n.toLowerCase()]=e[n].map((function(e){return e.toLowerCase()})):t[n.toLowerCase()]=e[n];return t}function _e(e){(e=ge(e||{})).stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=$.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=me(e.whiteList||e.allowList):e.whiteList=$.whiteList,e.onTag=e.onTag||$.onTag,e.onTagAttr=e.onTagAttr||$.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||$.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||$.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||$.safeAttrValue,e.escapeHtml=e.escapeHtml||$.escapeHtml,this.options=e,!1===e.css?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new ue(e.css))}_e.prototype.process=function(e){if(!(e=(e=e||"").toString()))return"";var t=this,n=t.options,i=n.whiteList,o=n.onTag,r=n.onIgnoreTag,s=n.onTagAttr,a=n.onIgnoreTagAttr,c=n.safeAttrValue,l=n.escapeHtml,u=t.cssFilter;n.stripBlankChar&&(e=$.stripBlankChar(e)),n.allowCommentTag||(e=$.stripCommentTag(e));var p=!1;n.stripIgnoreTagBody&&(p=$.StripTagBody(n.stripIgnoreTagBody,r),r=p.onIgnoreTag);var f=pe(e,(function(e,t,n,p,f){var h={sourcePosition:e,position:t,isClosing:f,isWhite:Object.prototype.hasOwnProperty.call(i,n)},d=o(n,p,h);if(!he(d))return d;if(h.isWhite){if(h.isClosing)return"</"+n+">";var g=de(p),m=i[n],_=fe(g.html,(function(e,t){var i=-1!==b.indexOf(m,e),o=s(n,e,t,i);return he(o)?i?(t=c(n,e,t,u))?e+'="'+t+'"':e:he(o=a(n,e,t,i))?void 0:o:o}));return p="<"+n,_&&(p+=" "+_),g.closing&&(p+=" /"),p+=">"}return he(d=r(n,p,h))?l(p):d}),l);return p&&(f=p.remove(f)),f};var ye=_e,ve=i((function(e,t){function n(e,t){return new ye(t).process(e)}function i(){return"undefined"!=typeof self&&"undefined"!=typeof DedicatedWorkerGlobalScope&&self instanceof DedicatedWorkerGlobalScope}(t=e.exports=n).filterXSS=n,t.FilterXSS=ye,function(){for(var e in $)t[e]=$[e];for(var n in le)t[n]=le[n]}(),"undefined"!=typeof window&&(window.filterXSS=e.exports),i()&&(self.filterXSS=e.exports)})),be=ve.filterXSS,Ee=ve.FilterXSS,Se=i((function(e){function t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(Se);var we=i((function(e){function t(e){if(Array.isArray(e))return Se(e)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(we);var ke=i((function(e){function t(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(ke);var ze=i((function(e){function t(e,t){if(e){if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Se(e,t):void 0}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(ze);var Ae=i((function(e){function t(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(Ae);var Re=t(i((function(e){function t(e){return we(e)||ke(e)||ze(e)||Ae()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),Te=i((function(e){function t(e){if(Array.isArray(e))return e}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(Te);var xe=i((function(e){function t(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,s,a=[],c=!0,l=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(i=r.call(n)).done)&&(a.push(i.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw o}}return a}}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(xe);var De=i((function(e){function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}));t(De);var Oe=t(i((function(e){function t(e,t){return Te(e)||xe(e,t)||ze(e,t)||De()}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports})));function Ie(e){var t=/^(?:([A-Za-z]+):)?(\/{0,3})([0-9.\-A-Za-z]+)(?::(\d+))?(?:\/([^?#]*))?(?:\?([^#]*))?(?:#(.*))?$/,n=e.match(t)||[],i=Oe(n,8);return{url:i[0],scheme:i[1],slash:i[2],host:i[3],port:i[4],path:i[5],query:i[6],hash:i[7]}}var Ge=function(e){return-1===e.indexOf("&#")?e.trim().toLowerCase():e.trim().replace(/&#(?:(x)([0-9a-f]+)|([0-9]+));?/gi,(function(e,t,n,i){return String.fromCharCode(t?parseInt(n,16):parseInt(i))})).toLowerCase()};function Me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if("string"!=typeof e)return!0;var t=(e=Ge(e)).replace(/(\t|\n|\r)/g,"");if(e!==t)return!1;if(/^javascript:/i.test(e)){var n=e.slice(11).replace(/\s/g,"").trim();return!!["void","void(0)","void0","false","undefined",";"].some((function(e){return e===n}))}return!0}var Ce=function(e){return Me(e)?e:"#"};function Be(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if("string"!=typeof e)return!0;if(!Me(e=Ge(e)))return!1;var i=Ie(e),o=i.scheme,s=i.host;return n?Boolean(n(e)):!["http","https","file"].includes(o)||("object"===("undefined"==typeof window?"undefined":r(window))&&window&&(t=[].concat(Re(t),[location.host])),t.some((function(e){return!!(e instanceof RegExp&&e.test(s))||e===s})))}var Ne,Ue="function"==typeof atob,Le="function"==typeof btoa,je="function"==typeof Buffer,Pe="function"==typeof TextDecoder?new TextDecoder:void 0,qe="function"==typeof TextEncoder?new TextEncoder:void 0,Ke="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ve=Array.prototype.slice.call(Ke),We=(Ne={},Ve.forEach((function(e,t){return Ne[e]=t})),Ne),Fe=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Je=String.fromCharCode.bind(String),He="function"==typeof Uint8Array.from?Uint8Array.from.bind(Uint8Array):function(e){return new Uint8Array(Array.prototype.slice.call(e,0))},Xe=function(e){return e.replace(/=/g,"").replace(/[+\/]/g,(function(e){return"+"==e?"-":"_"}))},Ze=function(e){return e.replace(/[^A-Za-z0-9\+\/]/g,"")},Ye=function(e){for(var t,n,i,o,r="",s=e.length%3,a=0;a<e.length;){if((n=e.charCodeAt(a++))>255||(i=e.charCodeAt(a++))>255||(o=e.charCodeAt(a++))>255)throw new TypeError("invalid character found");r+=Ve[(t=n<<16|i<<8|o)>>18&63]+Ve[t>>12&63]+Ve[t>>6&63]+Ve[63&t]}return s?r.slice(0,s-3)+"===".substring(s):r},$e=Le?function(e){return btoa(e)}:je?function(e){return Buffer.from(e,"binary").toString("base64")}:Ye,Qe=je?function(e){return Buffer.from(e).toString("base64")}:function(e){for(var t=4096,n=[],i=0,o=e.length;i<o;i+=t)n.push(Je.apply(null,e.subarray(i,i+t)));return $e(n.join(""))},et=function(e){if(e.length<2)return(t=e.charCodeAt(0))<128?e:t<2048?Je(192|t>>>6)+Je(128|63&t):Je(224|t>>>12&15)+Je(128|t>>>6&63)+Je(128|63&t);var t=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Je(240|t>>>18&7)+Je(128|t>>>12&63)+Je(128|t>>>6&63)+Je(128|63&t)},tt=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,nt=function(e){return e.replace(tt,et)},it=je?function(e){return Buffer.from(e,"utf8").toString("base64")}:qe?function(e){return Qe(qe.encode(e))}:function(e){return $e(nt(e))},ot=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Xe(it(e)):it(e)},rt=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,st=function(e){switch(e.length){case 4:var t=((7&e.charCodeAt(0))<<18|(63&e.charCodeAt(1))<<12|(63&e.charCodeAt(2))<<6|63&e.charCodeAt(3))-65536;return Je(55296+(t>>>10))+Je(56320+(1023&t));case 3:return Je((15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2));default:return Je((31&e.charCodeAt(0))<<6|63&e.charCodeAt(1))}},at=function(e){return e.replace(rt,st)},ct=function(e){if(e=e.replace(/\s+/g,""),!Fe.test(e))throw new TypeError("malformed base64.");e+="==".slice(2-(3&e.length));for(var t,n,i,o="",r=0;r<e.length;)t=We[e.charAt(r++)]<<18|We[e.charAt(r++)]<<12|(n=We[e.charAt(r++)])<<6|(i=We[e.charAt(r++)]),o+=64===n?Je(t>>16&255):64===i?Je(t>>16&255,t>>8&255):Je(t>>16&255,t>>8&255,255&t);return o},lt=Ue?function(e){return atob(Ze(e))}:je?function(e){return Buffer.from(e,"base64").toString("binary")}:ct,ut=je?function(e){return He(Buffer.from(e,"base64"))}:function(e){return He(lt(e).split("").map((function(e){return e.charCodeAt(0)})))},pt=je?function(e){return Buffer.from(e,"base64").toString("utf8")}:Pe?function(e){return Pe.decode(ut(e))}:function(e){return at(lt(e))},ft=function(e){return Ze(e.replace(/[-_]/g,(function(e){return"-"==e?"+":"/"})))},ht=function(e){return pt(ft(e))},dt=function(e){return e&&e.Math==Math&&e},gt=dt("object"===("undefined"==typeof globalThis?"undefined":r(globalThis))&&globalThis)||dt("object"===("undefined"==typeof window?"undefined":r(window))&&window)||dt("object"===("undefined"==typeof self?"undefined":r(self))&&self)||dt("object"===(void 0===n.g?"undefined":r(n.g))&&n.g)||Function("return this")(),mt={onIgnoreTagAttr:function(e,t,n){return e&&["href","src"].indexOf(t)>-1?mt.domainWhiteList&&Array.isArray(mt.domainWhiteList)&&mt.domainWhiteList.length>0&&!Be(n,Re(mt.domainWhiteList))?"":"".concat(t,'="').concat(Ce(n),'"'):e&&(["style","class","id"].indexOf(t)>-1||t.indexOf("data-")>-1)?"".concat(t,'="').concat(n,'"'):void(mt.xssLog&&mt.xssLog({type:"attr",tagName:e,attrName:t,value:n}))},onIgnoreTag:function(e,t){if("style"===e)return t;mt.xssLog&&mt.xssLog({type:"tag",tagName:e,value:t})},whiteList:{a:["target","title","spellcheck","rel"],canvas:[],abbr:["title"],address:[],area:["shape","coords","alt"],article:[],aside:[],audio:["autoplay","controls","loop","preload"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:["dir"],dl:[],dt:[],em:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["alt","title","width","height","decoding"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],sup:[],delete:[],form:[],strong:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],wbr:[],video:["autoplay","controls","loop","preload","height","width"],svg:["viewBox","version","xmlns","fill","width","height","stroke","stroke-width","style"],path:["d","fill","opacity","stroke","p-id","fill-rule","clip-rule","stroke-width","stroke-linecap","stroke-linejoin"],rect:["x","y","width","height","fill","stroke","rx"],g:[]}},_t=function(){var e,t;if(mt.bid)return mt.bid;var n=gt;if(n&&n._xssBid)return n._xssBid;if(n&&n.slardar&&"function"==typeof n.slardar.config){var i=(n.slardar.config()||{}).bid;if(i)return i}if(n&&n.Slardar&&"function"==typeof n.Slardar.config){var o=(n.Slardar.config()||{}).bid;if(o)return o}return(null===(t=null===(e=null==n?void 0:n.Slardar)||void 0===e?void 0:e._baseParams)||void 0===t?void 0:t.bid)||"argus"},yt=function(){var e;return mt.region?mt.region:((null===(e=null==gt?void 0:gt.gfdatav1)||void 0===e?void 0:e.region)||"cn").toLowerCase()},vt=function(){if(mt.reportUrl)return mt.reportUrl;var e={cn:ht("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boe:ht("aHR0cHM6Ly9tb24uemlqaWVhcGkuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),ttp:ht("aHR0cHM6Ly9tb24udXMudGlrdG9rdi5jb20vbW9uaXRvcl9icm93c2VyL2NvbGxlY3QvYmF0Y2gvc2VjdXJpdHkvP2JpZD0="),va:ht("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),sg:ht("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9"),boei18n:ht("aHR0cHM6Ly9tb24tdmEuYnl0ZW92ZXJzZWEuY29tL21vbml0b3JfYnJvd3Nlci9jb2xsZWN0L2JhdGNoL3NlY3VyaXR5Lz9iaWQ9")}[yt()];return e?e+_t():void 0};function bt(e){return new Ee(mt).process(e)}var Et=t(i((function(e){function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}e.exports=t,e.exports.__esModule=!0,e.exports.default=e.exports}))),St=i((function(e){var t=o.default;function n(e,n){if("object"!==t(e)||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,n||"default");if("object"!==t(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}));t(St);var wt=i((function(e){var t=o.default;function n(e){var n=St(e,"string");return"symbol"===t(n)?n:String(n)}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}));t(wt);var kt=t(i((function(e){function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,wt(i.key),i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),Object.defineProperty(e,"prototype",{writable:!1}),e}e.exports=n,e.exports.__esModule=!0,e.exports.default=e.exports}))),zt=new(function(){function e(){Et(this,e),this.batchData=[],this.uniqKeys=new Set,this.timeout=2e3,this.lock=!1}return kt(e,[{key:"upload",value:function(){var e=this,t=vt();!this.lock&&t&&0!==this.batchData.length&&"object"===("undefined"==typeof window?"undefined":r(window))&&(this.lock=!0,setTimeout((function(){var n=e.batchData.slice(0,100);e.batchData=e.batchData.slice(100),window.fetch(t,{method:"post",body:JSON.stringify(n),headers:{"Content-Type":"application/json"}}).catch((function(e){console.warn("xss defense report error",e)})),e.lock=!1,e.upload()}),this.timeout))}},{key:"generateKey",value:function(e){return["type","url","sourceText"].map((function(t){return e[t]})).join("___")}},{key:"push",value:function(e){var t=this.generateKey(e);this.uniqKeys.has(t)||(this.uniqKeys.add(t),this.batchData.push(e),this.upload())}}]),e}()),At=function(e){if("object"===("undefined"==typeof window?"undefined":r(window))&&window.fetch){var t={age:Math.floor(Date.now()),type:"xss",url:window.location.href,body:e,"user-agent":""};zt.push(t)}},Rt=function(e){var t=e.reportOnly,n=void 0===t||t,i=e.block;return n&&"all"===n?"report":i?"enforce":n?"report":"enforce"},Tt=function(e){return"string"==typeof e?e.replace(/\'/g,'"').replace('=""',"").replace(/\s+/g,"").toLowerCase():""},xt=function(e){return function(t,n,i){if(!t||"string"!=typeof t)return t;var o=e(t,n);if(Tt(o)===Tt(t))return t;if(!i)return o;var r=i.logType,s=Rt(i);return At({type:r,disposition:s,sourceText:ot(t),filterText:ot(o)}),"enforce"===s?o:t}},Dt=function(e){return function(t,n,i){var o=e(t);if(o===t)return t;var r=n||i||{};if(!r)return o;var s=r.logType,a=Rt(i);return At({type:s,disposition:a,sourceText:ot(t),filterText:ot(o)}),"enforce"===a?o:t}},Ot=xt(be),It=xt(bt),Gt=Dt(Ce),Mt=gt._xssProject||{},Ct="2.0.80",Bt={FilterXSS:Ee,version:Ct,filterXSS:Ot,_filterXSS:It,filterUrl:Gt,Config:mt,project:Mt,setProjectName:function(e){Mt[e]=this,gt._xssProjectName=e}};Mt[Ct]=Bt,gt.globalThis=gt,gt.getFilterXss=function(){return void 0!==this._xssProjectName?this._xssProject[this._xssProjectName]:Bt},gt.xss=Bt,gt.isSafeUrl=Be,gt._xssProject=Mt,gt._xssProjectName&&(Mt[gt._xssProjectName]=Bt);var Nt=Bt.setProjectName.bind(Bt);e.Config=mt,e.FilterXSS=Ee,e._filterXSS=It,e.filterUrl=Gt,e.filterXSS=Ot,e.isSafeUrl=Be,e.project=Mt,e.setProjectName=Nt,Object.defineProperty(e,"__esModule",{value:!0})}(t)},77409:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c});const i=n(58662).C;var o,r=function(){return r=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)};function s(e,t,n){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function o(){return!e||"string"==typeof e}void 0===n&&(n=null);for(var r="string"!=typeof t?[].concat(t):t.split(".");r.length>1;){if(o())return{};var s=i(r.shift());!e[s]&&n&&(e[s]=new n),e=e[s]}return o()?{}:{obj:e,k:i(r.shift())}}!function(e){e.keepRaw="keepRaw",e.replaceAnyway="replaceAnyway"}(o||(o={}));o.replaceAnyway;var a={memorize:!1,memoizeFallback:!1,bindI18n:!1,bindI18nStore:!1,onParseError:o.replaceAnyway},c=function(){function e(){this.mem={}}return e.staticInit=function(t){e._i18nextInstance=t},e.prototype.init=function(t,n){var o=this;void 0===t&&(t=e._i18nextInstance);var r={};if((null==t?void 0:t.options)&&(t.options.i18nFormat&&(r=t.options.i18nFormat),r.onParseError=t.options.onParseError,r.missingInterpolationHandler=t.options.missingInterpolationHandler,r.icuConfig=t.options.icuConfig,r.ignoreWarning=!!t.options.ignoreWarning),this.options=Object.assign(a,n,r),this.formats=this.options.formats,t){var s=this.options,c=s.bindI18n,l=s.bindI18nStore,u=s.memorize;t.IntlMessageFormat=i,this.IntlMessageFormat=i,t.ICU=this,u&&(c&&t.on(c,(function(){return o.clearCache()})),l&&t.store.on(l,(function(){return o.clearCache()})))}this.options.localeData&&("[object Array]"===Object.prototype.toString.apply(this.options.localeData)?this.options.localeData.forEach((function(e){return o.addLocaleData(e)})):this.addLocaleData(this.options.localeData))},e.prototype.addLocaleData=function(e){("[object Array]"===Object.prototype.toString.apply(e)?e:[e]).forEach((function(e){e&&e.locale&&i.__addLocaleData(e)}))},e.prototype.addUserDefinedFormats=function(e){this.formats=this.formats?r(r({},this.formats),e):e},e.prototype.checkMissingInterpolation=function(e,t,n,i,r){if(!1===(this.options.icuConfig||{}).strict)return n;for(var s={},a=0,c=e;a<c.length;a++){var l=c[a];if(1===l.type){var u=l.value;if(null===n[u]||void 0===n[u]){if("function"==typeof this.options.missingInterpolationHandler){var p=this.options.missingInterpolationHandler({key:r,text:t,locale:i,interpolation:{key:u,val:n[u]}});if("string"==typeof p){s[u]=p;continue}}switch(this.options.onParseError){case o.keepRaw:throw new Error;case o.replaceAnyway:s[u]="{"+u+"}";continue}if("function"==typeof this.options.onParseError){console.warn("[DEPRECATED] onParseError is deprecated, please use 'missingInterpolationHandler' instead of");var f=this.options.onParseError(t,u,i,this.IntlMessageFormat);if(!0===f)throw new Error;s[u]="string"==typeof f?f:"{"+u+"}"}else this.options.ignoreWarning||console.warn('[Starling ICU Warning] The interpolation parameter "{'+u+'}" is missing in the translation text "'+t+'" for the key "'+r+"\"\nSuggestions: check whether the value is null or undefined. Try using empty string '' as fallback! e.g I18n.t('key', { apple: count || '' })"),s[u]="{"+u+"}"}}}return Object.assign({},n,s)},e.prototype.parse=function(e,t,n,i,o,r){var a,c,l,u,p=r&&r.resolved&&r.resolved.res,f=this.options.memorize&&n+"."+i+"."+o.replace(/\./g,"###");!p&&t.thirdParamFallback&&t.fallbackText&&(e=t.fallbackText),this.options.memorize&&(a=function(e,t){var n=s(e,t),i=n.obj,o=n.k;if(i)return i[o]}(this.mem,f));try{return a||(a=new this.IntlMessageFormat(e,n,this.formats,(this.options.icuConfig||{}).formatOptions),this.options.memorize&&(this.options.memoizeFallback||!r||p)&&(c=this.mem,l=a,(u=s(c,f,Object)).obj[u.k]=l)),a.format(this.checkMissingInterpolation(a.getAst(),e,t||{},n,o))}catch(t){return e}},e.prototype.addLookupKeys=function(e,t,n,i,o){return e},e.prototype.clearCache=function(){this.mem={}},e.type="i18nFormat",e._i18nextInstance=null,e}();c.name},58662:(e,t,n)=>{"use strict";n.d(t,{C:()=>f});var i,o=n(70655),r=n(28407),s=n(95957),a=n(10886);function c(e){return"function"==typeof e}function l(e,t,n,o,s,u,p){if(1===e.length&&(0,r.O4)(e[0]))return[{type:i.literal,value:e[0].value}];for(var f=[],h=0,d=e;h<d.length;h++){var g=d[h];if((0,r.O4)(g))f.push({type:i.literal,value:g.value});else if((0,r.yx)(g))"number"==typeof u&&f.push({type:i.literal,value:n.getNumberFormat(t).format(u)});else{var m=g.value;if(!s||!(m in s))throw new a.HR(m,p);var _=s[m];if((0,r.VG)(g))_&&"string"!=typeof _&&"number"!=typeof _||(_="string"==typeof _||"number"==typeof _?String(_):""),f.push({type:"string"==typeof _?i.literal:i.object,value:_});else if((0,r.rp)(g)){var y="string"==typeof g.style?o.date[g.style]:(0,r.Ii)(g.style)?g.style.parsedOptions:void 0;f.push({type:i.literal,value:n.getDateTimeFormat(t,y).format(_)})}else if((0,r.pe)(g)){y="string"==typeof g.style?o.time[g.style]:(0,r.Ii)(g.style)?g.style.parsedOptions:o.time.medium;f.push({type:i.literal,value:n.getDateTimeFormat(t,y).format(_)})}else if((0,r.uf)(g)){(y="string"==typeof g.style?o.number[g.style]:(0,r.Wh)(g.style)?g.style.parsedOptions:void 0)&&y.scale&&(_*=y.scale||1),f.push({type:i.literal,value:n.getNumberFormat(t,y).format(_)})}else{if((0,r.HI)(g)){var v=g.children,b=g.value,E=s[b];if(!c(E))throw new a.YR(b,"function",p);var S=E(l(v,t,n,o,s,u).map((function(e){return e.value})));Array.isArray(S)||(S=[S]),f.push.apply(f,S.map((function(e){return{type:"string"==typeof e?i.literal:i.object,value:e}})))}if((0,r.Wi)(g)){if(!(w=g.options[_]||g.options.other))throw new a.C8(g.value,_,Object.keys(g.options),p);f.push.apply(f,l(w.value,t,n,o,s))}else if((0,r.Jo)(g)){var w;if(!(w=g.options["=".concat(_)])){if(!Intl.PluralRules)throw new a.u_('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',a.jK.MISSING_INTL_API,p);var k=n.getPluralRules(t,{type:g.pluralType}).select(_-(g.offset||0));w=g.options[k]||g.options.other}if(!w)throw new a.C8(g.value,_,Object.keys(g.options),p);f.push.apply(f,l(w.value,t,n,o,s,_-(g.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===i.literal&&t.type===i.literal?n.value+=t.value:e.push(t),e}),[])}(f)}function u(e,t){return t?Object.keys(e).reduce((function(n,i){var r,s;return n[i]=(r=e[i],(s=t[i])?(0,o.pi)((0,o.pi)((0,o.pi)({},r||{}),s||{}),Object.keys(r).reduce((function(e,t){return e[t]=(0,o.pi)((0,o.pi)({},r[t]),s[t]||{}),e}),{})):r),n}),(0,o.pi)({},e)):e}function p(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(i||(i={}));var f=function(){function e(t,n,r,a){var c,f=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=f.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===i.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return l(f.ast,f.locales,f.formatters,f.formats,e,void 0,f.message)},this.resolvedOptions=function(){return{locale:f.resolvedLocale.toString()}},this.getAst=function(){return f.ast},this.locales=n,this.resolvedLocale=e.resolveLocale(n),"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==a?void 0:a.ignoreTag,locale:this.resolvedLocale})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=u(e.formats,r),this.formatters=a&&a.formatters||(void 0===(c=this.formatterCache)&&(c={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:(0,s.Z)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,(0,o.ev)([void 0],t,!1)))}),{cache:p(c.number),strategy:s.A.variadic}),getDateTimeFormat:(0,s.Z)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,(0,o.ev)([void 0],t,!1)))}),{cache:p(c.dateTime),strategy:s.A.variadic}),getPluralRules:(0,s.Z)((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,(0,o.ev)([void 0],t,!1)))}),{cache:p(c.pluralRules),strategy:s.A.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.resolveLocale=function(e){var t=Intl.NumberFormat.supportedLocalesOf(e);return t.length>0?new Intl.Locale(t[0]):new Intl.Locale("string"==typeof e?e:e[0])},e.__parse=r.Qc,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}()},10886:(e,t,n)=>{"use strict";n.d(t,{C8:()=>s,HR:()=>c,YR:()=>a,jK:()=>i,u_:()=>r});var i,o=n(70655);!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(i||(i={}));var r=function(e){function t(t,n,i){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=i,o}return(0,o.ZT)(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),s=function(e){function t(t,n,o,r){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(o).join('", "'),'"'),i.INVALID_VALUE,r)||this}return(0,o.ZT)(t,e),t}(r),a=function(e){function t(t,n,o){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),i.INVALID_VALUE,o)||this}return(0,o.ZT)(t,e),t}(r),c=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),i.MISSING_VALUE,n)||this}return(0,o.ZT)(t,e),t}(r)},50853:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=function(){return i=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)},o=/^\s*\[\[__starling_(\d+)_(.*)__\]\]\s*$/;"undefined"!=typeof window&&(window.__STARLING_INCONTEXT_GLOBAL__HOOK__=i({},window.__STARLING_INCONTEXT_GLOBAL__HOOK__||{payload:{}}));var r={name:"inContext",type:"postProcessor",process:function(e,t,n,i){if(window&&document.getElementById("INCONTEXT-KEY-MATCH")&&!n.__STARLING_INCONTEXT_FLAG__){window.__STARLING_INCONTEXT_GLOBAL_I18N__||(window.__STARLING_INCONTEXT_GLOBAL_I18N__=i),delete n.keySeparator,delete n.lngs;var r=0;if(t=t.toString(),o.test(t))(s=t.match(o))[0],r=s[1],t=s[2];if(o.test(e)){var s;(s=e.match(o))[0];s[1];e=s[2]}return window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]?r=window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t].push({options:n,default:e})-1:(window.__STARLING_INCONTEXT_GLOBAL__HOOK__.payload[t]=[{options:n,default:e}],r=0),"[[__starling_"+r+"_"+t+"__]]"}return e}}},63518:(e,t)=>{"use strict";function n(e){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}function i(e){var t=function(e,t){if("object"!=n(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var o=i.call(e,t||"default");if("object"!=n(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==n(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var a=function(e,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},a(e,t)};var c=function(){return c=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},c.apply(this,arguments)};function l(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function u(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var p=function(e){function t(t,n,i){var o=e.call(this,n)||this;return o.code=t,o.message=n,o.originError=i,o.name="StarlingError",o.code=t,o.message=n,o.originError=i,Error.captureStackTrace&&Error.captureStackTrace(o,o.constructor),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),f={ERROR_CODE:101,ERROR_MESSAGE:"Request for loadText failed!"},h={ERROR_CODE:103,ERROR_MESSAGE:"Request failed, confirm your apiKey and namespace is correct"},d={ERROR_CODE:110,ERROR_MESSAGE:"Check your params, parameter apiKey, namespace and zoneHost is required!"},g={ERROR_CODE:111,ERROR_MESSAGE:"Check your params, parameter request and store is required!"},m={ERROR_CODE:112,ERROR_MESSAGE:"Cache error!"},_={ERROR_CODE:120,ERROR_MESSAGE:"Version is not found, please check your param [version]!"},y={zone:"CN",locale:"zh",timeout:15e3,test:!1,mode:"normal",format:"merged",lazyUpdate:!1,fallbackLang:["zh"],tracker:function(){},cache:!0,cdn:""};var v=function(){function e(e){this.options=e,this.options=e}return e.prototype.getText=function(e,t){return l(this,void 0,void 0,(function(){return u(this,(function(n){switch(n.label){case 0:return[4,this._request(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map((function(e){var n=e[0],i=e[1];return t.getText(n,i)})))},e.prototype._request=function(e,t){return l(this,void 0,void 0,(function(){var n,i,o,r,s,a,c,l,d,g,m,y,v,b,E,S,w,k,z,A,R,T,x,D,O,I,G,M,C,B,N,U,L;return u(this,(function(u){switch(u.label){case 0:if(n=this.options,i=n.getReleaseVersion,o=n.cdn,r=n.fallbackLang,s=n.locale,a=i(e),e&&a&&t)return[2,{}];if(c=this.getUrl(e,t),l=this.options,d=l.request,g=l.timeout,!o)return[3,7];y=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=Array(e),o=0;for(t=0;t<n;t++)for(var r=arguments[t],s=0,a=r.length;s<a;s++,o++)i[o]=r[s];return i}([s],r),v=[],E=(b=f).ERROR_CODE,S=b.ERROR_MESSAGE,w=0,k=y,u.label=1;case 1:if(!(w<k.length))return[3,6];z=k[w],u.label=2;case 2:return u.trys.push([2,4,,5]),[4,d(this.getUrl(e,t,z),{timeout:g})];case 3:if(A=u.sent(),R=A.data,T=R.status,x=R.message,200==+T)return[2,this._mapResponse(x)];throw new p(E,S);case 4:return D=u.sent(),v.push(D),v.length===y.length?[2,this._mapResponse({data:{},updated:!1})]:[3,5];case 5:return w++,[3,1];case 6:return[3,9];case 7:return[4,d(c,{timeout:g})];case 8:m=u.sent(),u.label=9;case 9:if(O=m.data,I=O.status,G=O.message,200==+I)return[2,this._mapResponse(G)];if(1001==+I)throw C=(M=_).ERROR_CODE,B=M.ERROR_MESSAGE,new p(C,B);throw U=(N=h).ERROR_CODE,L=N.ERROR_MESSAGE,new p(U,L)}}))}))},e.prototype.getUrl=function(e,t,n){var i=this.options,o=i.apiKey,r=i.locale,s=i.fallbackLang,a=i.zoneHost,c=i.mode,l=i.getReleaseVersion,u=i.cdn,p=[r].concat(s),f=a+"/check_and_get_text/"+o+"/"+c+"/"+e+"?lang="+p,h=l(e);return h&&(f=a+"/text_by_release_version/"+o+"/"+c+"/"+e+"/"+h+"?lang="+p),"string"==typeof t&&(f+="&version="+t),u&&(f=u+"/"+o+"/"+c+"/"+e+"/"+(n||r)+".json"),f},e.prototype._mapResponse=function(e){return e?Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{}):{}},e}(),b=function(){function e(e){this.options=e,this.options=e}return e.prototype._setCache=function(e,t,n){if(!this.options.cdn)try{return this.options.store.set(e,t)}catch(e){var i=m.ERROR_CODE;return this.options.tracker("cache_error",{code:i,message:e.message,stack:e.stack}),void(n&&n())}},e.prototype._getCache=function(e){var t=this.options,n=t.store,i=t.cache,o=t.cdn;try{if(o)return;return i&&n.get(e)}catch(e){var r=m.ERROR_CODE;return void this.options.tracker("cache_error",{code:r,message:e.message,stack:e.stack})}},e.prototype.getVersion=function(e){var t=this.options,n="version."+t.apiKey+"."+e+"."+t.locale,i=(0,t.getReleaseVersion)(e);i&&(n+="."+i);var o=this.getText(e);return o&&"object"==typeof o?"object"==typeof o&&o.then?this._getCache(n):"object"==typeof o&&0===Object.keys(o||{}).length?null:this._getCache(n):null},e.prototype.getVersions=function(e){var t=this;return Promise.all(e.map((function(e){return t.getVersion(e)})))},e.prototype.getText=function(e){var t=this.options,n="text."+t.apiKey+"."+e+"."+t.locale,i=(0,t.getReleaseVersion)(e);return i&&(n+="."+i),this._getCache(n)},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map((function(e){return t.getText(e)})))},e.prototype.refresh=function(e,t,n,i){return l(this,void 0,void 0,(function(){var o,r,s,a,c,l=this;return u(this,(function(u){switch(u.label){case 0:return o=this.options,r=o.apiKey,s=o.getReleaseVersion,a=o.cache,c=[],t.forEach((function(o,u){var p="text."+r+"."+e[u]+"."+i[u],f="version."+r+"."+e[u]+"."+i[u],h=s(e[u]);h&&(p+="."+h,f+="."+h),a&&(c.push(l._setCache(p,t[u],(function(){l.options.store.set(p,{})}))),c.push(l._setCache(f,n[u])))})),[4,Promise.all(c)];case 1:return u.sent(),[2,t.reduce((function(e,t){return Object.assign(e,t)}),{})]}}))}))},e}();var E=function(){function e(e){void 0===e&&(e=[]),this._list=[],this._list=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.getList=function(){return this._list},e.prototype.getNamespaces=function(){return this._list.map((function(e){return e.namespace}))},e.prototype.addNamespace=function(e){this._list.push(e)},e.prototype.insertTexts=function(e){this._list.forEach((function(t,n){t.texts=e[n]}))},e.prototype.sortByPrior=function(){return this._list.sort((function(e,t){return e.prior-t.prior})),this._list},e.prototype.concat=function(t){return new e(this._list.concat(t.getList()))},e}(),S=function(){function e(e,t,n){this._promiseRefresh=Promise.resolve(null),this.remote=e,this.local=t,this.options=n}return e.prototype._checkVersions=function(e){return l(this,void 0,void 0,(function(){var t,n,i,o,r,s;return u(this,(function(a){switch(a.label){case 0:return t=this.options.locale,[4,this.local.getVersions(e)];case 1:return n=a.sent(),i=e.map((function(e,t){return[e,n[t]]})),[4,this.remote.getTexts(i)];case 2:return o=a.sent(),r=new E,s=new E,e.forEach((function(e,i){var a=o[i],c=a.updated,l=a.version,u=a.data,p=a.lang;c?s.addNamespace({namespace:e,prior:i,version:l,texts:u,lang:p}):r.addNamespace({namespace:e,prior:i,version:n[i],lang:t})})),[2,{equalNs:r,diffNs:s}]}}))}))},e.prototype.waitForRefresh=function(){return this._promiseRefresh},e.prototype._refresh=function(e){var t=e.getList(),n=[],i=[],o=[],r=[];return t.forEach((function(e){n.push(e.namespace),i.push(e.version),o.push(e.texts),r.push(e.lang)})),this.local.refresh(n,o,i,r)},e.prototype._getLocalTexts=function(e){return l(this,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return[4,this.local.getTexts(e.getNamespaces())];case 1:return t=n.sent(),e.insertTexts(t),[2,t]}}))}))},e.prototype.load=function(e){return l(this,void 0,void 0,(function(){var t,n,i,o,r;return u(this,(function(s){switch(s.label){case 0:return t=this.options.format,[4,this._checkVersions(e)];case 1:return n=s.sent(),i=n.equalNs,o=n.diffNs,i.length?[4,this._getLocalTexts(i)]:[3,3];case 2:return s.sent(),[3,4];case 3:s.label=4;case 4:return r=this._formatTexts(t,o.concat(i)),o.length?[4,this._refresh(o)]:[3,6];case 5:s.sent(),s.label=6;case 6:return[2,{texts:r,diffNs:o.getNamespaces(),equalNs:i.getNamespaces()}]}}))}))},e.prototype._getCacheText=function(e){return l(this,void 0,void 0,(function(){var t,n,i,o,r,s,a;return u(this,(function(c){switch(c.label){case 0:return t=this.options,n=t.locale,i=t.format,[4,this.local.getTexts(e)];case 1:return o=c.sent(),[4,this.local.getVersions(e)];case 2:return r=c.sent(),s=o.map((function(t,i){if(t)return{namespace:e[i],version:r[i],lang:n,texts:t}})).filter((function(e){return!!e})),a=new E(s),[2,{texts:this._formatTexts(i,a),cacheAllLoaded:s.length===o.length}]}}))}))},e.prototype.lazyLoad=function(e){return l(this,void 0,void 0,(function(){var t,n,i,o,r;return u(this,(function(s){switch(s.label){case 0:return[4,this._getCacheText(e)];case 1:return t=s.sent(),n=t.texts,i=t.cacheAllLoaded,o=0===Object.keys(n).length||!i,this._promiseRefresh=this.load(e),o?[4,this._promiseRefresh]:[3,3];case 2:r=s.sent(),n=r.texts,s.label=3;case 3:return[2,{texts:n,diffNs:o?r&&r.diffNs:[],equalNs:o?r&&r.equalNs:e}]}}))}))},e.prototype._formatTexts=function(e,t){if("splitted"===e)return t.getList().reduce((function(e,t){var n=t.namespace,i=t.lang,o=t.texts,r=t.version;return e[n]={lang:i,texts:o,version:r},e}),{});var n,i,o=t.sortByPrior().map((function(e){return e.texts}));return n=o,(i?n.concat(i):n).reduce((function(e,t){return Object.assign(e,t)}),{})},e}();"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},writable:!0,configurable:!0});var w,k="client_exception",z="client_load",A="client_cache",R="client_load_time";!function(e){e.AfterLoad="afterLoad"}(w||(w={}));var T=function(){function e(e){this.afterLoadPlugins=[],this.setConfig(e)}return e.prototype._init=function(e){var t=this;this.options=function(e){var t=(e=Object.assign({},y,e)).namespace,n=e.apiKey,i=e.request,o=e.store,r=e.zoneHost,s=e.test,a=e.cdn;if(s&&(e.mode="test"),e.namespace=t=t?Array.isArray(t)?t:[t]:[],e.apiKey=n=n||e.api_key,!i||!a&&!o){var c=g,l=c.ERROR_CODE,u=c.ERROR_MESSAGE;throw new p(l,u,null)}if(!n||!t.length||!a&&!r){var f=d;throw l=f.ERROR_CODE,u=f.ERROR_MESSAGE,new p(l,u,null)}return e}(e);var n=this.options,i=n.apiKey,o=n.locale,r=n.zoneHost,s=n.request,a=n.timeout,l=n.fallbackLang,u=n.store,f=n.lazyUpdate,h=n.test,m=n.mode,_=n.format,E=n.cache,w=n.cdn,k={mode:f?"lazy":h?"test":"prod",zone:r,cdn:w,locale:o,apiKey:i};this._tracker=function(e,n){try{t.options.tracker(e,c(c({},k),n))}catch(e){console.log(e)}};var z=this._getReleaseVersionByNamespace.bind(this),A=new v({request:s,timeout:a,apiKey:i,locale:o,zoneHost:r,fallbackLang:l,mode:m,getReleaseVersion:z,cdn:w}),R=new b({apiKey:i,locale:o,store:u,tracker:this._tracker,getReleaseVersion:z,cache:E,cdn:w});this._textManager=new S(A,R,{locale:o,format:_}),this.initPlugin()},e.prototype.initPlugin=function(){var e=this,t=this.options.plugins||[];Array.isArray(t)&&t.every((function(e){return"object"==typeof e}))&&t.forEach((function(t){t.type===w.AfterLoad&&e.afterLoadPlugins.push(t)}))},e.prototype._getReleaseVersionByNamespace=function(e){var t=this.options.namespace,n=this.options.version,i=null;if(Array.isArray(n)){var o=t.findIndex((function(t){return t===e}));i=n[o]}else n&&"object"==typeof n?i=n[e]:"string"==typeof n&&(i=n);return i},e.prototype.setConfig=function(e){var t=Object.assign({},this.options,e);this._init(t)},e.prototype.waitForRefresh=function(){return l(this,void 0,void 0,(function(){var e;return u(this,(function(t){switch(t.label){case 0:return[4,this._textManager.waitForRefresh()];case 1:return[2,(e=t.sent())?e.texts:null]}}))}))},e.prototype._load=function(){return l(this,void 0,void 0,(function(){var e,t,n,i,o;return u(this,(function(r){switch(r.label){case 0:return e=this.options,t=e.namespace,n=e.lazyUpdate,i=t,n?[4,this._textManager.lazyLoad(i)]:[3,2];case 1:return o=r.sent(),[3,4];case 2:return[4,this._textManager.load(i)];case 3:o=r.sent(),r.label=4;case 4:return[2,o]}}))}))},e.prototype.load=function(e,t){return l(this,void 0,void 0,(function(){var n,i,o,r,s,a,c,l,p,f,h,d,g,m,_=this;return u(this,(function(u){switch(u.label){case 0:n=Date.now(),i=this.options.namespace,u.label=1;case 1:return u.trys.push([1,5,,10]),this._tracker(z,{state:"start",version:"0.5.16"}),[4,this._load()];case 2:return o=u.sent(),r=o.diffNs,s=o.equalNs,a=o.texts,c=this.afterLoadPlugins,Array.isArray(c)&&c.length?[4,c.reduce((function(e,t){return e.then((function(e){return"function"==typeof t.process?t.process(e||a,_.options):e}))}),Promise.resolve(a))]:[3,4];case 3:l=u.sent(),a=l||a,u.label=4;case 4:return e&&e(a),this._tracker(R,{time:Date.now()-n}),this._tracker(z,{state:"success",version:"0.5.16"}),p=r.length,f=s.length,h=i.length,d=(f/h).toFixed(2),this._tracker(A,{diffLen:p,diff:r.join(","),equalLen:f,equal:s.join(","),namespaces:s.join(","),namespacesLen:h,ratio:d}),[2,a];case 5:g=u.sent(),this._tracker(z,{state:"fail"}),this._tracker(k,{code:g.code,message:g.message,stack:g.stack}),u.label=6;case 6:return u.trys.push([6,8,,9]),[4,this._textManager._getCacheText(i)];case 7:return m=u.sent().texts,g.response=m&&"object"==typeof m?{data:m}:{data:{}},[3,9];case 8:return u.sent(),[3,9];case 9:return t?(t(g),[3,10]):[2,Promise.reject(g)];case 10:return[2]}}))}))},e}();var x=new(function(){function e(){}return e.prototype.get=function(e){if(localStorage&&localStorage.getItem)return function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}}(localStorage.getItem(e))},e.prototype.set=function(e,t){localStorage&&localStorage.setItem&&localStorage.setItem(e,function(e){return JSON.stringify(e)}(t))},e}()),D=function(e){function t(t,n,i,o,r,s){var a=e.call(this,t)||this;return a.url=n,a.code=i,a.request=o,a.response=r,a.useWebCache=s,a.url=n,a.code=i,a.request=o,a.response=r,a.useWebCache=!!s,a}return s(t,e),t}(Error);function O(e,t){var n=t.timeout;return new Promise((function(t,i){var o=new XMLHttpRequest;o.open("GET",e),o.overrideMimeType("application/json; charset=utf-8"),o.withCredentials=!1,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var n=function(e){try{return JSON.parse(e)}catch(e){return{}}}(o.responseText),r=function(e){return e.message&&"object"==typeof e.message?e:null}(n);if(o.status<200||o.status>=300||!r)return function(e,t,n,i){var o=(i||{}).message||"";o=o?", reason is: ".concat(o):"",t(new D("Request failed with status code "+e.status+o,n,null,e,{data:{}},!0))}(o,i,e,n),void(o=null);var s={data:r,status:o.status,statusText:o.statusText,request:o};t(s),o=null}},o.onerror=function(){i(new D("Network Error",e,null,o,{data:{}},!0)),o=null},o.timeout=n,o.ontimeout=function(){i(new D("timeout of "+n+"ms exceeded",e,"ECONNABORTED",o,{data:{}},!0)),o=null},o.send()}))}var I=function(e){function t(t){return t.store||(t.store=x),t.request||(t.request=O),e.call(this,t)||this}return s(t,e),t}(T),G=function(){return(G=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function M(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function C(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(M(arguments[t]));return e}var B,N,U,L=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,(function i(o){t(o),n.off(e,i)}))},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length)if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]},e.prototype.emit=function(e,t,n){if(n){if(!e)return;-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))}else this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&C(this._hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),j=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},P=(B=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return B+=1}),q=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var i,o=[];n=n<=25?n:n%25;var r=String.fromCharCode(n+97);i=e.split(r);for(var s=0;s<i.length;s++){var a=parseInt(i[s],n);a=1*a^64;var c=String.fromCharCode(a);o.push(c)}return o.join("")}}(e,0,25)},K=function(e){var t=document.createElement("a");return t.href=e,t},V=function(e){var t={};try{var n=K(e).search;(n=n.slice(1)).split("&").forEach((function(e){var n,i,o=e.split("=");o.length&&(n=o[0],i=o[1]);try{t[n]=decodeURIComponent(void 0===i?"":i)}catch(e){t[n]=i}}))}catch(e){}return t},W=function(e,t){return function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function o(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in r)r[c]&&(a+="; "+c,!0!==r[c]&&(a+="="+r[c].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],s=0;s<r.length;s++){var a=r[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(a[0]);if(c=(i.read||i)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=r,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,n){r(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},e.exports=n()}(t={exports:{}}),t.exports}(),F=function(e,t){try{return W.get(e)}catch(e){return""}},J=function(e,t,n,i){try{var o=i||document.domain,r=+new Date+(n||6048e5);W.set(e,t,{expires:new Date(r),path:"/",domain:o})}catch(e){}},H=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return F(e)},e.prototype.setCookie=function(e,t,n,i){J(e,t,n,i)},e}(),X={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return F(e)},setCookie:function(e,t,n,i){J(e,t,n,i)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},Z={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return F(e)},setCookie:function(e,t,n,i){J(e,t,n,i)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},Y=function(){function e(e,t){this._storage=t&&"session"===t?Z:!e&&X.isSupportLS?X:new H}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,i){this._storage.setCookie(e,t,n,i)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),$=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,i=n?K(n).hostname:"",o=V(window.location.href),r=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,i){var o=new Y(!1,"session"),r=e?"_$utm_from_url_"+e:"_$utm_from_url",s={},a=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],c={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var l=!1;for(var u in c)c[u]&&(-1!==a.indexOf(u)?(s.hasOwnProperty("tracer_data")||(s.tracer_data={}),s.tracer_data[u]=c[u]):s[u]=c[u],l=!0);l&&o.setItem(r,"1"),o.getItem(r)&&(s.hasOwnProperty("tracer_data")||(s.tracer_data={}),s.tracer_data.$utm_from_url=1)}catch(e){return c}return s}(this.appid,o,this.domain,this.cookie_expire);var s=this.browser(),a=this.os();return{browser:s.browser,browser_version:s.browser_version,platform:r,os_name:a.os_name,os_version:a.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(a.os_name),language:t,referrer:n,referrer_host:i,utm:this.utm,latest_data:this.last(n,i)}},e.prototype.last=function(e,t){var n="",i="",o="",r=location.hostname,s=!1;if(e&&t&&r!==t){n=e,i=t,s=!0;var a=V(e);a.keyword&&(o=a.keyword)}return{$latest_referrer:n,$latest_referrer_host:i,$latest_search_keyword:o,isLast:s}},e.prototype.browser=function(){var e,t,n="",i=""+parseFloat(this.appVersion),o=this.userAgent;return-1!==o.indexOf("Edge")||-1!==o.indexOf("Edg")?(n="Microsoft Edge",-1!==o.indexOf("Edge")?(e=o.indexOf("Edge"),i=o.substring(e+5)):(e=o.indexOf("Edg"),i=o.substring(e+4))):-1!==(e=o.indexOf("MSIE"))?(n="Microsoft Internet Explorer",i=o.substring(e+5)):-1!==(e=o.indexOf("Lark"))?(n="Lark",i=o.substring(e+5,e+11)):-1!==o.indexOf("Chrome")?-1!==(e=o.indexOf("TTWebView"))?(n="TTWebView",i=o.substring(e+10,e+23)):(-1!==(e=o.indexOf("Chrome"))||-1!==(e=o.indexOf("Chrome")))&&(n="Chrome",i=o.substring(e+7)):-1!==o.indexOf("Safari")?-1!==(e=o.indexOf("Safari"))&&(n="Safari",i=o.substring(e+7),-1!==(e=o.indexOf("Version"))&&(i=o.substring(e+8))):-1!==(e=o.indexOf("Firefox"))&&(n="Firefox",i=o.substring(e+8)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(")"))&&(i=i.substring(0,t)),{browser:n,browser_version:i}},e.prototype.os=function(){for(var e="",t="",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"ChromeOS",r:/CrOS/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],i=0;i<n.length;i++){var o=n[i];if(o.r.test(this.userAgent)){"Mac OS X"===(e=o.s)&&this.isNewIpad()&&(e="iOS");break}}var r,s,a=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(e)&&(t=a(/Windows (.*)/,e),e="windows"),e){case"Mac OS X":t=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":(s=a(/Android ([\.\_\d]+)/,r=this.userAgent))||(s=a(/Android\/([\.\_\d]+)/,r)),t=s,e="android";break;case"iOS":t=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios";break;case"chromeOS":var l=this.userAgent.indexOf("x86_64");t=this.userAgent.substring(l+7,l+16)}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach((function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))}));else if("ios"===e||"mac"===e||"windows"===e)if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),i=n.indexOf(";");t=n.slice(0,i)}}catch(e){return t.trim()}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),Q={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},ee={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},te={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"},ne={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz25z4az23z21",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz24z4az23z21",ie:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4az22z1gz1iz22z1mz1iz25z4az1cz23",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"};!function(e){e.Init="init",e.Config="config",e.Start="start",e.Ready="ready",e.TokenComplete="token-complete",e.TokenStorage="token-storage",e.TokenFetch="token-fetch",e.TokenError="token-error",e.ConfigUuid="config-uuid",e.ConfigWebId="config-webid",e.ConfigDomain="config-domain",e.CustomWebId="custom-webid",e.TokenChange="token-change",e.TokenReset="token-reset",e.ConfigTransform="config-transform",e.EnvTransform="env-transform",e.SessionReset="session-reset",e.SessionResetTime="session-reset-time",e.Event="event",e.Events="events",e.EventNow="event-now",e.CleanEvents="clean-events",e.BeconEvent="becon-event",e.SubmitBefore="submit-before",e.SubmitScuess="submit-scuess",e.SubmitAfter="submit-after",e.SubmitError="submit-error",e.SubmitVerify="submit-verify",e.DestoryInstance="destory-instance",e.Stay="stay",e.ResetStay="reset-stay",e.StayReady="stay-ready",e.SetStay="set-stay",e.RouteChange="route-change",e.RouteReady="route-ready",e.Ab="ab",e.AbVar="ab-var",e.AbAllVars="ab-all-vars",e.AbConfig="ab-config",e.AbExternalVersion="ab-external-version",e.AbVersionChangeOn="ab-version-change-on",e.AbVersionChangeOff="ab-version-change-off",e.AbOpenLayer="ab-open-layer",e.AbCloseLayer="ab-close-layer",e.AbReady="ab-ready",e.AbComplete="ab-complete",e.AbTimeout="ab-timeout",e.Profile="profile",e.ProfileSet="profile-set",e.ProfileSetOnce="profile-set-once",e.ProfileUnset="profile-unset",e.ProfileIncrement="profile-increment",e.ProfileAppend="profile-append",e.ProfileClear="profile-clear",e.Autotrack="autotrack",e.AutotrackReady="autotrack-ready",e.CepReady="cep-ready",e.TracerReady="tracer-ready",e.sessionRecord="session-record",e.SessionRecordStart="session-record-start",e.SessionRecordPause="session-record-pause",e.SessionRecordEnd="session-record-end",e.SessionRecordReport="session-record-report",e.VisualCollectReady="visual-collect-ready",e.VisualApiReady="visual-api-ready",e.VisualApiUpdate="visual-api-update"}(N||(N={})),function(e){e.DEBUGGER_MESSAGE="debugger-message",e.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",e.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",e.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",e.DEBUGGER_MESSAGE_EVENT="debugger-message-event",e.DEVTOOL_WEB_READY="devtool-web-ready"}(U||(U={}));var ie=N,oe=void 0,re=(new Date).getTimezoneOffset(),se=parseInt(""+-re/60,10),ae=60*re,ce=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new $(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init(),i="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new Y(!1,"session"),this.localStorage=new Y(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var o=this.localStorage.getItem(i);o&&1==o?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:oe,user_type:oe,user_id:oe,user_is_auth:oe,user_is_login:oe,device_id:oe,web_id:oe,ip_addr_id:oe,user_unique_id_type:oe},header:{app_id:oe,app_name:oe,app_install_id:oe,install_id:oe,app_package:oe,app_channel:oe,app_version:oe,ab_version:oe,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:oe,traffic_type:oe,client_ip:oe,device_brand:oe,os_api:oe,access:oe,language:n.language,region:oe,app_language:oe,app_region:oe,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:oe,rnd:oe,platform:n.platform,sdk_version:"5.3.1_oversea",sdk_lib:"js",province:oe,city:oe,timezone:se,tz_offset:ae,tz_name:oe,sim_region:oe,carrier:oe,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{}}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var n=e||this.initConfig.channel,i=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?te[n]:ne[n]:Q[n];i||(console.warn("current channel: "+n+" is not exist, use va instead, please check!!!!"),i=Q.sg),this.domain=q(i)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e,t="__tea_sdk_ab_version_"+this.initConfig.app_id;e=this.localStorage.getItem(t),this.setAbCache(e)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var n=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(e)&&this.ab_uuid_cache[""+n].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version=5.3.1_oversea&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach((function(n){if(void 0!==e[n]&&null!==e[n]||t.delete(n),"traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=G(G({},t.evtParams||{}),e.evtParams||{});else if("_staging_flag"===n)t.evtParams=G(G({},t.evtParams||{}),{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var i="",o="";if(n.indexOf(".")>-1){var r=n.split(".");i=r[0],o=r[1]}i?"user"===i||"header"===i?t.envInfo[i][o]=e[n]:t.envInfo.header.custom[o]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=Boolean(e[n]):"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}}))},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"}),console.log("delete error")}},e}(),le=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[Tea instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("%c %s","color: #4D1B00; background-color: #FF7D00;","[Tea instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("%c %s","color: #FFF; background-color: #F53F3F;","[Tea instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),new Error(e)},e}(),ue=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach((function(e){-1!==t.indexOf(e)&&(n=!0)})),n},e}(),pe=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise((function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted((function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)})):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}}))},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach((function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)}))}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge report success",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),fe=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.cacheStorgae=new Y(!0),this.localStorage=new Y(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(ie.Ready,(function(){n.reportAll(!1)})),this.collect.on(ie.ConfigDomain,(function(){n.reportUrl=n.configManager.getUrl("event")})),this.collect.on(ie.Event,(function(e){n.event(e)})),this.collect.on(ie.BeconEvent,(function(e){n.beconEvent(e)})),this.collect.on(ie.CleanEvents,(function(){n.reportAll(!1)})),this.linster()},e.prototype.linster=function(){var e,t=this;window.addEventListener("unload",(function(){t.reportAll(!0)}),!1),e=function(){t.reportAll(!0)},navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t.reportAll(!0)}),!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;if(!this.collect.destroy&&!this.collect.sdkStop)try{var n=C(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var i=this.reportTime;this.reportTimeout=setTimeout((function(){t.report(!1),t.reportTimeout=null}),i)}}catch(e){this.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.beconEvent=function(e){if(!this.collect.destroy&&!this.collect.sdkStop){var t=C(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))}},e.prototype.reportBecon=function(){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){var i;i=e.slice(n,n+this.eventLimit);var o=this.split(this.merge(i));this.send(o,t)}else o=this.split(this.merge(e)),this.send(o,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,i=this.configManager.get(),o=i.header,r=i.user;o.custom=JSON.stringify(o.custom),o.referrer=this.handleRefer();var s=this.configManager.get("evtParams"),a=this.configManager.get("user_unique_id_type"),c=[];try{var l=e.filter((function(e){try{Object.keys(s).length&&!t&&(e.params=G(G({},s),e.params)),a&&(e.params.$user_unique_id_type=a);var i=n.configManager.getAbCache(),o=r[n.config.ab_user_mode]||r.user_unique_id,c=n.configManager.getAbUuidCache(o);if(i&&i.uuid&&i.uuid===o){var l=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(c&&c.length){var u=c.join(",");l&&l.includes(u)&&(e.ab_sdk_version=l)}}else l&&(e.ab_sdk_version=l)}return e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(t){return console.warn("filter merge event: "+(e&&e.event)+" error, pls check",t&&t.message),n.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Merge Event Something Error",level:"error",time:Date.now(),data:t.message,infoType:"sdk"}),!1}})),u=JSON.parse(JSON.stringify({events:l,user:r,header:o}));u.local_time=Math.floor(Date.now()/1e3),u.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,u.verbose=1,c.push(u)}catch(e){console.warn("event merge error, pls check",e&&e.message)}return c},e.prototype.split=function(e){return e.map((function(e){var t=[];return t.push(e),t}))},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach((function(e){try{var i=JSON.parse(JSON.stringify(e));n.config.filter&&((i=n.config.filter(i))||console.warn("filter must return data !!")),n.collect.eventFilter&&i&&((i=n.collect.eventFilter(i))||console.warn("filterEvent api must return data !!"));var o=i||e,r=JSON.parse(JSON.stringify(o));if(!o.length)return;var s=!0;if(o.forEach((function(e){e.events.length||(s=!1)})),!s)return;n.collect.emit(ie.SubmitBefore,o),n.collect.emit(ie.SubmitVerify,o),n.collect.requestManager.useRequest({url:n.reportUrl,data:o,success:function(e,t){e&&0!==e.e?(n.collect.emit(ie.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_EVENT,info:"Event Report Fail",time:Date.now(),data:r,code:e.e,failType:"event data error",status:"fail"})):(n.collect.emit(ie.SubmitScuess,{eventData:t,res:e}),n.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_EVENT,info:"Event Report Success",time:Date.now(),data:r,code:200,status:"success"}))},fail:function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(ie.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_EVENT,info:"Event Report Network Fail",time:Date.now(),data:r,code:t,failType:"network error",status:"fail"})},timeout:n.timeout,useBeacon:!n.config.disable_sendbeacon&&t,withCredentials:n.enable_ttwebid}),n.collect.emit(ie.SubmitAfter,o)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Report Event Something Error",level:"error",time:Date.now(),data:e.message})}})))},e}(),he=function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}().replace(/-/g,"").slice(0,19)},de=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new Y(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(ie.ConfigUuid,(function(e){n.setUuid(e)})),this.collect.on(ie.ConfigWebId,(function(e){n.setWebId(e)})),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;this.cacheToken=this.storage.getItem(this.tokenKey)||{},this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(ie.CustomWebId,(function(){e.tokenReady=!0,e.collect.emit(ie.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:he(),user_unique_id:this.configManager.get("user_unique_id")||he()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=V(window.location.href);return!(!t||!t.Web_ID||(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),0))}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Fetch WebID Request",logType:"fetch",level:"info",time:Date.now(),data:n});var i=he();this.collect.requestManager.useRequest({url:t,data:n,success:function(t){var n;t&&0===t.e?(n=t.web_id,e.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"Fetch WebID Request Success",logType:"fetch",level:"info",time:Date.now(),data:t})):(n=i,e.collect.configManager.set({localWebId:i}),e.collect.emit(ie.TokenError),e.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"Fetch WebID Request Data Error, Use LocalId",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},fail:function(){e.complete({web_id:e.configManager.get("web_id")||i,user_unique_id:e.configManager.get("user_unique_id")||i}),e.collect.configManager.set({localWebId:i}),e.collect.emit(ie.TokenError),e.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"Fetch WebID Request Network Fail, Use LocalId",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")},timeout:3e5})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK UserInfo Complete",logType:"info",secType:"USER",level:"info",time:Date.now(),data:{web_id:t,user_unique_id:n},infoType:"sdk"}),this.collect.emit(ie.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(ie.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),i=this.cacheToken&&this.cacheToken.user_unique_id;if(t===n&&t===i)return;this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(ie.TokenChange,"uuid"),this.collect.emit(ie.SessionReset)}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(ie.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(ie.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(ie.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new Promise((function(t){if("tcpy"!==e.config.channel_type&&"ttp"!==e.config.channel_type){var n={app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")};e.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Fetch GetToken Request",logType:"fetch",level:"info",time:Date.now(),data:n,infoType:"sdk"}),e.collect.requestManager.useRequest({url:e.configManager.getUrl("tobid"),data:n,success:function(n){n&&0===n.e?(t(n.tobid),e.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"Fetch GetToken Request Success",logType:"fetch",level:"info",time:Date.now(),data:n,infoType:"sdk"})):(t(""),e.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"Fetch GetToken Request Fail",logType:"fetch",level:"error",time:Date.now(),data:n,infoType:"sdk"}))},fail:function(){t(""),e.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"Fetch GetToken Request Network Error",logType:"fetch",level:"error",time:Date.now(),infoType:"sdk"})},time:3e4,withCredentials:e.enable_ttwebid})}else t("")}))},e}(),ge=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},me=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new Y(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSessionTimeCheck=t.disable_session_check,this.disableSession||(this.setSessionId(),this.collect.on(ie.SessionReset,(function(e){n.resetSessionId(e)})),this.collect.on(ie.SessionResetTime,(function(){n.updateSessionIdTime()})))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:ge(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:ge(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.disableSessionTimeCheck||(this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.resetSessionId=function(e){var t={sessionId:e||ge(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:ge(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),_e=function(){function e(e,t){this.collector=e,this.config=t,this.requestType=t.request_type,this.supportBeacon=!(!window.navigator||!window.navigator.sendBeacon),this.errorCode={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005},this.customHeader=t.custom_request_header||{}}return e.prototype.useFetch=function(e){var t=e.url,n=e.data,i=e.method,o=e.success,r=e.fail,s={"Content-Type":"application/json; charset=utf-8"};if(Object.keys(this.customHeader).length)for(var a in this.customHeader)s[a]=this.customHeader[a];window.fetch?fetch(t,{method:i||"POST",headers:s,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){o&&o(e)})).catch((function(e){r&&r(n,e)})):(this.requestType="xhr",console.log("your brwoser not support fetch, use xhr"),this.useRequest({url:t,data:n,method:i,success:o,fail:r}))},e.prototype.useBeacon=function(e){var t=e.url,n=e.data,i=e.success,o=e.fail;"xhr"!==this.requestType?window.navigator.sendBeacon(t,JSON.stringify(n))?i&&i():o&&o(n,this.errorCode.BEACON_FALSE):this.useXhr(e)},e.prototype.useXhr=function(e){var t=this,n=e.url,i=e.data,o=e.method,r=e.success,s=e.fail,a=e.timeout,c=e.withCredentials,l=e.app_key;try{var u=new XMLHttpRequest,p=o||"POST";if(u.open(p,""+n,!0),u.setRequestHeader("Content-Type","application/json; charset=utf-8"),l&&u.setRequestHeader("X-MCS-AppKey",""+l),Object.keys(this.customHeader).length)for(var f in this.customHeader)u.setRequestHeader(f,this.customHeader[f]);c&&(u.withCredentials=!0),a&&(u.timeout=a,u.ontimeout=function(){s&&s(i,t.errorCode.TIMEOUT)}),u.onload=function(){if(r){var e=null;if(u.responseText){try{e=JSON.parse(u.responseText)}catch(t){e={}}r(e,i)}}},u.onerror=function(){u.abort(),s&&s(i,t.errorCode.XHR_ON)},u.send(JSON.stringify(i))}catch(e){}},e.prototype.useRequest=function(e){var t=e.useBeacon,n=e.forceXhr;if("xhr"===this.requestType)this.useXhr(e);else{if(t&&this.supportBeacon)return void this.useBeacon(e);if("fetch"===this.requestType&&!n)return void this.useFetch(e);this.useXhr(e)}},e}(),ye=function(){function e(e,t){if(this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,t.enable_debug&&"Microsoft Internet Explorer"!==e.configManager.get("browser")){this.collect=e,this.config=t,this.app_id=t.app_id;var n=e.adapters.storage;this.cacheStorgae=new n(!1),this.loadUrl=t.devtool_url||"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.v2.0.0.js",this.filterEvent=new Set(["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"]),this.load()}}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&t.forEach((function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}))}catch(e){}return e},e.prototype.load=function(){try{var e=this.parseUrl();if(e.open_devtool_web&&e.app_id){if(parseInt(e.app_id)!==this.app_id)return}else if(!this.getStorage())return;this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.getStorage=function(){var e=this.cacheStorgae.getItem("__applog_open_devtool_web");return e&&parseInt(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setItem("__applog_open_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){this.loadScript(this.loadUrl)},e.prototype.loadBaseInfo=function(){if(this.log=[],this.event=[],this.info=[{title:"BaseInfo",key:"base",type:1,content:[{name:"app_id",desc:"APPID",value:this.config.app_id},{name:"channel",desc:"CHANNEL",value:this.config.channel},{name:"domain",desc:"Domain",value:this.collect.configManager.getDomain()},{name:"sdk_version",desc:"SDK Version",value:"5.3.1_oversea"},{name:"sdk_type",desc:"SDK Import Type",value:"npm"}]},{title:"UserInfo",key:"user",type:2,content:[{name:"uuid",desc:"UserUniqueId",value:this.collect.configManager.get("user").user_unique_id||""},{name:"web_id",desc:"WEB_ID",value:this.collect.configManager.get("user").web_id||""}]},{title:"CommonInfo",type:2,key:"common",content:[{name:"browser",desc:"Browser",value:this.collect.configManager.get("browser")},{name:"browser_version",desc:"Browser Version",value:this.collect.configManager.get("browser_version")},{name:"platform",desc:"Platform",value:this.collect.configManager.get("platform")},{name:"device_model",desc:"Devide Model",value:this.collect.configManager.get("device_model")},{name:"os_name",desc:"Os Name",value:this.collect.configManager.get("os_name")},{name:"os_version",desc:"Os Version",value:this.collect.configManager.get("os_version")},{name:"resolution",desc:"Screen Resolution",value:this.collect.configManager.get("resolution")},{name:"referrer",desc:"Referrer",value:this.collect.configManager.get("referrer")},{name:"custom",desc:"Custom Info",value:JSON.stringify(this.collect.configManager.get("custom"))}]},{title:"Config Info",key:"config",type:3,content:[{name:"autotrack",desc:"AutoTrackEvent",value:!!this.config.autotrack},{name:"stay",desc:"StayDuration",value:!!this.config.enable_stay_duration}]},{title:"A/B Config Info",key:"ab",type:4,content:[{name:"ab",desc:"A/BTester",value:!!this.config.enable_ab_test}]}],this.config.enable_ab_test){var e=this.getInfo("ab"),t=[{name:"ab",desc:"A/BTester",value:!!this.config.enable_ab_test},{name:"vid",desc:"A/B VID",value:this.collect.configManager.getAbVersion()},{name:"ab_domain",desc:"Domain",value:this.config.ab_channel_domain||q(ee[this.config.channel])},{name:"all_values",desc:"A/B ALL Values",value:this.collect.configManager.getAbCache()}];e.content=t,this.setInfo("ab",e)}},e.prototype.getInfo=function(e){var t=null;return this.info.forEach((function(n){n.key===e&&(t=n)})),t},e.prototype.setInfo=function(e,t){var n=!1;this.info.forEach((function(i){i.key===e&&(n=!0,i=t)})),n||this.info.push(t)},e.prototype.getSecondInfo=function(e,t){var n=this.getInfo(e),i=null;return n.content.forEach((function(e){e.name===t&&(i=e)})),i},e.prototype.setSecondInfo=function(e,t,n){var i=this.getInfo(e);i.content.forEach((function(e){e.name===t&&(e.value=n)})),this.setInfo(e,i)},e.prototype.loadHook=function(){var e=this;this.collect.on(U.DEBUGGER_MESSAGE,(function(t){switch(t.type){case U.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",infoType:t.infoType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.setSecondInfo("ab","vid",e.collect.configManager.getAbVersion()),e.setSecondInfo("ab","all_values",e.collect.configManager.getAbCache())):"USER"===t.secType&&(e.setSecondInfo("user","uuid",e.collect.configManager.get("user").user_unique_id),e.setSecondInfo("user","web_id",e.collect.configManager.get("user").web_id)),void e.updateInfo();case U.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var i=t.data[0],o=i.events;if(!o.length)return;o.forEach((function(n){n.checkShow=!0,n.searchShow=!0,n.focusShow=!0,n.status=t.status,n.type=e.filterEvent.has(n.event)?"sdk":"cus",n.verifyType=t.verifyType?"verify":"no",n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+" msg: "+(t.msg||t.failType)})})),e.updateEvent(i)}return}}))},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",(function(t){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event,sdk_type:"5.3.1_oversea".includes("tob")?"tob":"inner",appId:e.app_id}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.setSecondInfo("user","sid",t.tobid),e.updateInfo()}))}))},e.prototype.sendData=function(e,t){try{var n={type:e,payload:t};window&&window.postMessage(n,this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e="#debugger-applog-web {\n      position: fixed;\n      width: 45px;\n      height: 45px;\n      background-image: url("+q("1fz22z22z1nz21z4mz4bz4bz1jz1dz49z1az1bz1lz49z22z1mz21z4az19z27z22z1cz21z1az1kz4az1az1mz1kz4bz1mz19z1hz4bz21z22z18z22z1gz1az4bz1jz1mz1ez49z21z1bz1iz4bz1az1mz1jz1jz1cz1az22z4bz1bz1cz24z22z1mz1mz1jz4bz18z1nz1nz1jz1mz1ez4az1nz1lz1e")+");\n      bottom: 5%;\n      right: 10%;\n      cursor: pointer;\n      z-index:100;\n      background-size: 45px;\n    }",t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.appendChild(document.createTextNode(e)),t.appendChild(n);var i=document.createElement("div");i.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web"></div>';var o=document.createElement("div");o.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(i),document.getElementsByTagName("body")[0].appendChild(o);var r=document.getElementById("debugger-applog-web");r&&r.addEventListener("click",(function(){window&&window.postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),ve={autotrack:{src:{sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/autotrack.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/ab.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/stay.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/route.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/route.js"},object:"LogRoute"},tracer:{src:{sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/tracer.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/tracer.js"},object:"LogTracer"},retry:{src:{sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/retry.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/retry.js"},object:"LogRetry"},visual:{src:{sg:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-sg/log-sdk/collect/5/plugin/visual.js",va:"https://lf-global-static.iapplogcdn.com/obj/applog-sdk-static-us/log-sdk/collect/5/plugin/visual.js"},object:"LogVisual"}},be=["et","profile","heartbeat","monitor"],Ee=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroy=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.sdkStop=!1,this.name=e,this.hook=new L,this.remotePlugin=new Map,this.Types=ie,this.adapters.storage=Y}return e.usePlugin=function(t,n,i){if(n){for(var o=!1,r=0,s=e.plugins.length;r<s;r++)if(e.plugins[r].name===n){e.plugins[r].plugin=t,e.plugins[r].options=i||{},o=!0;break}o||e.plugins.push({name:n,plugin:t,options:i})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&be.includes(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,i,o=this;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}if(this.logger=new le(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&j(n))if(n.app_id&&"number"==typeof(i=n.app_id)&&!isNaN(i))if(!n.app_key||function(e){return"string"==typeof e}(n.app_key)){var r=["sg","va","in","ie","ie2"];n.channel_domain||-1!==r.indexOf(n.channel)||(this.logger.warn("your channel: "+n.channel+" is not exist. channel must be one of "+r.join(",")+", use sg instead, please check!!!"),n.channel="sg"),this.spider=new ue,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.appBridge=new pe(this,n.enable_native),this.requestManager=new _e(this,n),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new ce(this,n),this.debugger=new ye(this,n),this.initConfig=n,this.emit(ie.Init),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Init",data:n,level:"info",time:Date.now(),infoType:"cus"}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new fe,this.tokenManager=new de,this.sessionManager=new me,Promise.all([new Promise((function(e){o.once(ie.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){o.once(ie.Start,(function(){e(!0)}))}))]).then((function(){try{e.plugins.reduce((function(e,t){var n=t.plugin,i=t.options,r=Object.assign(o.initConfig,i);o.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Load "+t.name+" Plugin",level:"info",time:Date.now(),infoType:"sdk"});var s=new n;return s.apply(o,r),e.push(s),e}),o.pluginInstances)}catch(e){console.warn("load plugin error, "+e.message),o.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Load Plugin Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}o.sdkReady=!0,o.emit(ie.Ready),o.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Initialization Completed",time:Date.now(),level:"info",secType:"USER",data:o.configManager.get("user"),infoType:"sdk"}),o.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(o.configManager.get("user"))),o.logger.info("appid: "+n.app_id+", sdk is ready, version is 5.3.1_oversea, you can report now !!!"),n.disable_auto_pv&&(o.disableAutoPageView=!0);try{("full"===o.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){o.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}o.pageView(),o.on(ie.TokenChange,(function(e){"webid"===e&&o.pageView(),o.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(o.configManager.get("user"))),o.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Set UserInfo",time:Date.now(),secType:"USER",level:"info",data:o.configManager.get("user"),infoType:"sdk"})})),o.on(ie.TokenReset,(function(){o.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(o.configManager.get("user"))),o.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Reset UserInfo",time:Date.now(),secType:"USER",level:"info",data:o.configManager.get("user"),infoType:"sdk"})})),o.on(ie.RouteChange,(function(e){e.init||n.disable_route_report||o.pageView()}))})),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}else this.logger.warn("app_key param is error, must be string, please check!");else this.logger.warn("app_id param is error, must be number, please check!");else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited)if(e&&j(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(n){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var n=G({},t);if(this.initConfig&&this.initConfig.configPersist){var i=this.configManager.getStore();i&&(n=Object.assign(i,t)),this.configManager.setStore(t)}n.web_id,n.user_unique_id;var o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&(n[i[o]]=e[i[o]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(ie.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(ie.ConfigUuid,n.user_unique_id),this.configManager.set(o),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Config",level:"info",time:Date.now(),data:n,infoType:"cus"})}}else console.warn("config params is error, please check");else console.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(ie.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(ie.Start),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Start",level:"info",time:Date.now(),infoType:"cus"}),this.bridgeReport&&(this.pageView(),this.emit(ie.Ready)))},e.prototype.event=function(e,t){var n=this;try{var i=[];if(Array.isArray(e))e.forEach((function(e){var t=n.processEvent(e[0],e[1]||{});t&&i.push(t)}));else{var o=this.processEvent(e,t);if(!o)return;i.push(o)}this.bridgeReport?i.forEach((function(e){var t=e.event,i=e.params;n.appBridge.onEventV3(t,JSON.stringify(i))})):i.length&&(this.emit(ie.Event,i),this.emit(ie.SessionResetTime)),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Event",level:"info",time:Date.now(),data:e,infoType:"cus"})}catch(e){this.logger.warn("something error, please check"),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Event Something Error",level:"error",time:Date.now(),data:e.message,infoType:"sdk"})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],i=this.processEvent(e,t||{});i&&(n.push(i),n.length&&(this.emit(ie.BeconEvent,n),this.emit(ie.SessionResetTime)),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute Beacon Event",level:"info",time:Date.now(),data:e,infoType:"sdk"}))}},e.prototype.beaconEvent=function(e,t){this.beconEvent(e,t)},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return console.warn("eventName is null please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var i=t;"object"!=typeof i&&(i={}),i.profile?delete i.profile:i.event_index=P();var o=void 0;return i.local_ms?(o=i.local_ms,delete i.local_ms):o=+new Date,{event:n,params:i,local_time_ms:o,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Something Error",level:"error",time:Date.now(),data:n.message,infoType:"sdk"}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.stop=function(){this.sdkStop=!0},e.prototype.reStart=function(){this.sdkStop=!1},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=G(G({},t),e);this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Report PV",level:"info",time:Date.now(),infoType:"sdk"}),this.event("predefine_pageview",n)}else console.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(ie.CleanEvents)},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.getSessionId=function(){return ge()},e.prototype.setSessionId=function(e){this.emit(ie.SessionReset,e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(ie.ResetStay,{url_path:e,title:t,url:n},ie.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(ie.SetStay,{url_path:e,title:t,url:n},ie.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var i=!1,o=function(t){if(!i){i=!0;var o=n.configManager.get().user;return t&&(o.tobid=t,o["diss".split("").reverse().join("")]=t),e(G({},o))}},r=function(){n.tokenManager.getTobId().then((function(e){o(e)}))};this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute GetToken",level:"info",time:Date.now(),infoType:"cus"}),this.sdkReady?r():(t&&setTimeout((function(){o()}),t),this.on(ie.Ready,(function(){r()})))}else console.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(ie.ProfileSet,e,ie.Profile),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(ie.ProfileSetOnce,e,ie.Profile),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(ie.ProfileIncrement,e,ie.Profile),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(ie.ProfileUnset,e,ie.Profile),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(ie.ProfileAppend,e,ie.Profile),this.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"SDK Execute profileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(ie.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,ie.Ab)},e.prototype.getVar=function(e,t,n,i){this.emit(ie.AbVar,{name:e,defaultValue:t,callback:n,uuid:i},ie.Ab)},e.prototype.getABconfig=function(e,t){this.emit(ie.AbConfig,{params:e,callback:t},ie.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(ie.AbVersionChangeOn,e,ie.Ab),function(){t.emit(ie.AbVersionChangeOff,e,ie.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(ie.AbVersionChangeOff,e,ie.Ab)},e.prototype.openOverlayer=function(){this.emit(ie.AbOpenLayer,"",ie.Ab)},e.prototype.closeOverlayer=function(){this.emit(ie.AbCloseLayer,"",ie.Ab)},e.prototype.getAllVars=function(e){this.emit(ie.AbAllVars,e,ie.Ab)},e.prototype.destoryInstace=function(){this.destroy||(this.destroy=!0,this.off(ie.TokenComplete),this.emit(ie.DestoryInstance))},e.prototype.destroyInstance=function(){this.destroy||(this.destroy=!0,this.off(ie.TokenComplete),this.emit(ie.DestoryInstance))},e.plugins=[],e}(),Se=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(t.event_verify_url)if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var i=e.Types;e.on(i.SubmitBefore,(function(t){e.requestManager.useBeacon({url:n.url,data:t}),e.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_EVENT,info:"SDK Report ByteIo Verify Request",time:Date.now(),data:t,code:200,status:"success",verifyType:!0})}))}}else console.log("please use correct et_test url")},e}(),we=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var n,i=Date.now()+t;return n=window.setTimeout((function o(){var r=Date.now()-i;e(),i+=t,n=window.setTimeout(o,Math.max(0,t-r))}),t),function(){window.clearTimeout(n)}}((function(){e.isSessionhasEvent&&e.endCurrentSession()}),e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var i=this.collect.Types;this.collect.on(i.SessionReset,(function(){n.process()}))}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),ke=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){this.url=e.configManager.getUrl("event");var i=this.collect.Types;this.collect.on(i.Ready,(function(){n.sdkOnload()})),this.collect.on(i.SubmitError,(function(e){var t=e.type,i=e.eventData,o=e.errorCode;"f_data"===t&&n.sdkError(i,o)}))}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,i=t.user,o=n.app_id,r=n.app_name,s=n.sdk_version,a=i.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:o,app_name:r||"",sdk_version:s,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:a},header:{}};setTimeout((function(){e.collect.requestManager.useRequest({url:e.url,data:[c],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var i=e[0],o=i.user,r=i.header,s=[];e.forEach((function(e){e.events.forEach((function(e){s.push(e)}))}));var a={events:s.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:r.app_id,app_name:r.app_name||"",error_event:e.event,sdk_version:r.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(r),user:JSON.stringify(o)}),local_time_ms:Date.now()}})),user:{user_unique_id:o.user_unique_id},header:{}};setTimeout((function(){n.collect.requestManager.useRequest({url:n.url,data:[a],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e}(),ze="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,Ae=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach((function(t,n){if("sdk"===t)if(ve.hasOwnProperty(n)){var i=ve[n].object,o=""+ve[n].src[e.channel];e.exist(n,i,o)}else console.warn("your "+n+" is not existplease check plugin name");else"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))}))}catch(e){this.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"LoadExtend Fail",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var i=this;ze[t]?(this.process(e,ze[t]),console.log("already has "+e+" plugin~")):this.loadPlugin(e,n,(function(){i.process(e,ze[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","","load plugin:"+e+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","","load plugin:"+e+" error","-")}))},e.prototype.process=function(e,t,n){try{if(n){var i=new t;i.apply&&i.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"Extend Process Fail",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,i){var o=this;try{var r=document.createElement("script");r.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),r.onerror=function(){i(t)},r.onload=function(){o._plugin[e].forEach((function(e){e()}))},document.getElementsByTagName("head")[0].appendChild(r)}catch(e){this.collect.emit(U.DEBUGGER_MESSAGE,{type:U.DEBUGGER_MESSAGE_SDK,info:"Extend LoadPlugin Fail",level:"error",time:Date.now(),data:e.message})}},e}();Ee.usePlugin(Ae,"extend"),Ee.usePlugin(Se,"et"),Ee.usePlugin(we,"heartbeat"),Ee.usePlugin(ke,"monitor");var Re=new Ee("default"),Te=3053,xe=3297;var De=function(e){function t(t){var n=t.test,i=t.TEAChannelDomain,o=void 0===i?"":i,r=t.mode,s=t.TEAChannel,a=t.TEAChannelType;return t.tracker=o||a||s?function(e){var t=e.isTest,n=e.channel_domain,i=e.channel_type,o=e.channel,r=/snssdk|zijieapi/g.test(n)&&/ttp|tcpy/g.test(i)&&/va|sg|in/g.test(o)?Te:xe;return Re.init({app_id:r,channel_type:i,channel:o,channel_domain:n}),Re.config({_staging_flag:t?1:0,enable_et_test:t}),Re.start(),Re.event.bind(Re)}({isTest:n||"test"===r,channel_domain:o,channel_type:a,channel:s}):function(){},e.call(this,t)||this}return s(t,e),t}(I);const Oe="zh-CN";class Ie{constructor(e){o(this,"type","backend"),o(this,"name","@ies/intl-backend-plugin"),o(this,"_services",void 0),o(this,"_options",void 0),o(this,"_allOptions",void 0),o(this,"_configLng",void 0),this._options=e}_emit(e,t,n,i){const o=(this._options.on||{})[e];"function"==typeof o&&o(t,n),i(null,n)}_getStorageKey(e){const{apiKey:t,namespace:n}=this._options.loadOptions||{};if(t&&n)return`text.${t}.${n}.${e}`}init(e,t={},n={}){this._options=Object.assign({},t,this._options),this._allOptions=n,this._services=e,this._services.resourceStore.options.initImmediate=t.initImmediate||!1}read(e,t,n){if(this._configLng||(this._configLng=this._services.resourceStore.options.lng),"string"!=typeof this._configLng)if(this._services.languageDetector&&"function"==typeof this._services.languageDetector.detect)try{this._configLng=this._services.languageDetector.detect()}catch(e){this._configLng=Oe}else this._configLng=Oe;if(this._options.simpleLoad&&e!==this._configLng)return this._emit("simpleBlocked",e,{},n);const{initialTexts:i,fallbackTexts:o={}}=this._options;let r={};if("function"==typeof i?r=i(e,this._getStorageKey(e),t):i&&"object"==typeof i&&(r=i[e]||{}),"object"!=typeof r)try{r=JSON.parse(r)}catch(e){r={}}const s=o[e]||{},a=Object.assign({locale:e,namespace:"",apiKey:"",fallbackLang:this._allOptions.fallbackLng||[this._allOptions.lng]},this._options.loadOptions||{});t&&"translation"!==t&&(a.namespace=t),this._emit("receiveInit",e,r,n),(async()=>{let t=this._options.client||null;if(!t)try{if("function"!=typeof De)throw new Error('Error: can not get any client instance, intl backend plugin will emit "fallback" events');t=De}catch(t){return this._emit("fallback",e,s,n)}try{t=new t(a)}catch(e){}try{if(!t||"function"!=typeof t.load)throw new Error;const i=await t.load((t=>this._emit("chunk",e,t,n))).catch((e=>{if(s&&"object"==typeof s&&Object.keys(s).length)throw e;if(e&&e.response&&e.response.data)return e.response.data}));this._emit("done",e,i,n)}catch(t){this._emit("fallback",e,s,n)}})()}save(){}create(e,t,n,i){}}o(Ie,"type","backend"),t.IntlBackendPlugin=Ie,t.default=Ie,t.registerBackendPlugin=function(e={}){return new Ie(e)}},86386:(e,t,n)=>{"use strict";var i=n(63518);const o={timeout:8e3};i.IntlBackendPlugin,t.CC=function(e={}){return e.loadOptions=Object.assign({},o,e.loadOptions||{}),i.registerBackendPlugin(e)}},12017:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>Re});var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},i(e,t)};function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},r(e,t)};var s=function(){return s=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},s.apply(this,arguments)};function a(e,t,n,i){return new(n||(n=Promise))((function(o,r){function s(e){try{c(i.next(e))}catch(e){r(e)}}function a(e){try{c(i.throw(e))}catch(e){r(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}c((i=i.apply(e,t||[])).next())}))}function c(e,t){var n,i,o,r,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return r={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function a(a){return function(c){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(s=0)),s;)try{if(n=1,i&&(o=2&a[0]?i.return:a[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;switch(i=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return s.label++,{value:a[1],done:!1};case 5:s.label++,i=a[1],a=[0];continue;case 7:a=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==a[0]&&2!==a[0])){s=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){s.label=a[1];break}if(6===a[0]&&s.label<o[1]){s.label=o[1],o=a;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(a);break}o[2]&&s.ops.pop(),s.trys.pop();continue}a=t.call(e,s)}catch(e){a=[6,e],i=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,c])}}}var l=function(e){function t(t,n,i){var o=e.call(this,n)||this;return o.code=t,o.message=n,o.originError=i,o.name="StarlingError",o.code=t,o.message=n,o.originError=i,Error.captureStackTrace&&Error.captureStackTrace(o,o.constructor),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t}(Error),u={ERROR_CODE:103,ERROR_MESSAGE:"Request failed, confirm your apiKey and namespace is correct"},p={ERROR_CODE:110,ERROR_MESSAGE:"Check your params, parameter apiKey, namespace and zoneHost is required!"},f={ERROR_CODE:111,ERROR_MESSAGE:"Check your params, parameter request and store is required!"},h={ERROR_CODE:112,ERROR_MESSAGE:"Cache error!"},d={ERROR_CODE:120,ERROR_MESSAGE:"Version is not found, please check your param [version]!"},g={zone:"CN",locale:"zh",timeout:15e3,test:!1,mode:"normal",format:"merged",lazyUpdate:!1,fallbackLang:["zh"],tracker:function(){},cache:!0};var m=function(){function e(e){this.options=e,this.options=e}return e.prototype.getText=function(e,t){return a(this,void 0,void 0,(function(){return c(this,(function(n){switch(n.label){case 0:return[4,this._request(e,t)];case 1:return[2,n.sent()]}}))}))},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map((function(e){var n=e[0],i=e[1];return t.getText(n,i)})))},e.prototype._request=function(e,t){return a(this,void 0,void 0,(function(){var n,i,o,r,s,a,p,f,h,g,m,_,y,v,b,E;return c(this,(function(c){switch(c.label){case 0:return n=this.options.getReleaseVersion,i=n(e),e&&i&&t?[2,{}]:(o=this.getUrl(e,t),r=this.options,s=r.request,a=r.timeout,[4,s(o,{timeout:a})]);case 1:if(p=c.sent(),f=p.data,h=f.status,g=f.message,200==+h)return[2,this._mapResponse(g)];if(1001==+h)throw _=(m=d).ERROR_CODE,y=m.ERROR_MESSAGE,new l(_,y);throw b=(v=u).ERROR_CODE,E=v.ERROR_MESSAGE,new l(b,E)}}))}))},e.prototype.getUrl=function(e,t){var n=this.options,i=n.apiKey,o=n.locale,r=n.fallbackLang,s=n.zoneHost,a=n.mode,c=n.getReleaseVersion,l=[o].concat(r),u=s+"/check_and_get_text/"+i+"/"+a+"/"+e+"?lang="+l,p=c(e);return p&&(u=s+"/text_by_release_version/"+i+"/"+a+"/"+e+"/"+p+"?lang="+l),"string"==typeof t&&(u+="&version="+t),u},e.prototype._mapResponse=function(e){return e?Object.keys(e).reduce((function(t,n){return t[n.toLowerCase()]=e[n],t}),{}):{}},e}(),_=function(){function e(e){this.options=e,this.options=e}return e.prototype._setCache=function(e,t,n){try{return this.options.store.set(e,t)}catch(e){var i=h.ERROR_CODE;return this.options.tracker("cache_error",{code:i,message:e.message,stack:e.stack}),void(n&&n())}},e.prototype._getCache=function(e){var t=this.options,n=t.store,i=t.cache;try{return i&&n.get(e)}catch(e){var o=h.ERROR_CODE;return void this.options.tracker("cache_error",{code:o,message:e.message,stack:e.stack})}},e.prototype.getVersion=function(e){var t=this.options,n="version."+t.apiKey+"."+e+"."+t.locale,i=(0,t.getReleaseVersion)(e);i&&(n+="."+i);var o=this.getText(e);return o&&"object"==typeof o?"object"==typeof o&&0===Object.keys(o||{}).length?null:this._getCache(n):null},e.prototype.getVersions=function(e){var t=this;return Promise.all(e.map((function(e){return t.getVersion(e)})))},e.prototype.getText=function(e){var t=this.options,n="text."+t.apiKey+"."+e+"."+t.locale,i=(0,t.getReleaseVersion)(e);return i&&(n+="."+i),this._getCache(n)},e.prototype.getTexts=function(e){var t=this;return Promise.all(e.map((function(e){return t.getText(e)})))},e.prototype.refresh=function(e,t,n,i){return a(this,void 0,void 0,(function(){var o,r,s,a,l,u=this;return c(this,(function(c){switch(c.label){case 0:return o=this.options,r=o.apiKey,s=o.getReleaseVersion,a=o.cache,l=[],t.forEach((function(o,c){var p="text."+r+"."+e[c]+"."+i[c],f="version."+r+"."+e[c]+"."+i[c],h=s(e[c]);h&&(p+="."+h,f+="."+h),a&&(l.push(u._setCache(p,t[c],(function(){u.options.store.set(p,{})}))),l.push(u._setCache(f,n[c])))})),[4,Promise.all(l)];case 1:return c.sent(),[2,t.reduce((function(e,t){return Object.assign(e,t)}),{})]}}))}))},e}();var y=function(){function e(e){void 0===e&&(e=[]),this._list=[],this._list=e}return Object.defineProperty(e.prototype,"length",{get:function(){return this._list.length},enumerable:!1,configurable:!0}),e.prototype.getList=function(){return this._list},e.prototype.getNamespaces=function(){return this._list.map((function(e){return e.namespace}))},e.prototype.addNamespace=function(e){this._list.push(e)},e.prototype.insertTexts=function(e){this._list.forEach((function(t,n){t.texts=e[n]}))},e.prototype.sortByPrior=function(){return this._list.sort((function(e,t){return e.prior-t.prior})),this._list},e.prototype.concat=function(t){return new e(this._list.concat(t.getList()))},e}(),v=function(){function e(e,t,n){this._promiseRefresh=Promise.resolve(null),this.remote=e,this.local=t,this.options=n}return e.prototype._checkVersions=function(e){return a(this,void 0,void 0,(function(){var t,n,i,o,r,s;return c(this,(function(a){switch(a.label){case 0:return t=this.options.locale,[4,this.local.getVersions(e)];case 1:return n=a.sent(),i=e.map((function(e,t){return[e,n[t]]})),[4,this.remote.getTexts(i)];case 2:return o=a.sent(),r=new y,s=new y,e.forEach((function(e,i){var a=o[i],c=a.updated,l=a.version,u=a.data,p=a.lang;c?s.addNamespace({namespace:e,prior:i,version:l,texts:u,lang:p}):r.addNamespace({namespace:e,prior:i,version:n[i],lang:t})})),[2,{equalNs:r,diffNs:s}]}}))}))},e.prototype.waitForRefresh=function(){return this._promiseRefresh},e.prototype._refresh=function(e){var t=e.getList(),n=[],i=[],o=[],r=[];return t.forEach((function(e){n.push(e.namespace),i.push(e.version),o.push(e.texts),r.push(e.lang)})),this.local.refresh(n,o,i,r)},e.prototype._getLocalTexts=function(e){return a(this,void 0,void 0,(function(){var t;return c(this,(function(n){switch(n.label){case 0:return[4,this.local.getTexts(e.getNamespaces())];case 1:return t=n.sent(),e.insertTexts(t),[2,t]}}))}))},e.prototype.load=function(e){return a(this,void 0,void 0,(function(){var t,n,i,o,r;return c(this,(function(s){switch(s.label){case 0:return t=this.options.format,[4,this._checkVersions(e)];case 1:return n=s.sent(),i=n.equalNs,o=n.diffNs,i.length?[4,this._getLocalTexts(i)]:[3,3];case 2:return s.sent(),[3,4];case 3:s.label=4;case 4:return r=this._formatTexts(t,o.concat(i)),o.length?[4,this._refresh(o)]:[3,6];case 5:s.sent(),s.label=6;case 6:return[2,{texts:r,diffNs:o.getNamespaces(),equalNs:i.getNamespaces()}]}}))}))},e.prototype._getCacheText=function(e){return a(this,void 0,void 0,(function(){var t,n,i,o,r,s,a;return c(this,(function(c){switch(c.label){case 0:return t=this.options,n=t.locale,i=t.format,[4,this.local.getTexts(e)];case 1:return o=c.sent(),[4,this.local.getVersions(e)];case 2:return r=c.sent(),s=o.map((function(t,i){if(t)return{namespace:e[i],version:r[i],lang:n,texts:t}})).filter((function(e){return!!e})),a=new y(s),[2,this._formatTexts(i,a)]}}))}))},e.prototype.lazyLoad=function(e){return a(this,void 0,void 0,(function(){var t,n,i;return c(this,(function(o){switch(o.label){case 0:return[4,this._getCacheText(e)];case 1:return t=o.sent(),n=0===Object.keys(t).length,this._promiseRefresh=this.load(e),n?[4,this._promiseRefresh]:[3,3];case 2:i=o.sent(),t=i.texts,o.label=3;case 3:return[2,{texts:t,diffNs:n?i&&i.diffNs:[],equalNs:n?i&&i.equalNs:e}]}}))}))},e.prototype._formatTexts=function(e,t){if("splitted"===e)return t.getList().reduce((function(e,t){var n=t.namespace,i=t.lang,o=t.texts,r=t.version;return e[n]={lang:i,texts:o,version:r},e}),{});var n,i,o=t.sortByPrior().map((function(e){return e.texts}));return n=o,(i?n.concat(i):n).reduce((function(e,t){return Object.assign(e,t)}),{})},e}();"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var o in i)Object.prototype.hasOwnProperty.call(i,o)&&(t[o]=i[o])}return t},writable:!0,configurable:!0});var b,E="client_exception",S="client_load",w="client_cache",k="client_load_time";!function(e){e.AfterLoad="afterLoad"}(b||(b={}));var z=function(){function e(e){this.afterLoadPlugins=[],this.setConfig(e)}return e.prototype._init=function(e){var t=this;this.options=function(e){var t=(e=Object.assign({},g,e)).namespace,n=e.apiKey,i=e.request,o=e.store,r=e.zoneHost;if(e.test&&(e.mode="test"),e.namespace=t=t?Array.isArray(t)?t:[t]:[],e.apiKey=n=n||e.api_key,!i||!o){var s=f,a=s.ERROR_CODE,c=s.ERROR_MESSAGE;throw new l(a,c,null)}if(!n||!t.length||!r){var u=p;throw a=u.ERROR_CODE,c=u.ERROR_MESSAGE,new l(a,c,null)}return e}(e);var n=this.options,i=n.apiKey,o=n.locale,r=n.zoneHost,a=n.request,c=n.timeout,u=n.fallbackLang,h=n.store,d=n.lazyUpdate,y=n.test,b=n.mode,E=n.format,S=n.cache,w={mode:d?"lazy":y?"test":"prod",zone:r,locale:o,apiKey:i};this._tracker=function(e,n){try{t.options.tracker(e,s(s({},w),n))}catch(e){console.log(e)}};var k=this._getReleaseVersionByNamespace.bind(this),z=new m({request:a,timeout:c,apiKey:i,locale:o,zoneHost:r,fallbackLang:u,mode:b,getReleaseVersion:k}),A=new _({apiKey:i,locale:o,store:h,tracker:this._tracker,getReleaseVersion:k,cache:S});this._textManager=new v(z,A,{locale:o,format:E}),this.initPlugin()},e.prototype.initPlugin=function(){var e=this,t=this.options.plugins||[];Array.isArray(t)&&t.every((function(e){return"object"==typeof e}))&&t.forEach((function(t){t.type===b.AfterLoad&&e.afterLoadPlugins.push(t)}))},e.prototype._getReleaseVersionByNamespace=function(e){var t=this.options.namespace,n=this.options.version,i=null;if(Array.isArray(n)){var o=t.findIndex((function(t){return t===e}));i=n[o]}else n&&"object"==typeof n?i=n[e]:"string"==typeof n&&(i=n);return i},e.prototype.setConfig=function(e){var t=Object.assign({},this.options,e);this._init(t)},e.prototype.waitForRefresh=function(){return a(this,void 0,void 0,(function(){var e;return c(this,(function(t){switch(t.label){case 0:return[4,this._textManager.waitForRefresh()];case 1:return[2,(e=t.sent())?e.texts:null]}}))}))},e.prototype._load=function(){return a(this,void 0,void 0,(function(){var e,t,n,i,o;return c(this,(function(r){switch(r.label){case 0:return e=this.options,t=e.namespace,n=e.lazyUpdate,i=t,n?[4,this._textManager.lazyLoad(i)]:[3,2];case 1:return o=r.sent(),[3,4];case 2:return[4,this._textManager.load(i)];case 3:o=r.sent(),r.label=4;case 4:return[2,o]}}))}))},e.prototype.load=function(e,t){return a(this,void 0,void 0,(function(){var n,i,o,r,s,a,l,u,p,f,h,d,g,m,_=this;return c(this,(function(c){switch(c.label){case 0:n=Date.now(),i=this.options.namespace,c.label=1;case 1:return c.trys.push([1,5,,10]),this._tracker(S,{state:"start",version:"0.5.11"}),[4,this._load()];case 2:return o=c.sent(),r=o.diffNs,s=o.equalNs,a=o.texts,l=this.afterLoadPlugins,Array.isArray(l)&&l.length?[4,l.reduce((function(e,t){return e.then((function(e){return"function"==typeof t.process?t.process(e||a,_.options):e}))}),Promise.resolve(a))]:[3,4];case 3:u=c.sent(),a=u||a,c.label=4;case 4:return e&&e(a),this._tracker(k,{time:Date.now()-n}),this._tracker(S,{state:"success",version:"0.5.11"}),p=r.length,f=s.length,h=i.length,d=(f/h).toFixed(2),this._tracker(w,{diffLen:p,diff:r.join(","),equalLen:f,equal:s.join(","),namespaces:s.join(","),namespacesLen:h,ratio:d}),[2,a];case 5:if(g=c.sent(),this._tracker(S,{state:"fail"}),this._tracker(E,{code:g.code,message:g.message,stack:g.stack}),!(g||{}).useWebCache)return[3,9];c.label=6;case 6:return c.trys.push([6,8,,9]),[4,this._textManager._getCacheText(i)];case 7:return m=c.sent(),g.response.data=m&&"object"==typeof m?m:{},[3,9];case 8:return c.sent(),[3,9];case 9:return t?(t(g),[3,10]):[2,Promise.reject(g)];case 10:return[2]}}))}))},e}();var A=new(function(){function e(){}return e.prototype.get=function(e){if(localStorage&&localStorage.getItem)return function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(t){return e||void 0}}(localStorage.getItem(e))},e.prototype.set=function(e,t){localStorage&&localStorage.setItem&&localStorage.setItem(e,function(e){return JSON.stringify(e)}(t))},e}()),R=function(e){function t(t,n,i,o,r,s){var a=e.call(this,t)||this;return a.url=n,a.code=i,a.request=o,a.response=r,a.useWebCache=s,a.url=n,a.code=i,a.request=o,a.response=r,a.useWebCache=!!s,a}return o(t,e),t}(Error);function T(e,t){var n=t.timeout;return new Promise((function(t,i){var o=new XMLHttpRequest;o.open("GET",e),o.overrideMimeType("application/json; charset=utf-8"),o.withCredentials=!1,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var n=function(e){try{return JSON.parse(e)}catch(e){return{}}}(o.responseText),r=function(e){return e.message&&"object"==typeof e.message?e:null}(n);if(o.status<200||o.status>=300||!r)return function(e,t,n,i){var o=(i||{}).message||"";o=o?", reason is: ".concat(o):"",t(new R("Request failed with status code "+e.status+o,n,null,e,{data:{}},!0))}(o,i,e,n),void(o=null);var s={data:r,status:o.status,statusText:o.statusText,request:o};t(s),o=null}},o.onerror=function(){i(new R("Network Error",e,null,o,{data:{}},!0)),o=null},o.timeout=n,o.ontimeout=function(){i(new R("timeout of "+n+"ms exceeded",e,"ECONNABORTED",o,{data:{}},!0)),o=null},o.send()}))}var x=function(e){function t(t){return t.store||(t.store=A),t.request||(t.request=T),e.call(this,t)||this}return o(t,e),t}(z),D=function(){return(D=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e}).apply(this,arguments)};function O(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var i,o,r=n.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(e){o={error:e}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function I(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(O(arguments[t]));return e}var G,M,C,B=function(){function e(){this._hooks={},this._cache=[],this._hooksCache={}}return e.prototype.on=function(e,t){e&&t&&"function"==typeof t&&(this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t))},e.prototype.once=function(e,t){var n=this;e&&t&&"function"==typeof t&&this.on(e,(function i(o){t(o),n.off(e,i)}))},e.prototype.off=function(e,t){if(e&&this._hooks[e]&&this._hooks[e].length)if(t){var n=this._hooks[e].indexOf(t);-1!==n&&this._hooks[e].splice(n,1)}else this._hooks[e]=[]},e.prototype.emit=function(e,t,n){if(n){if(!e)return;-1!==this._cache.indexOf(n)?this._emit(e,t):(this._hooksCache.hasOwnProperty(n)||(this._hooksCache[n]={}),this._hooksCache[n].hasOwnProperty(e)||(this._hooksCache[n][e]=[]),this._hooksCache[n][e].push(t))}else this._emit(e,t)},e.prototype._emit=function(e,t){e&&this._hooks[e]&&this._hooks[e].length&&I(this._hooks[e]).forEach((function(e){try{e(t)}catch(e){}}))},e.prototype.set=function(e){e&&-1===this._cache.indexOf(e)&&this._cache.push(e)},e}(),N=function(e){return null!=e&&"[object Object]"==Object.prototype.toString.call(e)},U=(G=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return G+=1}),L=function(e){return function(e,t,n){if("string"==typeof e&&"number"==typeof n){var i,o=[];n=n<=25?n:n%25;var r=String.fromCharCode(n+97);i=e.split(r);for(var s=0;s<i.length;s++){var a=parseInt(i[s],n);a=1*a^64;var c=String.fromCharCode(a);o.push(c)}return o.join("")}}(e,0,25)},j=function(e){var t=document.createElement("a");return t.href=e,t},P=function(e){var t={};try{var n=j(e).search;(n=n.slice(1)).split("&").forEach((function(e){var n,i,o=e.split("=");o.length&&(n=o[0],i=o[1]);try{t[n]=decodeURIComponent(void 0===i?"":i)}catch(e){t[n]=i}}))}catch(e){}return t},q=function(e,t){return function(e,t){var n;n=function(){function e(){for(var e=0,t={};e<arguments.length;e++){var n=arguments[e];for(var i in n)t[i]=n[i]}return t}function t(e){return e.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function n(i){function o(){}function r(t,n,r){if("undefined"!=typeof document){"number"==typeof(r=e({path:"/"},o.defaults,r)).expires&&(r.expires=new Date(1*new Date+864e5*r.expires)),r.expires=r.expires?r.expires.toUTCString():"";try{var s=JSON.stringify(n);/^[\{\[]/.test(s)&&(n=s)}catch(e){}n=i.write?i.write(n,t):encodeURIComponent(String(n)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),t=encodeURIComponent(String(t)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var a="";for(var c in r)r[c]&&(a+="; "+c,!0!==r[c]&&(a+="="+r[c].split(";")[0]));return document.cookie=t+"="+n+a}}function s(e,n){if("undefined"!=typeof document){for(var o={},r=document.cookie?document.cookie.split("; "):[],s=0;s<r.length;s++){var a=r[s].split("="),c=a.slice(1).join("=");n||'"'!==c.charAt(0)||(c=c.slice(1,-1));try{var l=t(a[0]);if(c=(i.read||i)(c,l)||t(c),n)try{c=JSON.parse(c)}catch(e){}if(o[l]=c,e===l)break}catch(e){}}return e?o[e]:o}}return o.set=r,o.get=function(e){return s(e,!1)},o.getJSON=function(e){return s(e,!0)},o.remove=function(t,n){r(t,"",e(n,{expires:-1}))},o.defaults={},o.withConverter=n,o}((function(){}))},e.exports=n()}(t={exports:{}}),t.exports}(),K=function(e,t){try{return q.get(e)}catch(e){return""}},V=function(e,t,n,i){try{var o=i||document.domain,r=+new Date+(n||6048e5);q.set(e,t,{expires:new Date(r),path:"/",domain:o})}catch(e){}},W=function(){function e(){this.cache={}}return e.prototype.setItem=function(e,t){this.cache[e]=t},e.prototype.getItem=function(e){return this.cache[e]},e.prototype.removeItem=function(e){this.cache[e]=void 0},e.prototype.getCookie=function(e,t){return K(e)},e.prototype.setCookie=function(e,t,n,i){V(e,t,n,i)},e}(),F={getItem:function(e){try{var t=localStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{localStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return K(e)},setCookie:function(e,t,n,i){V(e,t,n,i)},isSupportLS:function(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},J={getItem:function(e){try{var t=sessionStorage.getItem(e),n=t;try{t&&"string"==typeof t&&(n=JSON.parse(t))}catch(e){}return n||{}}catch(e){}return{}},setItem:function(e,t){try{var n="string"==typeof t?t:JSON.stringify(t);sessionStorage.setItem(e,n)}catch(e){}},removeItem:function(e){try{sessionStorage.removeItem(e)}catch(e){}},getCookie:function(e,t){return K(e)},setCookie:function(e,t,n,i){V(e,t,n,i)},isSupportSession:function(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch(e){return!1}}()},H=function(){function e(e,t){this._storage=t&&"session"===t?J:!e&&F.isSupportLS?F:new W}return e.prototype.getItem=function(e){return this._storage.getItem(e)},e.prototype.setItem=function(e,t){this._storage.setItem(e,t)},e.prototype.getCookie=function(e,t){return this._storage.getCookie(e,t)},e.prototype.setCookie=function(e,t,n,i){this._storage.setCookie(e,t,n,i)},e.prototype.removeItem=function(e){this._storage.removeItem(e)},e}(),X=function(){function e(e,t,n){this.appid=e,this.domain=t,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=n}return e.prototype.init=function(){var e=window.navigator.userAgent,t=window.navigator.language,n=document.referrer,i=n?j(n).hostname:"",o=P(window.location.href),r=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=function(e,t,n,i){var o=new H(!1,"session"),r=e?"_$utm_from_url_"+e:"_$utm_from_url",s={},a=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],c={ad_id:Number(t.ad_id)||void 0,campaign_id:Number(t.campaign_id)||void 0,creative_id:Number(t.creative_id)||void 0,utm_source:t.utm_source,utm_medium:t.utm_medium,utm_campaign:t.utm_campaign,utm_term:t.utm_term,utm_content:t.utm_content,tr_shareuser:t.tr_shareuser,tr_admaster:t.tr_admaster,tr_param1:t.tr_param1,tr_param2:t.tr_param2,tr_param3:t.tr_param3,tr_param4:t.tr_param4};try{var l=!1;for(var u in c)c[u]&&(-1!==a.indexOf(u)?(s.hasOwnProperty("tracer_data")||(s.tracer_data={}),s.tracer_data[u]=c[u]):s[u]=c[u],l=!0);l&&o.setItem(r,"1"),o.getItem(r)&&(s.hasOwnProperty("tracer_data")||(s.tracer_data={}),s.tracer_data.$utm_from_url=1)}catch(e){return c}return s}(this.appid,o,this.domain,this.cookie_expire);var s=this.browser(),a=this.os();return{browser:s.browser,browser_version:s.browser_version,platform:r,os_name:a.os_name,os_version:a.os_version,userAgent:e,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(a.os_name),language:t,referrer:n,referrer_host:i,utm:this.utm,latest_data:this.last(n,i)}},e.prototype.last=function(e,t){var n="",i="",o="",r=location.hostname,s=!1;if(e&&t&&r!==t){n=e,i=t,s=!0;var a=P(e);a.keyword&&(o=a.keyword)}return{$latest_referrer:n,$latest_referrer_host:i,$latest_search_keyword:o,isLast:s}},e.prototype.browser=function(){var e,t,n="",i=""+parseFloat(this.appVersion),o=this.userAgent;return-1!==o.indexOf("Edge")||-1!==o.indexOf("Edg")?(n="Microsoft Edge",-1!==o.indexOf("Edge")?(e=o.indexOf("Edge"),i=o.substring(e+5)):(e=o.indexOf("Edg"),i=o.substring(e+4))):-1!==(e=o.indexOf("MSIE"))?(n="Microsoft Internet Explorer",i=o.substring(e+5)):-1!==(e=o.indexOf("Lark"))?(n="Lark",i=o.substring(e+5,e+11)):-1!==o.indexOf("Chrome")?-1!==(e=o.indexOf("TTWebView"))?(n="TTWebView",i=o.substring(e+10,e+23)):(-1!==(e=o.indexOf("Chrome"))||-1!==(e=o.indexOf("Chrome")))&&(n="Chrome",i=o.substring(e+7)):-1!==o.indexOf("Safari")?-1!==(e=o.indexOf("Safari"))&&(n="Safari",i=o.substring(e+7),-1!==(e=o.indexOf("Version"))&&(i=o.substring(e+8))):-1!==(e=o.indexOf("Firefox"))&&(n="Firefox",i=o.substring(e+8)),-1!==(t=i.indexOf(";"))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(" "))&&(i=i.substring(0,t)),-1!==(t=i.indexOf(")"))&&(i=i.substring(0,t)),{browser:n,browser_version:i}},e.prototype.os=function(){for(var e="",t="",n=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/},{s:"ChromeOS",r:/CrOS/},{s:"Linux",r:/(Linux|X11)/},{s:"Sun OS",r:/SunOS/}],i=0;i<n.length;i++){var o=n[i];if(o.r.test(this.userAgent)){"Mac OS X"===(e=o.s)&&this.isNewIpad()&&(e="iOS");break}}var r,s,a=function(e,t){var n=e.exec(t);return n&&n[1]?n[1]:""},c=function(e,t){var n=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+e+")","i").exec(t);return n?n.slice(1)[0]:""};switch(/Windows/.test(e)&&(t=a(/Windows (.*)/,e),e="windows"),e){case"Mac OS X":t=c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),e="mac";break;case"Android":(s=a(/Android ([\.\_\d]+)/,r=this.userAgent))||(s=a(/Android\/([\.\_\d]+)/,r)),t=s,e="android";break;case"iOS":t=this.isNewIpad()?c("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(t=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?t[1]+"."+t[2]+"."+(0|t[3]):"",e="ios";break;case"chromeOS":var l=this.userAgent.indexOf("x86_64");t=this.userAgent.substring(l+7,l+16)}return{os_name:e,os_version:t}},e.prototype.getDeviceModel=function(e){var t="";try{if("android"===e)navigator.userAgent.split(";").forEach((function(e){e.indexOf("Build/")>-1&&(t=e.slice(0,e.indexOf("Build/")))}));else if("ios"===e||"mac"===e||"windows"===e)if(this.isNewIpad())t="iPad";else{var n=navigator.userAgent.replace("Mozilla/5.0 (",""),i=n.indexOf(";");t=n.slice(0,i)}}catch(e){return t.trim()}return t.trim()},e.prototype.isNewIpad=function(){return void 0!==this.userAgent&&"MacIntel"===navigator.platform&&"number"==typeof navigator.maxTouchPoints&&navigator.maxTouchPoints>1},e}(),Z={sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"},Y={va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},$={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z21z1ez4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",in:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z24z18z49z23z21z1cz18z21z22z4ez18z4az22z1gz1iz22z1mz1iz24z4az1az1mz1k",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"},Q={sg:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz25z4az23z21",va:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az22z1gz1iz22z1mz1iz24z4az23z21",ie:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4az22z1gz1iz22z1mz1iz25z4az1cz23",ie2:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z49z1gz1cz4ez4az22z1gz1iz22z1mz1iz25z4az1cz23"};!function(e){e.Init="init",e.Config="config",e.Start="start",e.Ready="ready",e.TokenComplete="token-complete",e.TokenStorage="token-storage",e.TokenFetch="token-fetch",e.TokenError="token-error",e.ConfigUuid="config-uuid",e.ConfigWebId="config-webid",e.ConfigDomain="config-domain",e.CustomWebId="custom-webid",e.TokenChange="token-change",e.TokenReset="token-reset",e.ConfigTransform="config-transform",e.EnvTransform="env-transform",e.SessionReset="session-reset",e.SessionResetTime="session-reset-time",e.Event="event",e.Events="events",e.EventNow="event-now",e.CleanEvents="clean-events",e.BeconEvent="becon-event",e.SubmitBefore="submit-before",e.SubmitScuess="submit-scuess",e.SubmitAfter="submit-after",e.SubmitError="submit-error",e.SubmitVerify="submit-verify",e.DestoryInstance="destory-instance",e.Stay="stay",e.ResetStay="reset-stay",e.StayReady="stay-ready",e.SetStay="set-stay",e.RouteChange="route-change",e.RouteReady="route-ready",e.Ab="ab",e.AbVar="ab-var",e.AbAllVars="ab-all-vars",e.AbConfig="ab-config",e.AbExternalVersion="ab-external-version",e.AbVersionChangeOn="ab-version-change-on",e.AbVersionChangeOff="ab-version-change-off",e.AbOpenLayer="ab-open-layer",e.AbCloseLayer="ab-close-layer",e.AbReady="ab-ready",e.AbComplete="ab-complete",e.AbTimeout="ab-timeout",e.Profile="profile",e.ProfileSet="profile-set",e.ProfileSetOnce="profile-set-once",e.ProfileUnset="profile-unset",e.ProfileIncrement="profile-increment",e.ProfileAppend="profile-append",e.ProfileClear="profile-clear",e.Autotrack="autotrack",e.AutotrackReady="autotrack-ready",e.CepReady="cep-ready",e.TracerReady="tracer-ready",e.sessionRecord="session-record",e.SessionRecordStart="session-record-start",e.SessionRecordPause="session-record-pause",e.SessionRecordEnd="session-record-end",e.SessionRecordReport="session-record-report",e.VisualCollectReady="visual-collect-ready",e.VisualApiReady="visual-api-ready",e.VisualApiUpdate="visual-api-update"}(M||(M={})),function(e){e.DEBUGGER_MESSAGE="debugger-message",e.DEBUGGER_MESSAGE_SDK="debugger-message-sdk",e.DEBUGGER_MESSAGE_FETCH="debugger-message-fetch",e.DEBUGGER_MESSAGE_FETCH_RESULT="debugger-message-fetch-result",e.DEBUGGER_MESSAGE_EVENT="debugger-message-event",e.DEVTOOL_WEB_READY="devtool-web-ready"}(C||(C={}));var ee=M,te=void 0,ne=(new Date).getTimezoneOffset(),ie=parseInt(""+-ne/60,10),oe=60*ne,re=function(){function e(e,t){this.is_first_time=!0,this.configPersist=!1,this.initConfig=t,this.collect=e;var n=new X(t.app_id,t.cookie_domain||"",t.cookie_expire||6048e5).init(),i="__tea_cache_first_"+t.app_id;this.configKey="__tea_cache_config_"+t.app_id,this.sessionStorage=new H(!1,"session"),this.localStorage=new H(!1,"local"),this.channelUrl="tcpy"===t.channel_type||"ttp"===t.channel_type?{WEBID_URL:"/v1/user/webid",TOB_URL:"",REPORT_URL:"/v1/list"}:{WEBID_URL:"/webid",TOB_URL:"/tobid",REPORT_URL:"/list"},t.configPersist&&(this.configPersist=!0,this.storage=1===t.configPersist?this.sessionStorage:this.localStorage);var o=this.localStorage.getItem(i);o&&1==o?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(i,"1")),this.envInfo={user:{user_unique_id:te,user_type:te,user_id:te,user_is_auth:te,user_is_login:te,device_id:te,web_id:te,ip_addr_id:te,user_unique_id_type:te},header:{app_id:te,app_name:te,app_install_id:te,install_id:te,app_package:te,app_channel:te,app_version:te,ab_version:te,os_name:n.os_name,os_version:n.os_version,device_model:n.device_model,ab_client:te,traffic_type:te,client_ip:te,device_brand:te,os_api:te,access:te,language:n.language,region:te,app_language:te,app_region:te,creative_id:n.utm.creative_id,ad_id:n.utm.ad_id,campaign_id:n.utm.campaign_id,log_type:te,rnd:te,platform:n.platform,sdk_version:"5.2.3_oversea",sdk_lib:"js",province:te,city:te,timezone:ie,tz_offset:oe,tz_name:te,sim_region:te,carrier:te,resolution:n.screen_width+"x"+n.screen_height,browser:n.browser,browser_version:n.browser_version,referrer:n.referrer,referrer_host:n.referrer_host,width:n.screen_width,height:n.screen_height,screen_width:n.screen_width,screen_height:n.screen_height,utm_term:n.utm.utm_term,utm_content:n.utm.utm_content,utm_source:n.utm.utm_source,utm_medium:n.utm.utm_medium,utm_campaign:n.utm.utm_campaign,tracer_data:JSON.stringify(n.utm.tracer_data),custom:{}}},this.ab_version="",this.ab_uuid_cache={},this.evtParams={},this.reportErrorCallback=function(){},this.isLast=!1,this.setCustom(n),this.initDomain(),this.initABData()}return e.prototype.initDomain=function(e){var t=this.initConfig.channel_domain;if(t)this.domain=t;else{var n=e||this.initConfig.channel,i=this.initConfig&&this.initConfig.channel_type?"tcpy"===this.initConfig.channel_type?$[n]:Q[n]:Z[n];i||(console.warn("current channel: "+n+" is not exist, use va instead, please check!!!!"),i=Z.sg),this.domain=L(i)}},e.prototype.setDomain=function(e){this.customDomain=!0,this.domain=e},e.prototype.getDomain=function(e){return this.customDomain||e&&this.initDomain(e),this.domain},e.prototype.initABData=function(){var e,t="__tea_sdk_ab_version_"+this.initConfig.app_id;e=this.localStorage.getItem(t),this.setAbCache(e)},e.prototype.setAbCache=function(e){this.ab_cache=e},e.prototype.getAbCache=function(){return this.ab_cache},e.prototype.clearAbCache=function(){this.ab_cache={},this.ab_version=""},e.prototype.setAbVersion=function(e){this.ab_version=e},e.prototype.getAbVersion=function(){return this.ab_version},e.prototype.setAbUuidCache=function(e,t){var n=t||this.envInfo.user.user_unique_id;this.ab_uuid_cache[""+n]||(this.ab_uuid_cache[""+n]=[]),-1===this.ab_uuid_cache[""+n].indexOf(e)&&this.ab_uuid_cache[""+n].push(e)},e.prototype.getAbUuidCache=function(e){return this.ab_uuid_cache[""+e]},e.prototype.getUrl=function(e){var t="";switch(e){case"event":t=this.channelUrl.REPORT_URL;break;case"webid":t=this.channelUrl.WEBID_URL;break;case"tobid":t=this.channelUrl.TOB_URL}var n="";return this.initConfig.caller&&(n="?sdk_version=5.2.3_oversea&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+t+n},e.prototype.setCustom=function(e){if(e&&e.latest_data&&e.latest_data.isLast)for(var t in delete e.latest_data.isLast,this.isLast=!0,e.latest_data)this.envInfo.header.custom[t]=e.latest_data[t]},e.prototype.setAppid=function(e){this.envInfo.header.app_id=e},e.prototype.set=function(e){var t=this;Object.keys(e).forEach((function(n){if(void 0!==e[n]&&null!==e[n]||t.delete(n),"traffic_type"===n&&t.isLast&&(t.envInfo.header.custom.$latest_traffic_source_type=e[n]),"evtParams"===n)t.evtParams=D(D({},t.evtParams||{}),e.evtParams||{});else if("_staging_flag"===n)t.evtParams=D(D({},t.evtParams||{}),{_staging_flag:e._staging_flag});else if("reportErrorCallback"===n&&"function"==typeof e[n])t.reportErrorCallback=e[n];else{var i="",o="";if(n.indexOf(".")>-1){var r=n.split(".");i=r[0],o=r[1]}i?"user"===i||"header"===i?t.envInfo[i][o]=e[n]:t.envInfo.header.custom[o]=e[n]:Object.hasOwnProperty.call(t.envInfo.user,n)?["user_type","ip_addr_id"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?Number(e[n]):e[n]:["user_id","web_id","user_unique_id","user_unique_id_type"].indexOf(n)>-1?t.envInfo.user[n]=e[n]?String(e[n]):e[n]:["user_is_auth","user_is_login"].indexOf(n)>-1?t.envInfo.user[n]=Boolean(e[n]):"device_id"===n&&(t.envInfo.user[n]=e[n]):Object.hasOwnProperty.call(t.envInfo.header,n)?t.envInfo.header[n]=e[n]:t.envInfo.header.custom[n]=e[n]}}))},e.prototype.get=function(e){try{return e?"evtParams"===e?this.evtParams:"reportErrorCallback"===e?this[e]:Object.hasOwnProperty.call(this.envInfo.user,e)?this.envInfo.user[e]:Object.hasOwnProperty.call(this.envInfo.header,e)?this.envInfo.header[e]:JSON.parse(JSON.stringify(this.envInfo[e])):JSON.parse(JSON.stringify(this.envInfo))}catch(e){console.log("get config stringify error "),this.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message})}},e.prototype.setStore=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};if(t&&Object.keys(e).length){var n=Object.assign(e,t);this.storage.setItem(this.configKey,n)}}catch(e){console.log("setStore error"),this.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message})}},e.prototype.getStore=function(){try{if(!this.configPersist)return null;var e=this.storage.getItem(this.configKey)||{};return e&&Object.keys(e).length?e:null}catch(e){return this.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message}),null}},e.prototype.delete=function(e){try{if(!this.configPersist)return;var t=this.storage.getItem(this.configKey)||{};t&&Object.hasOwnProperty.call(t,e)&&(delete t[e],this.storage.setItem(this.configKey,t))}catch(e){this.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message}),console.log("delete error")}},e}(),se=function(){function e(e,t){this.isLog=t||!1,this.name=e||""}return e.prototype.info=function(e){this.isLog&&console.log("%c %s","color: yellow; background-color: black;","[Tea instance: "+this.name+"] "+e)},e.prototype.warn=function(e){this.isLog&&console.warn("%c %s","color: #4D1B00; background-color: #FF7D00;","[Tea instance: "+this.name+"] "+e)},e.prototype.error=function(e){this.isLog&&console.error("%c %s","color: #FFF; background-color: #F53F3F;","[Tea instance: "+this.name+"] "+e)},e.prototype.throw=function(e){throw this.error(this.name),new Error(e)},e}(),ae=function(){function e(){this.spiderBot=["Baiduspider","googlebot","360Spider","haosouspider","YoudaoBot","Yisouspider","Googlebot","Headless","Applebot","Bingbot","PetalBot"]}return e.prototype.checkSpider=function(e){if(!e.enable_spider)return!1;var t=window.navigator.userAgent;if(!t)return!0;var n=!1;return this.spiderBot.forEach((function(e){-1!==t.indexOf(e)&&(n=!0)})),n},e}(),ce=function(){function e(e,t){this.collect=e,this.native=t}var t=e.prototype;return t.bridgeInject=function(){try{return!!this.native&&(AppLogBridge?(console.log("AppLogBridge is injected"),!0):(console.log("AppLogBridge is not inject"),!1))}catch(e){return console.log("AppLogBridge is not inject"),!1}},t.bridgeReady=function(){var e=this;return new Promise((function(t,n){try{e.bridgeInject()?AppLogBridge.hasStarted((function(e){console.log("AppLogBridge is started? : "+e),e?t(!0):n(!1)})):n(!1)}catch(e){console.log("AppLogBridge, error:"+JSON.stringify(e.stack)),n(!1)}}))},t.setNativeAppId=function(e){try{AppLogBridge.setNativeAppId(JSON.stringify(e)),console.log("change bridge appid, event report with appid: "+e)}catch(e){console.error("setNativeAppId error")}},t.setConfig=function(e){var t=this;try{Object.keys(e).forEach((function(n){"user_unique_id"===n?t.setUserUniqueId(e[n]):e[n]?t.addHeaderInfo(n,e[n]):t.removeHeaderInfo(n)}))}catch(e){console.error("setConfig error")}},t.setUserUniqueId=function(e){try{AppLogBridge.setUserUniqueId(e)}catch(e){console.error("setUserUniqueId error")}},t.addHeaderInfo=function(e,t){try{AppLogBridge.addHeaderInfo(e,t)}catch(e){console.error("addHeaderInfo error")}},t.setHeaderInfo=function(e){try{AppLogBridge.setHeaderInfo(JSON.stringify(e))}catch(e){console.error("setHeaderInfo error")}},t.removeHeaderInfo=function(e){try{AppLogBridge.removeHeaderInfo(e)}catch(e){console.error("removeHeaderInfo error")}},t.reportPv=function(e){this.onEventV3("predefine_pageview",e)},t.onEventV3=function(e,t){try{AppLogBridge.onEventV3(e,t),this.collect.emit(DebuggerMesssge.DEBUGGER_MESSAGE,{type:DebuggerMesssge.DEBUGGER_MESSAGE_EVENT,info:"bridge",time:Date.now(),data:[{events:[{event:e,params:t}]}],code:200,status:"success"})}catch(e){console.error("onEventV3 error")}},t.profileSet=function(e){try{AppLogBridge.profileSet(e)}catch(e){console.error("profileSet error")}},t.profileSetOnce=function(e){try{AppLogBridge.profileSetOnce(e)}catch(e){console.error("profileSetOnce error")}},t.profileIncrement=function(e){try{AppLogBridge.profileIncrement(e)}catch(e){console.error("profileIncrement error")}},t.profileUnset=function(e){try{AppLogBridge.profileUnset(e)}catch(e){console.error("profileUnset error")}},t.profileAppend=function(e){try{AppLogBridge.profileAppend(e)}catch(e){console.error("profileAppend error")}},e}(),le=function(){function e(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=e.configManager,this.cacheStorgae=new H(!0),this.localStorage=new H(!1),this.maxReport=t.max_report||10,this.reportTime=t.reportTime||30,this.timeout=t.timeout||1e5,this.enable_ttwebid=t.enable_ttwebid,this.reportUrl=t.report_url||this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.refer_key="__tea_cache_refer_"+this.configManager.get("app_id"),this.collect.on(ee.Ready,(function(){n.reportAll(!1)})),this.collect.on(ee.ConfigDomain,(function(){n.reportUrl=n.configManager.getUrl("event")})),this.collect.on(ee.Event,(function(e){n.event(e)})),this.collect.on(ee.BeconEvent,(function(e){n.beconEvent(e)})),this.collect.on(ee.CleanEvents,(function(){n.reportAll(!1)})),this.linster()},e.prototype.linster=function(){var e,t=this;window.addEventListener("unload",(function(){t.reportAll(!0)}),!1),e=function(){t.reportAll(!0)},navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",e,!1):window.addEventListener("beforeunload",e,!1),document.addEventListener("visibilitychange",(function(){"hidden"===document.visibilityState&&t.reportAll(!0)}),!1)},e.prototype.reportAll=function(e){this.report(e),this.reportBecon()},e.prototype.event=function(e){var t=this;try{var n=I(e,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,n),this.reportTimeout&&clearTimeout(this.reportTimeout),n.length>=this.maxReport)this.report(!1);else{var i=this.reportTime;this.reportTimeout=setTimeout((function(){t.report(!1),t.reportTimeout=null}),i)}}catch(e){this.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e){var t=I(e,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,t),this.collect.destroy||this.collect.sdkStop||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(t)),!0))},e.prototype.reportBecon=function(){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var e=this.cacheStorgae.getItem(this.beconKey)||[];e&&e.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(e)),!0))}},e.prototype.report=function(e){if(!this.collect.destroy&&!this.collect.sdkStop&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var t=this.cacheStorgae.getItem(this.eventKey)||[];t.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(t,e))}},e.prototype.sliceEvent=function(e,t){if(e.length>this.eventLimit)for(var n=0;n<e.length;n+=this.eventLimit){var i;i=e.slice(n,n+this.eventLimit);var o=this.split(this.merge(i));this.send(o,t)}else o=this.split(this.merge(e)),this.send(o,t)},e.prototype.handleRefer=function(){var e="";try{if(this.config.spa||this.config.autotrack){var t=this.localStorage.getItem(this.refer_key)||{};e=t.routeChange?t.refer_key:this.configManager.get("referrer")}else e=this.configManager.get("referrer")}catch(t){e=document.referrer}return e},e.prototype.merge=function(e,t){var n=this,i=this.configManager.get(),o=i.header,r=i.user;o.custom=JSON.stringify(o.custom),o.referrer=this.handleRefer();var s=this.configManager.get("evtParams"),a=this.configManager.get("user_unique_id_type"),c=e.map((function(e){try{Object.keys(s).length&&!t&&(e.params=D(D({},s),e.params)),a&&(e.params.$user_unique_id_type=a);var i=n.configManager.getAbCache(),o=r[n.config.ab_user_mode]||r.user_unique_id,c=n.configManager.getAbUuidCache(o);if(i&&i.uuid&&i.uuid===o){var l=n.configManager.getAbVersion();if(n.config.enable_ab_uuid){if(c&&c.length){var u=c.join(",");l&&l.includes(u)&&(e.ab_sdk_version=l)}}else l&&(e.ab_sdk_version=l)}return e.session_id=n.collect.sessionManager.getSessionId(),e.params=JSON.stringify(e.params),e}catch(t){return n.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:t.message}),e}})),l=JSON.parse(JSON.stringify({events:c,user:r,header:o}));l.local_time=Math.floor(Date.now()/1e3),l.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0,l.verbose=1;var u=[];return u.push(l),u},e.prototype.split=function(e){return e.map((function(e){var t=[];return t.push(e),t}))},e.prototype.send=function(e,t){var n=this;e.length&&(this.config.disable_track_event||e.forEach((function(e){try{var i=JSON.parse(JSON.stringify(e));n.config.filter&&((i=n.config.filter(i))||console.warn("filter must return data !!")),n.collect.eventFilter&&i&&((i=n.collect.eventFilter(i))||console.warn("filterEvent api must return data !!"));var o=i||e,r=JSON.parse(JSON.stringify(o));if(!o.length)return;var s=!0;if(o.forEach((function(e){e.events.length||(s=!1)})),!s)return;n.collect.emit(ee.SubmitBefore,o),n.collect.emit(ee.SubmitVerify,o),n.collect.requestManager.useRequest({url:n.reportUrl,data:o,success:function(e,t){e&&0!==e.e?(n.collect.emit(ee.SubmitError,{type:"f_data",eventData:t,errorCode:e.e,response:e}),n.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_EVENT,info:"",time:Date.now(),data:r,code:e.e,failType:"",status:"fail"})):(n.collect.emit(ee.SubmitScuess,{eventData:t,res:e}),n.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_EVENT,info:"",time:Date.now(),data:r,code:200,status:"success"}))},fail:function(e,t){n.configManager.get("reportErrorCallback")(e,t),n.collect.emit(ee.SubmitError,{type:"f_net",eventData:e,errorCode:t}),n.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_EVENT,info:"",time:Date.now(),data:r,code:t,failType:"",status:"fail"})},timeout:n.timeout,useBeacon:!n.config.disable_sendbeacon&&t,withCredentials:n.enable_ttwebid}),n.collect.emit(ee.SubmitAfter,o)}catch(e){console.warn("something error, "+JSON.stringify(e.stack)),n.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message})}})))},e}(),ue=function(){return function e(t){return t?(t^16*Math.random()>>t/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,e)}().replace(/-/g,"").slice(0,19)},pe=function(){function e(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.config=t,this.configManager=this.collect.configManager,this.storage=new H(!1),this.tokenKey="__tea_cache_tokens_"+t.app_id,this.enable_ttwebid=t.enable_ttwebid,this.enableCustomWebid=t.enable_custom_webid,this.collect.on(ee.ConfigUuid,(function(e){n.setUuid(e)})),this.collect.on(ee.ConfigWebId,(function(e){n.setWebId(e)})),this.enableCookie=t.cross_subdomain,this.expiresTime=t.cookie_expire||6048e5,this.cookieDomain=t.cookie_domain||"",this.checkStorage()},e.prototype.checkStorage=function(){var e=this;this.cacheToken=this.storage.getItem(this.tokenKey)||{},this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default","custom"!==this.tokenType||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(ee.CustomWebId,(function(){e.tokenReady=!0,e.collect.emit(ee.TokenComplete)})):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},e.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:ue(),user_unique_id:this.configManager.get("user_unique_id")||ue()}):this.remoteWebid()},e.prototype.checkEnv=function(){var e=window.navigator.userAgent;if(-1!==e.indexOf("miniProgram")||-1!==e.indexOf("MiniProgram")){var t=P(window.location.href);return!(!t||!t.Web_ID||(this.complete({web_id:""+t.Web_ID,user_unique_id:this.configManager.get("user_unique_id")||""+t.Web_ID}),0))}return!1},e.prototype.remoteWebid=function(){var e=this,t=this.configManager.getUrl("webid"),n={app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""};this.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK WEBID",logType:"fetch",level:"info",time:Date.now(),data:n});var i=ue();this.collect.requestManager.useRequest({url:t,data:n,success:function(t){var n;t&&0===t.e?(n=t.web_id,e.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"WEBID",logType:"fetch",level:"info",time:Date.now(),data:t})):(n=i,e.collect.configManager.set({localWebId:i}),e.collect.emit(ee.TokenError),e.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"WEBID",logType:"fetch",level:"warn",time:Date.now(),data:t}),e.collect.logger.warn("appid: "+e.config.app_id+" get webid error, use local webid~")),e.complete({web_id:e.configManager.get("web_id")||n,user_unique_id:e.configManager.get("user_unique_id")||n})},fail:function(){e.complete({web_id:e.configManager.get("web_id")||i,user_unique_id:e.configManager.get("user_unique_id")||i}),e.collect.configManager.set({localWebId:i}),e.collect.emit(ee.TokenError),e.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"WEBID",logType:"fetch",level:"error",time:Date.now(),data:null}),e.collect.logger.warn("appid: "+e.config.app_id+", get webid error, use local webid~")},timeout:3e5})},e.prototype.complete=function(e){var t=e.web_id,n=e.user_unique_id;e.timestamp=Date.now(),this.collect.configManager.set({web_id:t,user_unique_id:n}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(ee.TokenComplete)},e.prototype.completeTtWid=function(e){var t=e.user_unique_id||"",n=this.configManager.get("user_unique_id");(n||t)&&this.configManager.set({user_unique_id:n||t}),this.setStorage(e),this.tokenReady=!0,this.collect.emit(ee.TokenComplete)},e.prototype.setUuid=function(e){if(e&&-1===["null","undefined","Null","None"].indexOf(e)){var t=String(e),n=this.configManager.get("user_unique_id"),i=this.cacheToken&&this.cacheToken.user_unique_id;if(t===n&&t===i)return;this.configManager.set({user_unique_id:t}),this.cacheToken||(this.cacheToken={}),this.cacheToken.user_unique_id=t,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(ee.TokenChange,"uuid"),this.collect.emit(ee.SessionReset)}else this.clearUuid()},e.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(ee.TokenReset))},e.prototype.setWebId=function(e){if(e&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==e&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?e:this.cacheToken.user_unique_id,this.cacheToken.web_id=e):(this.cacheToken={},this.cacheToken.web_id=e,this.cacheToken.user_unique_id=e),this.cacheToken.timestamp=Date.now();var t=this.configManager.get("web_id"),n=this.configManager.get("user_unique_id");n&&n!==t||(this.configManager.set({user_unique_id:e}),this.collect.emit(ee.TokenChange,"uuid")),t!==e&&(this.configManager.set({web_id:e}),this.collect.emit(ee.TokenChange,"webid")),this.setStorage(this.cacheToken)}},e.prototype.setStorage=function(e){e._type_=this.enableCustomWebid?"custom":"default",delete e["diss".split("").reverse().join("")],this.storage.setItem(this.tokenKey,e),this.cacheToken=e},e.prototype.getReady=function(){return this.tokenReady},e.prototype.getTobId=function(){var e=this;return new Promise((function(t){"tcpy"!==e.config.channel_type&&"ttp"!==e.config.channel_type?e.collect.requestManager.useRequest({url:e.configManager.getUrl("tobid"),data:{app_id:e.config.app_id,user_unique_id:e.configManager.get("user_unique_id"),web_id:e.configManager.get("web_id"),user_unique_id_type:e.configManager.get("user_unique_id_type")},success:function(e){e&&0===e.e?t(e.tobid):t("")},fail:function(){t("")},time:3e4,withCredentials:e.enable_ttwebid}):t("")}))},e}(),fe=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))},he=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;this.collect=e,this.storage=new H(!1,"session"),this.sessionKey="__tea_session_id_"+t.app_id,this.expireTime=t.expireTime||18e5,this.disableSession=t.disable_session,this.disableSessionTimeCheck=t.disable_session_check,this.disableSession||(this.setSessionId(),this.collect.on(ee.SessionReset,(function(e){n.resetSessionId(e)})),this.collect.on(ee.SessionResetTime,(function(){n.updateSessionIdTime()})))},e.prototype.updateSessionIdTime=function(){var e=this.storage.getItem(this.sessionKey);if(e&&e.sessionId){var t=e.timestamp;Date.now()-t>this.expireTime?e={sessionId:fe(),timestamp:Date.now()}:e.timestamp=Date.now(),this.storage.setItem(this.sessionKey,e),this.resetExpTime()}},e.prototype.setSessionId=function(){var e=this,t=this.storage.getItem(this.sessionKey);t&&t.sessionId?t.timestamp=Date.now():t={sessionId:fe(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,t),this.disableSessionTimeCheck||(this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.getSessionId=function(){var e=this.storage.getItem(this.sessionKey);return this.disableSession?"":e&&e.sessionId?e.sessionId:""},e.prototype.resetExpTime=function(){var e=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval((function(){e.checkEXp()}),this.expireTime))},e.prototype.resetSessionId=function(e){var t={sessionId:e||fe(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,t)},e.prototype.checkEXp=function(){var e=this.storage.getItem(this.sessionKey);e&&e.sessionId&&Date.now()-e.timestamp+30>=this.expireTime&&(e={sessionId:fe(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,e))},e}(),de=function(){function e(e,t){this.collector=e,this.config=t,this.requestType=t.request_type||"xhr",this.supportBeacon=!(!window.navigator||!window.navigator.sendBeacon),this.errorCode={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005},this.customHeader=t.custom_request_header||{}}return e.prototype.useFetch=function(e){var t=e.url,n=e.data,i=e.method,o=e.success,r=e.fail,s={"Content-Type":"application/json; charset=utf-8"};if(Object.keys(this.customHeader).length)for(var a in this.customHeader)s[a]=this.customHeader[a];window.fetch?fetch(t,{method:i||"POST",headers:s,body:JSON.stringify(n)}).then((function(e){return e.json()})).then((function(e){o&&o(e)})).catch((function(e){r&&r(n,e)})):(this.requestType="xhr",console.log("your brwoser not support fetch, use xhr"),this.useRequest({url:t,data:n,method:i,success:o,fail:r}))},e.prototype.useBeacon=function(e){var t=e.url,n=e.data,i=e.success,o=e.fail;window.navigator.sendBeacon(t,JSON.stringify(n))?i&&i():o&&o(n,this.errorCode.BEACON_FALSE)},e.prototype.useRequest=function(e){var t=this,n=e.url,i=e.data,o=e.method,r=e.success,s=e.fail,a=e.timeout,c=e.useBeacon,l=e.withCredentials,u=e.app_key,p=e.forceXhr;if(c&&this.supportBeacon)this.useBeacon({url:n,data:i,method:o,success:r,fail:s});else if("fetch"!==this.requestType||p)try{var f=new XMLHttpRequest,h=o||"POST";if(f.open(h,""+n,!0),f.setRequestHeader("Content-Type","application/json; charset=utf-8"),u&&f.setRequestHeader("X-MCS-AppKey",""+u),Object.keys(this.customHeader).length)for(var d in this.customHeader)f.setRequestHeader(d,this.customHeader[d]);l&&(f.withCredentials=!0),a&&(f.timeout=a,f.ontimeout=function(){s&&s(i,t.errorCode.TIMEOUT)}),f.onload=function(){if(r){var e=null;if(f.responseText){try{e=JSON.parse(f.responseText)}catch(t){e={}}r(e,i)}}},f.onerror=function(){f.abort(),s&&s(i,t.errorCode.XHR_ON)},f.send(JSON.stringify(i))}catch(e){}else this.useFetch({url:n,data:i,method:o,success:r,fail:s})},e}(),ge=function(){function e(e,t){if(this.devToolReady=!1,this.devToolOrigin="*",this.sendAlready=!1,t.enable_debug){this.collect=e,this.config=t,this.app_id=t.app_id;var n=e.adapters.storage;this.cacheStorgae=new n(!1,"session"),this.filterEvent=["__bav_page","__bav_beat","__bav_page_statistics","__bav_click","__bav_page_exposure","bav2b_page","bav2b_beat","bav2b_page_statistics","bav2b_click","bav2b_page_exposure","_be_active","predefine_pageview","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append","predefine_page_alive","predefine_page_close","abtest_exposure"],this.load()}}return e.prototype.loadScript=function(e){try{var t=document.createElement("script");t.src=e,t.onerror=function(){console.log("load DevTool render fail")},t.onload=function(){console.log("load DevTool render success")},document.getElementsByTagName("body")[0].appendChild(t)}catch(e){console.log("devTool load fail, "+e.message)}},e.prototype.parseUrl=function(){var e={};try{var t=window.location.href.split("?")[1].split("&");t.length&&t.forEach((function(t){var n=t.split("=");e[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}))}catch(e){}return e},e.prototype.load=function(){try{var e=this.parseUrl();if(e.open_devtool_web&&e.app_id){if(parseInt(e.app_id)!==this.app_id)return}else if(!this.getStorage())return;this.loadBaseInfo(),this.loadHook(),this.setStorage(),this.addLintener(),this.loadDebuggerModule(),this.loadDevTool()}catch(e){console.log("debug fail, "+e.message)}},e.prototype.getStorage=function(){var e=this.cacheStorgae.getItem("__applog_devtool_web");return e&&parseInt(e)===this.app_id},e.prototype.setStorage=function(){this.cacheStorgae.setItem("__applog_devtool_web",this.app_id)},e.prototype.loadDevTool=function(){this.loadScript("https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/devtool/debug-web.js")},e.prototype.loadBaseInfo=function(){var e=this;this.info=[{title:"",type:1,infoName:{app_id:this.config.app_id,channel:this.config.channel,:this.collect.configManager.getDomain(),SDK:"5.2.3_oversea",SDK:"npm"}},{title:"",type:2,infoName:{uuid:this.collect.configManager.get("user").user_unique_id||"",web_id:this.collect.configManager.get("user").web_id||"",ssid:"SSID"}},{title:"",type:2,infoName:{:this.collect.configManager.get("browser"),:this.collect.configManager.get("browser_version"),:this.collect.configManager.get("platform"),:this.collect.configManager.get("device_model"),:this.collect.configManager.get("os_name"),:this.collect.configManager.get("os_version"),:this.collect.configManager.get("os_version"),:this.collect.configManager.get("referrer"),:""}},{title:"",type:3,infoName:{:!!this.config.autotrack,:!!this.config.enable_stay_duration}},{title:"A/B",type:4,infoName:{"A/B":!!this.config.enable_ab_test}},{title:"",type:3,infoName:{:!!this.config.Native}}],this.log=[],this.event=[],this.collect.on(ee.Ready,(function(){e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id,e.info[2].infoName[""]=JSON.stringify(e.collect.configManager.get("custom")),e.config.enable_ab_test&&(e.info[4].infoName["VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName["A/B"]=e.config.ab_channel_domain||L(Y[e.config.channel]),e.info[4].infoName[""]=e.collect.configManager.getAbData()),e.config.Native&&(e.info[5].infoName[""]=!!e.collect.bridgeReport)}))},e.prototype.loadHook=function(){var e=this;this.collect.on(C.DEBUGGER_MESSAGE,(function(t){switch(t.type){case C.DEBUGGER_MESSAGE_SDK:var n={time:t.time,type:t.logType||"sdk",level:t.level,name:t.info,show:!0,levelShow:!0,needDesc:!!t.data};return t.data&&(n.desc={content:JSON.stringify(t.data)}),e.updateLog(n),t.secType&&"AB"===t.secType?(e.info[4].infoName["VID"]=e.collect.configManager.getAbVersion(),e.info[4].infoName[""]=e.collect.configManager.getAbData()):"USER"===t.secType&&(e.info[1].infoName.uuid=e.collect.configManager.get("user").user_unique_id,e.info[1].infoName.web_id=e.collect.configManager.get("user").web_id),void e.updateInfo();case C.DEBUGGER_MESSAGE_EVENT:if(t.data&&t.data.length){var i=t.data[0],o=i.events;if(!o.length)return;o.forEach((function(n){n.checkShow=!0,n.searchShow=!0,n.success=t.status,n.type=-1!==e.filterEvent.indexOf(n.event)?"sdk":"cus",n.type=e.collect.bridgeReport?"bridge":n.type,n.info="","fail"===t.status&&(n.info={message:"code: "+t.code+" msg: "+t.failType})})),e.updateEvent(i)}return}}))},e.prototype.addLintener=function(){var e=this;window.addEventListener("message",(function(t){if(t.origin===location.origin){if(t&&t.data&&"devtool:web:ready"===t.data.type){if(e.devToolOrigin=t.origin,e.devToolReady=!0,e.sendAlready)return;console.log("inittttt"),e.sendData("devtool:web:init",{info:e.info,log:e.log,event:e.event}),e.sendAlready=!0}t&&t.data&&"devtool:web:ssid"===t.data.type&&e.collect.getToken((function(t){e.info[1].infoName.ssid=t.tobid,e.updateInfo()}))}}))},e.prototype.sendData=function(e,t){try{var n={type:e,payload:t};(window.opener||window.parent).postMessage(n,this.devToolOrigin)}catch(e){}},e.prototype.updateInfo=function(){this.devToolReady&&this.sendData("devtool:web:info",this.info)},e.prototype.updateLog=function(e){this.devToolReady?this.sendData("devtool:web:log",e):this.log.push(e)},e.prototype.updateEvent=function(e){this.devToolReady?this.sendData("devtool:web:event",e):this.event.push(e)},e.prototype.loadDebuggerModule=function(){var e=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.appendChild(document.createTextNode("#debugger-applog-web {\n      position: absolute;\n      width: 90px;\n      height: 30px;\n      background: #23c243;\n      border-radius: 6px;\n      color: #fff;\n      font-size: 12px;\n      bottom: 5%;\n      right: 10%;\n      text-align: center;\n      line-height: 30px;\n      cursor: pointer;\n      z-index:100;\n    }")),e.appendChild(t);var n=document.createElement("div");n.innerHTML='<div id="debugger-applog-web" class="debugger-applog-web">AppLog</div>';var i=document.createElement("div");i.innerHTML='<div id="debugger-container" class="debugger-container"></div>',document.getElementsByTagName("body")[0].appendChild(n),document.getElementsByTagName("body")[0].appendChild(i),document.getElementById("debugger-applog-web").addEventListener("click",(function(){(window.opener||window.parent).postMessage({type:"devtool:web:open-draw"},location.origin)}))},e}(),me={autotrack:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},tracer:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"},retry:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/retry.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/retry.js"},object:"LogRetry"},visual:{src:{sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/visual.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/visual.js"},object:"LogVisual"}},_e=["et","profile","heartbeat","monitor"],ye=function(){function e(e){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroy=!1,this.sdkReady=!1,this.adapters={},this.loadType="base",this.sdkStop=!1,this.name=e,this.hook=new B,this.remotePlugin=new Map,this.Types=ee,this.adapters.storage=H}return e.usePlugin=function(t,n,i){if(n){for(var o=!1,r=0,s=e.plugins.length;r<s;r++)if(e.plugins[r].name===n){e.plugins[r].plugin=t,e.plugins[r].options=i||{},o=!0;break}o||e.plugins.push({name:n,plugin:t,options:i})}else e.plugins.push({plugin:t})},e.prototype.usePlugin=function(e,t,n){e&&("full"===this.loadType&&_e.includes(e)?console.info("your sdk version has "+e+" already ~"):t?"string"==typeof t?this.remotePlugin.get(e)||this.remotePlugin.set(e,{src:t,call:n}):this.remotePlugin.get(e)||this.remotePlugin.set(e,{instance:t}):this.remotePlugin.get(e)||this.remotePlugin.set(e,"sdk"))},e.prototype.init=function(t){var n,i,o=this;try{n=JSON.parse(JSON.stringify(t))}catch(e){n=t}if(this.logger=new se(this.name,n.log),this.inited)this.logger.warn("[instance: "+this.name+"], every instance's api: init,  can be call only one time!");else if(n&&N(n))if(n.app_id&&"number"==typeof(i=n.app_id)&&!isNaN(i))if(!n.app_key||function(e){return"string"==typeof e}(n.app_key)){var r=["sg","va","in","ie","ie2"];n.channel_domain||-1!==r.indexOf(n.channel)||(this.logger.warn("your channel: "+n.channel+" is not exist. channel must be one of "+r.join(",")+", use sg instead, please check!!!"),n.channel="sg"),this.spider=new ae,this.spider.checkSpider(n)?this.logger.warn("The current environment may be a spider, can not report!"):(this.appBridge=new ce(this,n.enable_native),this.requestManager=new de(this,n),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new re(this,n),this.debugger=new ge(this,n),this.initConfig=n,this.emit(ee.Init),this.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK INIT",data:n,level:"info",time:Date.now()}),n.disable_auto_pv&&(this.disableAutoPageView=!0),this.bridgeReport||(this.configManager.setAppid(n.app_id),this.eventManager=new le,this.tokenManager=new pe,this.sessionManager=new he,Promise.all([new Promise((function(e){o.once(ee.TokenComplete,(function(){e(!0)}))})),new Promise((function(e){o.once(ee.Start,(function(){e(!0)}))}))]).then((function(){try{e.plugins.reduce((function(e,t){var n=t.plugin,i=t.options,r=Object.assign(o.initConfig,i),s=new n;return s.apply(o,r),e.push(s),e}),o.pluginInstances)}catch(e){console.warn("load plugin error, "+e.message),o.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message})}o.sdkReady=!0,o.emit(ee.Ready),o.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK ",time:Date.now(),level:"info",data:o.configManager.get("user")}),o.logger.info("appid: "+n.app_id+", userInfo:"+JSON.stringify(o.configManager.get("user"))),o.logger.info("appid: "+n.app_id+", sdk is ready, version is 5.2.3_oversea, you can report now !!!"),n.disable_auto_pv&&(o.disableAutoPageView=!0);try{("full"===o.loadType&&n.enable_ab_test||n.autotrack)&&(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch(e){o.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message})}o.pageView(),o.on(ee.TokenChange,(function(e){"webid"===e&&o.pageView(),o.logger.info("appid: "+n.app_id+" token change, new userInfo:"+JSON.stringify(o.configManager.get("user"))),o.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK ",time:Date.now(),secType:"USER",level:"info",data:o.configManager.get("user")})})),o.on(ee.TokenReset,(function(){o.logger.info("appid: "+n.app_id+" token reset, new userInfo:"+JSON.stringify(o.configManager.get("user"))),o.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK ",time:Date.now(),secType:"USER",level:"info",data:o.configManager.get("user")})})),o.on(ee.RouteChange,(function(e){e.init||n.disable_route_report||o.pageView()}))})),this.tokenManager.apply(this,n),this.eventManager.apply(this,n),this.sessionManager.apply(this,n)),this.inited=!0)}else this.logger.warn("app_key param is error, must be string, please check!");else this.logger.warn("app_id param is error, must be number, please check!");else this.logger.warn("init params error,please check")},e.prototype.config=function(e){if(this.inited)if(e&&N(e)){var t;try{t=JSON.parse(JSON.stringify(t))}catch(n){t=e}if(this.bridgeReport)this.appBridge.setConfig(t);else{t._staging_flag&&1===t._staging_flag&&(this.staging=!0),t.disable_auto_pv&&(this.disableAutoPageView=!0,delete t.disable_auto_pv);var n=D({},t);if(this.initConfig&&this.initConfig.configPersist){var i=this.configManager.getStore();i&&(n=Object.assign(i,t)),this.configManager.setStore(t)}n.web_id,n.user_unique_id;var o=function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(i=Object.getOwnPropertySymbols(e);o<i.length;o++)t.indexOf(i[o])<0&&(n[i[o]]=e[i[o]])}return n}(n,["web_id","user_unique_id"]);n.hasOwnProperty("web_id")&&this.emit(ee.ConfigWebId,n.web_id),n.hasOwnProperty("user_unique_id")&&this.emit(ee.ConfigUuid,n.user_unique_id),this.configManager.set(o),this.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK CONFIG",level:"info",time:Date.now(),data:n})}}else console.warn("config params is error, please check");else console.warn("config must be use after function init")},e.prototype.setDomain=function(e){this.configManager&&this.configManager.setDomain(e),this.emit(ee.ConfigDomain)},e.prototype.getConfig=function(e){return this.configManager.get(e)},e.prototype.send=function(){this.start()},e.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(ee.Start),this.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK START",level:"info",time:Date.now()}),this.bridgeReport&&(this.pageView(),this.emit(ee.Ready)))},e.prototype.event=function(e,t){var n=this;try{var i=[];if(Array.isArray(e))e.forEach((function(e){var t=n.processEvent(e[0],e[1]||{});t&&i.push(t)}));else{var o=this.processEvent(e,t);if(!o)return;i.push(o)}this.bridgeReport?i.forEach((function(e){var t=e.event,i=e.params;n.appBridge.onEventV3(t,JSON.stringify(i))})):i.length&&(this.emit(ee.Event,i),this.emit(ee.SessionResetTime))}catch(e){this.logger.warn("something error, please check"),this.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message})}},e.prototype.beconEvent=function(e,t){if(Array.isArray(e))this.logger.warn("beconEvent not support batch report, please check");else{var n=[],i=this.processEvent(e,t||{});i&&(n.push(i),n.length&&(this.emit(ee.BeconEvent,n),this.emit(ee.SessionResetTime)))}},e.prototype.beaconEvent=function(e,t){this.beconEvent(e,t)},e.prototype.processEvent=function(e,t){void 0===t&&(t={});try{if(!e)return console.warn("eventName is null please check"),null;var n=e;/^event\./.test(e)&&(n=e.slice(6));var i=t;"object"!=typeof i&&(i={}),i.profile?delete i.profile:i.event_index=U();var o=void 0;return i.local_ms?(o=i.local_ms,delete i.local_ms):o=+new Date,{event:n,params:i,local_time_ms:o,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch(n){return this.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:n.message}),{event:e,params:t}}},e.prototype.filterEvent=function(e){this.eventFilter=e},e.prototype.on=function(e,t){this.hook.on(e,t)},e.prototype.once=function(e,t){this.hook.once(e,t)},e.prototype.off=function(e,t){this.hook.off(e,t)},e.prototype.emit=function(e,t,n){this.hook.emit(e,t,n)},e.prototype.set=function(e){this.hook.set(e)},e.prototype.stop=function(){this.sdkStop=!0},e.prototype.reStart=function(){this.sdkStop=!1},e.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},e.prototype.predefinePageView=function(e){if(void 0===e&&(e={}),this.inited){var t={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+(this.configManager&&this.configManager.is_first_time||!1)},n=D(D({},t),e);this.event("predefine_pageview",n)}else console.warn("predefinePageView should call after init")},e.prototype.clearEventCache=function(){this.emit(ee.CleanEvents)},e.prototype.setWebId=function(e){this.config({web_id:""+e})},e.prototype.setNativeAppId=function(e){this.bridgeReport&&this.appBridge.setNativeAppId(e)},e.prototype.getSessionId=function(){return fe()},e.prototype.setSessionId=function(e){this.emit(ee.SessionReset,e)},e.prototype.resetStayDuration=function(e,t,n){this.emit(ee.ResetStay,{url_path:e,title:t,url:n},ee.Stay)},e.prototype.resetStayParams=function(e,t,n){void 0===e&&(e=""),void 0===t&&(t=""),void 0===n&&(n=""),this.emit(ee.SetStay,{url_path:e,title:t,url:n},ee.Stay)},e.prototype.getToken=function(e,t){var n=this;if(this.inited){var i=!1,o=function(t){if(!i){i=!0;var o=n.configManager.get().user;return t&&(o.tobid=t,o["diss".split("").reverse().join("")]=t),e(D({},o))}},r=function(){n.tokenManager.getTobId().then((function(e){o(e)}))};this.sdkReady?r():(t&&setTimeout((function(){o()}),t),this.on(ee.Ready,(function(){r()})))}else console.warn("predefinePageView should call after init")},e.prototype.profileSet=function(e){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(e)):this.emit(ee.ProfileSet,e,ee.Profile),this.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK profileSet",level:"info",time:Date.now(),data:e})},e.prototype.profileSetOnce=function(e){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(e)):this.emit(ee.ProfileSetOnce,e,ee.Profile),this.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK profileSetOnce",level:"info",time:Date.now(),data:e})},e.prototype.profileIncrement=function(e){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(e)):this.emit(ee.ProfileIncrement,e,ee.Profile),this.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK profileIncrement",level:"info",time:Date.now(),data:e})},e.prototype.profileUnset=function(e){this.bridgeReport?this.appBridge.profileUnset(e):this.emit(ee.ProfileUnset,e,ee.Profile),this.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK profileUnset",level:"info",time:Date.now(),data:e})},e.prototype.profileAppend=function(e){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(e)):this.emit(ee.ProfileAppend,e,ee.Profile),this.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"SDK profileAppend",level:"info",time:Date.now(),data:e})},e.prototype.setExternalAbVersion=function(e){this.emit(ee.AbExternalVersion,"string"==typeof e&&e?(""+e).trim():null,ee.Ab)},e.prototype.getVar=function(e,t,n,i){this.emit(ee.AbVar,{name:e,defaultValue:t,callback:n,uuid:i},ee.Ab)},e.prototype.getABconfig=function(e,t){this.emit(ee.AbConfig,{params:e,callback:t},ee.Ab)},e.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},e.prototype.onAbSdkVersionChange=function(e){var t=this;return this.emit(ee.AbVersionChangeOn,e,ee.Ab),function(){t.emit(ee.AbVersionChangeOff,e,ee.Ab)}},e.prototype.offAbSdkVersionChange=function(e){this.emit(ee.AbVersionChangeOff,e,ee.Ab)},e.prototype.openOverlayer=function(){this.emit(ee.AbOpenLayer,"",ee.Ab)},e.prototype.closeOverlayer=function(){this.emit(ee.AbCloseLayer,"",ee.Ab)},e.prototype.getAllVars=function(e){this.emit(ee.AbAllVars,e,ee.Ab)},e.prototype.destoryInstace=function(){this.destroy||(this.destroy=!0,this.off(ee.TokenComplete),this.emit(ee.DestoryInstance))},e.prototype.destroyInstance=function(){this.destroy||(this.destroy=!0,this.off(ee.TokenComplete),this.emit(ee.DestoryInstance))},e.plugins=[],e}(),ve=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(t.event_verify_url)if("string"==typeof t.event_verify_url){if(this.url=t.event_verify_url+"/v1/list_test",this.url){var i=e.Types;e.on(i.SubmitBefore,(function(t){e.requestManager.useBeacon({url:n.url,data:t})}))}}else console.log("please use correct et_test url")},e}(),be=function(){function e(){var e=this;this.setInterval=function(){e.clearIntervalFunc=function(e,t){void 0===e&&(e=function(){}),void 0===t&&(t=1e3);var n,i=Date.now()+t;return n=window.setTimeout((function o(){var r=Date.now()-i;e(),i+=t,n=window.setTimeout(o,Math.max(0,t-r))}),t),function(){window.clearTimeout(n)}}((function(){e.isSessionhasEvent&&e.endCurrentSession()}),e.sessionInterval)},this.clearInterval=function(){e.clearIntervalFunc&&e.clearIntervalFunc()}}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,!t.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var i=this.collect.Types;this.collect.on(i.SessionReset,(function(){n.process()}))}},e.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},e.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var e=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-e>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},e}(),Ee=function(){function e(){}return e.prototype.apply=function(e,t){var n=this;if(this.collect=e,this.config=t,!this.config.channel_domain&&!t.disable_track_event&&!t.disable_sdk_monitor){this.url=e.configManager.getUrl("event");var i=this.collect.Types;this.collect.on(i.Ready,(function(){n.sdkOnload()})),this.collect.on(i.SubmitError,(function(e){var t=e.type,i=e.eventData,o=e.errorCode;"f_data"===t&&n.sdkError(i,o)}))}},e.prototype.sdkOnload=function(){var e=this;try{var t=this.collect.configManager.get(),n=t.header,i=t.user,o=n.app_id,r=n.app_name,s=n.sdk_version,a=i.web_id,c={events:[{event:"onload",params:JSON.stringify({app_id:o,app_name:r||"",sdk_version:s,sdk_type:"npm",sdk_config:this.config,sdk_desc:"TOC_OVERSEA"}),local_time_ms:Date.now()}],user:{user_unique_id:a},header:{}};setTimeout((function(){e.collect.requestManager.useRequest({url:e.url,data:[c],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e.prototype.sdkError=function(e,t){var n=this;try{var i=e[0],o=i.user,r=i.header,s=[];e.forEach((function(e){e.events.forEach((function(e){s.push(e)}))}));var a={events:s.map((function(e){return{event:"on_error",params:JSON.stringify({error_code:t,app_id:r.app_id,app_name:r.app_name||"",error_event:e.event,sdk_version:r.sdk_version,local_time_ms:e.local_time_ms,tea_event_index:Date.now(),params:e.params,header:JSON.stringify(r),user:JSON.stringify(o)}),local_time_ms:Date.now()}})),user:{user_unique_id:o.user_unique_id},header:{}};setTimeout((function(){n.collect.requestManager.useRequest({url:n.url,data:[a],timeout:3e4,app_key:"566f58151b0ed37e",forceXhr:!0})}),16)}catch(e){}},e}(),Se="undefined"!=typeof window?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null,we=function(){function e(){}return e.prototype.apply=function(e,t){this._plugin={},this.config=t,this.collect=e,this.channel=t.channel||"cn",this.loadExtend()},e.prototype.loadExtend=function(){var e=this;try{this.collect.remotePlugin.forEach((function(t,n){if("sdk"===t)if(me.hasOwnProperty(n)){var i=me[n].object,o=""+me[n].src[e.channel];e.exist(n,i,o)}else console.warn("your "+n+" is not existplease check plugin name");else"object"==typeof t&&(t.src?e.exist(n,t.call,t.src):e.process(n,t.instance,"INSTANCE"))}))}catch(e){this.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message}),console.log("load extend error")}},e.prototype.exist=function(e,t,n){var i=this;Se[t]?(this.process(e,Se[t]),console.log(""+e+"~")):this.loadPlugin(e,n,(function(){i.process(e,Se[t]),console.log(" %c %s %s %s","color: yellow; background-color: black;","","load plugin:"+e+" success","-")}),(function(){console.log(" %c %s %s %s","color: red; background-color: yellow;","","load plugin:"+e+" error","-")}))},e.prototype.process=function(e,t,n){try{if(n){var i=new t;i.apply&&i.apply(this.collect,this.config),console.log("excude "+e+" success")}else t&&t(this.collect,this.config)}catch(t){this.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:t.message}),console.log("excude "+e+" error, message:"+t.message)}},e.prototype.loadPlugin=function(e,t,n,i){var o=this;try{var r=document.createElement("script");r.src=t,this._plugin[e]||(this._plugin[e]=[]),this._plugin[e].push(n),r.onerror=function(){i(t)},r.onload=function(){o._plugin[e].forEach((function(e){e()}))},document.getElementsByTagName("head")[0].appendChild(r)}catch(e){this.collect.emit(C.DEBUGGER_MESSAGE,{type:C.DEBUGGER_MESSAGE_SDK,info:"",level:"error",time:Date.now(),data:e.message})}},e}();ye.usePlugin(we,"extend"),ye.usePlugin(ve,"et"),ye.usePlugin(be,"heartbeat"),ye.usePlugin(Ee,"monitor");var ke=new ye("default"),ze=3053,Ae=3297;var Re=function(e){function t(t){var n=t.test,i=t.TEAChannelDomain,o=void 0===i?"":i,r=t.mode,s=t.TEAChannel,a=t.TEAChannelType;return t.tracker=o||a||s?function(e){var t=e.isTest,n=e.channel_domain,i=e.channel_type,o=e.channel,r=/snssdk|zijieapi/g.test(n)&&/ttp|tcpy/g.test(i)&&/va|sg|in/g.test(o)?ze:Ae;return ke.init({app_id:r,channel_type:i,channel:o,channel_domain:n}),ke.config({_staging_flag:t?1:0,enable_et_test:t}),ke.start(),ke.event.bind(ke)}({isTest:n||"test"===r,channel_domain:o,channel_type:a,channel:s}):function(){},e.call(this,t)||this}return o(t,e),t}(x)},35717:e=>{"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}}}]);
//# sourceMappingURL=vendors-9db5d9a1.82fe0f21d37a13f3b1e7.bundle.js.map