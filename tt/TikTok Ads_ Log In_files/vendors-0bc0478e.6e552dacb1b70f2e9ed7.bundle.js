(self.webpackChunkaccount_center_i18n_web_v2=self.webpackChunkaccount_center_i18n_web_v2||[]).push([[7411],{22706:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>fe});var n,o=r(84564),i=r.n(o),a=r(73240),s=r(41800),l=r(16796),c=r(55350),u=r(59709),f=Object.defineProperty,p=Object.defineProperties,d=Object.getOwnPropertyDescriptors,m=Object.getOwnPropertySymbols,h=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,_=(e,t,r)=>t in e?f(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,v=(e,t)=>{for(var r in t||(t={}))h.call(t,r)&&_(e,r,t[r]);if(m)for(var r of m(t))y.call(t,r)&&_(e,r,t[r]);return e},g=(e,t)=>p(e,d(t)),b=(e,t,r)=>(_(e,"symbol"!=typeof t?t+"":t,r),r),E=(e,t,r)=>new Promise(((n,o)=>{var i=e=>{try{s(r.next(e))}catch(e){o(e)}},a=e=>{try{s(r.throw(e))}catch(e){o(e)}},s=e=>e.done?n(e.value):Promise.resolve(e.value).then(i,a);s((r=r.apply(e,t)).next())}));function S(){return console.warn("[FVS SDK]: Slardar client is not initialized."),n}function w(e,...t){return"test"===e&&console.log("[FVS solution]:",...t)}function I(){}function N(e){let t=e;try{t=JSON.stringify(e)}catch(t){console.warn("[safeJSONStringify]: Failed to stringify.",e)}return t}function O(e){return`FVS_WEB_SDK:${e}`}var T=e=>null!==e&&"IFRAME"===e.tagName,R=(e,t)=>new Promise((r=>{setTimeout((()=>{r(t)}),e)})),A={};((e,t)=>{for(var r in t)f(e,r,{get:t[r],enumerable:!0})})(A,{EVT_FOR_HEALTH_CHECK_ACK:()=>x,EVT_FOR_HEALTH_CHECK_SYN:()=>P,FVS_EVENT_NAME:()=>k,PIPO_THEME_STYLE:()=>$,SCENE_NAME_FOR_FULL_TRAFFIC:()=>D});var k="FVS_SDK_EVENTS",$=["ttam","ttbc","tts_sellercenter","flow","capcut","capcut_commerce","dreamina"],D="full_traffic_for_pipo_container",x="FVS_HEALTH_CHECK_ACK",P="FVS_HEALTH_CHECK_SYN",M={full_page:{href:"aweme://webview",query:{append_common_params:1,hide_nav_bar:1,use_spark:1}},half_page_for_ios:{href:"aweme://webview_popup",query:{append_common_params:1,hide_nav_bar:1,use_spark:1,container_bg_color_light:"FFFFFF",container_bg_color_dark:161823,enable_pull_down_close:0,keyboard_adjust:0,show_mask:1,mask_bg_color:"00000080",enable_relative_calculation:1,height:"90%"}},half_page_for_android:{href:"aweme://webview_popup",query:{append_common_params:1,hide_nav_bar:1,use_spark:1,use_ui_orientation:1,keyboard_adjust:0,landscape_gravity:"right",gravity:"bottom",container_bg_color_light:"FFFFFF",container_bg_color_dark:"161823",landscape_height:"100%",landscape_width:375,show_mask:1,mask_bg_color:"00000080",enable_pull_down_close:0,enable_relative_calculation:1,height:"90%",radius:12}}};function F(e){const t=i()(e.url,!0),r=(n=v(v({},t.query),e.query),Object.keys(n).forEach((e=>void 0===n[e]&&delete n[e])),n);var n;return t.set("query",r).toString()}var j=F,L=()=>{const{userAgent:e}=window.navigator;return/iPhone|iPad|iPod/i.test(e)||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1?4:/Android/i.test(e)?3:/Macintosh|MacIntel|MacPPC|Mac68K/i.test(e)?1:/Windows|Win16|Win32|WinCE|Win64/i.test(e)?2:0},C=(L(),L(),4===L()),H=3===L(),V=C||H,G=(/^((?!Chrome|Android).)*Safari/i.test(navigator.userAgent),{type:void 0,set(e){this.type=e},get(){return this.type?this.type:(0,c.Bi)()?"inapp":V?"mobile":"popup"}});var U={inapp:function(e){return E(this,null,(function*(){let t=function(e){let t="full_page";e.preferHalfPage&&(t="ios"===a.z().Platform?"half_page_for_ios":"half_page_for_android");const r=M[t];return F({url:r.href,query:v(g(v({},r.query),{url:e.url}),e.params||{})})}({preferHalfPage:e.preferHalfPage,url:e.url,params:e.appendSchemaParams||{}});return t=yield function(e,t){return E(this,null,(function*(){var r;if(t===D)return F({url:e,query:{target_handler:"pipo_hybrid",disable_auto_append_crossplatform_plugin:1}});const[,n]=yield(0,s.Z)(l.default.asyncCall("pipo.buildPIPOContainerSchema",{originSchema:e,scene:t})),o=(null==n?void 0:n.pipoSchema)||(null==(r=null==n?void 0:n.data)?void 0:r.pipoSchema);return 1===Number(null==n?void 0:n.code)&&"string"==typeof o?o:e}))}(t,e.sceneNameForPIPOContainer||D),l.default.asyncCall("x.open",{schema:t})}))},mobile:function(e){const t=document.createElement("iframe");return t.setAttribute("style",(0,u.Z)({position:"fixed",zIndex:"99999",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",backgroundColor:"transparent",border:"none",opacity:0})),t.id=O(e.verifyID),t.src=e.url,t.setAttribute("allow","camera;fullscreen;accelerometer;gyroscope;magnetometer"),t.setAttribute("border","0"),t.setAttribute("allowtransparency","true"),document.body.appendChild(t),Promise.resolve(t)},popup:function(e){const t=document.createElement("iframe");return t.setAttribute("style",(0,u.Z)({position:"fixed",zIndex:"99999",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",backgroundColor:"transparent",border:"none",opacity:0})),t.id=O(e.verifyID),t.src=e.url,t.setAttribute("allow","camera;fullscreen;accelerometer;gyroscope;magnetometer"),t.setAttribute("border","0"),t.setAttribute("allowtransparency","true"),document.body.appendChild(t),Promise.resolve(t)}},B=e=>U[e.containerType](e);function W(e,...t){return[...t].map((t=>t.replace(/\[([^\[\]]*)\]/g,".$1").split(".").filter((e=>""!==e)).reduce(((e,t)=>e[t]),e)))}function K(e){const t=S();if(W(e,"message","code","data.enter_from","data.container_id","data.verify_id").every((e=>void 0!==e))){"inapp"!==G.get()||Boolean(e.data.container_id)||null==t||t("captureException",new Error("[FVS SDK]: Missing container_id for dismissing webview"))}else null==t||t("captureException",new Error("[FVS SDK]: Missing key fields in event"),N(e))}var q={inapp:function(e){l.default.asyncCall("x.subscribeEvent",{eventName:k,timestamp:Date.now()});const t=l.default.on(k,(t=>{var r;const n=S(),o=(null==(r=null==t?void 0:t.data)?void 0:r.event)||(null==t?void 0:t.event)||void 0;if(!o){const e=new Error("[FVS SDK]: event data not exist.");throw null==n||n("captureException",e,{originData:N(t)}),e}if(K(o),e.verifyID!==o.data.verify_id){const t=new Error("[FVS SDK]: verify_id conflict.");throw null==n||n("captureException",t,{expectedVerifyID:e.verifyID,verifyID:o.data.verify_id}),t}e.handler(o)}));return()=>l.default.off(k,t)},mobile:function(e){const t=t=>{var r,n,o;if((null==(r=null==t?void 0:t.data)?void 0:r.eventName)!==k)return;const i=S(),a=null==(o=null==(n=null==t?void 0:t.data)?void 0:n.params)?void 0:o.event;if(!a){const e=new Error("[FVS SDK]: event data not exist.");throw null==i||i("captureException",e,{originData:N(t.data)}),e}K(a);const s=a.data.verify_id;if(s!==e.verifyID){const t=new Error("[FVS SDK]: verify_id conflict.");throw null==i||i("captureException",t,{expectedVerifyID:e.verifyID,verifyID:s}),t}e.handler(a)};return window.addEventListener("message",t),()=>window.removeEventListener("message",t)},popup:function(e){const t=t=>{var r,n,o;if((null==(r=null==t?void 0:t.data)?void 0:r.eventName)!==k)return;const i=S(),a=null==(o=null==(n=null==t?void 0:t.data)?void 0:n.params)?void 0:o.event;if(!a){const e=new Error("[FVS SDK]: event data not exist.");throw null==i||i("captureException",e,{originData:N(t.data)}),e}K(a);const s=a.data.verify_id;if(s!==e.verifyID){const t=new Error("[FVS SDK]: verify_id conflict.");throw null==i||i("captureException",t,{expectedVerifyID:e.verifyID,verifyID:s}),t}e.handler(a)};return window.addEventListener("message",t),()=>window.removeEventListener("message",t)}},J=e=>q[e.containerType](e);var z={inapp:function(e){return l.default.call("x.close",{containerID:e.webviewContainerID})},mobile:function(e){const t=`FVS_WEB_SDK:${e.verifyID}`,r=document.getElementById(t);if(!(null==r?void 0:r.parentNode))throw new Error(`[FVS Web SDK]: Iframe element-${t} is not found`);r.parentNode.removeChild(r)},popup:function(e){const t=`FVS_WEB_SDK:${e.verifyID}`,r=document.getElementById(t);if(!(null==r?void 0:r.parentNode))throw new Error(`[FVS Web SDK]: Iframe element-${t} is not found`);r.parentNode.removeChild(r)}},Y=e=>z[e.containerType](e);var X={inapp:function(e){const t="viewAppeared",r=S();l.default.asyncCall("x.subscribeEvent",{eventName:t,timestamp:Date.now()});const n=l.default.on(t,(()=>{try{e.callback()}catch(e){throw null==r||r("captureException",e),e}l.default.off(t,n)}));return()=>l.default.off(t,n)},mobile:function(e){const t=S(),r=O(e.verifyID),n=new MutationObserver((o=>{for(const i of o)for(let o=0;o<i.removedNodes.length;o++){const a=i.removedNodes[o];if((null==a?void 0:a.id)===r){console.log("FVS hosted page is deleted"),n.disconnect();try{e.callback()}catch(e){throw null==t||t("captureException",e),e}}break}}));return n.observe(document.body,{childList:!0,subtree:!0}),()=>n.disconnect()},popup:function(e){const t=S(),r=O(e.verifyID),n=new MutationObserver((o=>{o.forEach((o=>{o.removedNodes.forEach((o=>{if((null==o?void 0:o.id)===r){console.log("FVS hosted page is deleted"),n.disconnect();try{e.callback()}catch(e){throw null==t||t("captureException",e),e}}}))}))}));return n.observe(document.body,{childList:!0,subtree:!0}),()=>n.disconnect()}},Z=e=>X[e.containerType](e);var Q={inapp:function(e){return Promise.race([R(600,!1),new Promise((t=>{l.default.call("x.subscribeEvent",{eventName:x,timestamp:Date.now()}),l.default.once(x,(r=>{var n;console.log(">>> subscribe ack <<<",r,e);const o=(null==(n=null==r?void 0:r.data)?void 0:n.event)||(null==r?void 0:r.event);(null==o?void 0:o.verifyID)===e.verifyID&&t(!0)})),setTimeout((()=>{console.log(">>> emit syn <<<"),l.default.call("x.publishEvent",{eventName:P,timestamp:Date.now(),params:{verifyID:e.verifyID,action:"syn"}})}),100)}))])},mobile:function(e){return Promise.race([R(600,!1),new Promise((t=>{var r;const n=S();window.addEventListener("message",(r=>{var n,o,i;if((null==(n=null==r?void 0:r.data)?void 0:n.eventName)!==x)return;console.log(">>> [SDK]: subscribe ack <<<");const a=null==(i=null==(o=null==r?void 0:r.data)?void 0:o.params)?void 0:i.event;(null==a?void 0:a.verifyID)===e.verifyID&&t(!0)}));const o=O(e.verifyID),i=document.getElementById(`${o}`);if(T(i)){const t={eventName:P,params:{event:{verifyID:e.verifyID,action:"syn"}}};console.log(">>> [SDK]: emit syn <<<"),null==(r=i.contentWindow)||r.postMessage(t,"*")}else null==n||n("captureException",new Error("[FVS SDK]: IFrame doesn't exist."),{iframeID:o}),t(!1)}))])},popup:function(e){return Promise.race([R(600,!1),new Promise((t=>{var r;const n=S();window.addEventListener("message",(r=>{var n,o,i;if((null==(n=null==r?void 0:r.data)?void 0:n.eventName)!==x)return;const a=null==(i=null==(o=null==r?void 0:r.data)?void 0:o.params)?void 0:i.event;(null==a?void 0:a.verifyID)===e.verifyID&&t(!0)}));const o=O(e.verifyID),i=document.getElementById(`${o}`);if(T(i)){const t={eventName:P,params:{event:{verifyID:e.verifyID,action:"syn"}}};null==(r=i.contentWindow)||r.postMessage(t,"*")}else null==n||n("captureException",new Error("[FVS SDK]: IFrame doesn't exist."),{iframeID:o}),t(!1)}))])}},ee=e=>Q[e.containerType](e);var te={inapp:function(e){return l.default.asyncCall("x.request",{url:e.url,method:e.method.toUpperCase(),header:v({"content-type":"application/json"},e.headers),params:e.params,body:e.data}).then((t=>{var r;return{data:(null==(r=null==t?void 0:t.data)?void 0:r.response)||t,status:200,statusText:"ok",config:e}}))},mobile:function(e){return new Promise(((t,r)=>{let n=new XMLHttpRequest;const{data:o,responseType:i}=e;function a(){if(!n)return;!function(e,t,r){const{validateStatus:n}=r.config;r.status&&n&&!n(r.status)?t(new Error(`Request failed with status code ${r.status}`)):e(r)}((function(e){t(e)}),(function(e){r(e)}),{data:i?n.response:n.responseText,status:n.status,statusText:n.statusText,config:e,request:n}),n=null}n.open(e.method.toUpperCase(),e.url,!0),"number"==typeof e.timeout&&(n.timeout=e.timeout),"onloadend"in n?n.onloadend=a:n.onreadystatechange=function(){n&&4===n.readyState&&(0!==n.status||n.responseURL&&n.responseURL.startsWith("file:"))&&setTimeout(a)},n.onabort=function(){n&&(r(new Error("[FVS SDK]: request is aborted")),n=null)},n.onerror=function(){r(new Error("[FVS SDK]: Network error from API request")),n=null},n.ontimeout=function(){const t=e.timeout?`timeout of ${e.timeout} ms exceeded`:"timeout exceeded";r(new Error(`[FVS SDK]: ${t}`)),n=null},void 0!==e.headers&&Object.keys(e.headers).forEach((t=>{const r=e.headers[t];null==n||n.setRequestHeader(t,r)})),"boolean"==typeof e.withCredentials&&(n.withCredentials=e.withCredentials),i&&"json"!==i&&(n.responseType=e.responseType||""),n.send(o||null)}))},popup:function(e){return new Promise(((t,r)=>{let n=new XMLHttpRequest;const{data:o,responseType:i}=e;function a(){if(!n)return;!function(e,t,r){const{validateStatus:n}=r.config;r.status&&n&&!n(r.status)?t(new Error(`Request failed with status code ${r.status}`)):e(r)}((function(e){t(e)}),(function(e){r(e)}),{data:i?n.response:n.responseText,status:n.status,statusText:n.statusText,config:e,request:n}),n=null}n.open(e.method.toUpperCase(),e.url,!0),"number"==typeof e.timeout&&(n.timeout=e.timeout),"onloadend"in n?n.onloadend=a:n.onreadystatechange=function(){n&&4===n.readyState&&(0!==n.status||n.responseURL&&n.responseURL.startsWith("file:"))&&setTimeout(a)},n.onabort=function(){n&&(r(new Error("[FVS SDK]: request is aborted")),n=null)},n.onerror=function(){r(new Error("[FVS SDK]: Network error from API request")),n=null},n.ontimeout=function(){const t=e.timeout?`timeout of ${e.timeout} ms exceeded`:"timeout exceeded";r(new Error(`[FVS SDK]: ${t}`)),n=null},void 0!==e.headers&&Object.keys(e.headers).forEach((t=>{const r=e.headers[t];null==n||n.setRequestHeader(t,r)})),"boolean"==typeof e.withCredentials&&(n.withCredentials=e.withCredentials),i&&"json"!==i&&(n.responseType=e.responseType||""),n.send(o||null)}))}},re=e=>te[e.containerType](e);var ne=["EV_SUCCESS","EV_CANCEL","EV_FAIL","EV_FORGET_PIN","EV_UNEXPECTED_ERROR"],oe=class{constructor(e){b(this,"config"),b(this,"_slardar"),b(this,"_unsubscribeEvent",I),b(this,"_unsubscribeVisibilityChange",I),this.config=e||{env:"production",onChange(e){}}}setConfig(e){return this.config=Object.assign({},this.config,e),this.config.slardarClient&&(this._slardar=function(e,t="production"){if("function"==typeof e.init&&"function"==typeof e.start)return e.init({env:t,bid:"pipo_fvs_hosted_page",pid:"fvs_sdk",release:"fvs_sdk:0.5.0",plugins:{jsError:{onerror:!1,onunhandledrejection:!1,captureGlobalAsync:!1},ajax:!1,fmp:!1,fetch:!1,performance:!1,tti:!1,pageview:!1,action:!1,heatmap:!1,breadcrumb:!1,blankScreen:!1,resource:!1,resourceError:!1}}),e.start(),n=e,e}(this.config.slardarClient,this.config.env)),void 0!==this.config.containerType&&G.set(this.config.containerType),this}mockStart(e){if("production"===this.config.env)throw new Error("[FVS SDK]: Mock method is for test environment only.");const t={verify_id:"verify_id:for_self_test",verify_type:"OTP",verify_detail:{web_page_url:e.test_page_url,enter_from:"enter_from:for_self_test",fp_token:"test_token",merchant_id:"test_mid",merchant_user_id:"test_mid",mobile:"****",verify_center_host:"https://fp-sg.pipopay.com",verify_type:"OTP",code_type:"0",button:"",content:""}},r=g(v({},e),{riskVerifyInfo:JSON.stringify(g(v({},t),{verify_detail:JSON.stringify(t.verify_detail)}))});return this.start(r)}prepareForStart(e){return E(this,null,(function*(){var t,r,n,o,a,l,c,u,f;const p=G.get(),d=function(e){const t=S();if("string"!=typeof e.riskVerifyInfo){const e=new Error("[FVS SDK]: Please provide risk verify info");throw null==t||t("captureException",e),e}let r;try{r=JSON.parse(e.riskVerifyInfo),"string"==typeof r.verify_detail&&(r.verify_detail=JSON.parse(r.verify_detail))}catch(r){const n=new Error("[FVS SDK]: Failed to parse verify info.");throw null==t||t("captureException",n,{originData:e.riskVerifyInfo}),n}return r}(e);if(w(this.config.env,d),!function(e){return W(e,"verify_id","verify_detail.merchant_id","verify_detail.merchant_user_id").every((e=>void 0!==e))}(d)){const r=new Error("[FVS SDK]: Missing fields in risk verify info.");throw null==(t=this._slardar)||t.call(this,"captureException",r,{originData:e.riskVerifyInfo}),r}if(!function(e){return W(e,"verify_detail.enter_from","verify_detail.web_page_url").every((e=>void 0!==e))}(d)){if(!(null==(r=e.preference)?void 0:r.enterFrom)){const t=new Error("[FVS SDK]: Missing `enter_from` & `web_page_url` in risk verify info.");throw null==(n=this._slardar)||n.call(this,"captureException",t,{originData:e.riskVerifyInfo}),t}{w(this.config.env,"add enter_from and web_page_url manually");const[t,r]=yield(0,s.Z)(function(e){return E(this,null,(function*(){const t={enter_from:e.enterFrom,merchant_id:e.merchantID,merchant_user_id:e.merchantUserID,user_id:e.userID||void 0},[r,n]=yield(0,s.Z)(re({containerType:e.containerType,verifyID:e.verifyID,enterFrom:e.enterFrom,method:"POST",url:`${e.host}/payment/v1/risk/get_web_page_url`,data:"inapp"!==e.containerType?JSON.stringify(t):t,timeout:4e3,headers:{"Content-Type":"application/json"},validateStatus:e=>e>=200&&e<300}));if(void 0!==(null==n?void 0:n.data))return"string"==typeof n.data?JSON.parse(n.data):n.data;throw r||n}))}({enterFrom:null==(o=e.preference)?void 0:o.enterFrom,verifyID:d.verify_id,containerType:p,merchantID:d.verify_detail.merchant_id,merchantUserID:d.verify_detail.merchant_user_id,userID:d.verify_detail.user_id,host:d.verify_detail.verify_center_host}));if(w(this.config.env,">>> fetch web page url",r,t),!(null==(a=null==r?void 0:r.data)?void 0:a.web_page_url))throw new Error("[FVS SDK]: Failed to get the web page url from risk server side");d.verify_detail.enter_from=null==(l=e.preference)?void 0:l.enterFrom,d.verify_detail.web_page_url=r.data.web_page_url}}const m=d.verify_id,h=d.verify_detail.enter_from,y=Boolean(null==(c=e.preference)?void 0:c.preferHalfPage);let _=d.verify_detail.web_page_url;return _=function(e){const t=i()(e.url,!0);return t.set("pathname",t.pathname.replace(/(inapp|mobile|popup)_([\w_]+)\.html$/,(function(t,r,n){return`${e.containerType}_${n}.html`}))).toString()}({enterFrom:h,url:_,containerType:p,verifyID:m}),_=j({url:_,query:Object.assign({},{verify_id:m,enter_from:h,locale:e.locale,merchant_id:d.verify_detail.merchant_id,merchant_user_id:d.verify_detail.merchant_user_id,container_type:p,prefer_half_page:y?1:0,pipo_theme:null==(u=e.preference)?void 0:u.pipoDesignTheme,fp_token:d.verify_detail.fp_token},null==(f=e.preference)?void 0:f.urlParams)}),{containerType:p,verifyID:m,enterFrom:h,preferHalfPage:y,url:_}}))}_reset(){var e,t;null==(e=this._unsubscribeEvent)||e.call(this),null==(t=this._unsubscribeVisibilityChange)||t.call(this),this._unsubscribeEvent=I,this._unsubscribeVisibilityChange=I}start(e){return E(this,null,(function*(){var t,r,n,o,i,a;w(this.config.env,"The version of fvs_sdk:0.5.0");const{onChange:l=I}=this.config;let c="";null==(t=this._slardar)||t.call(this,"context.delete","trace_id"),null==(n=this._slardar)||n.call(this,"context.merge",{trace_id:(null==(r=e.preference)?void 0:r.traceID)||void 0}),null==(o=this._slardar)||o.call(this,"sendEvent",{name:"fvs_sdk_starts",metrics:{count:1}}),l({code:"EV_SDK_START",message:"[FVS]: FVS SDK starts",data:{verify_id:"",enter_from:"",container_id:"not_started_yet"}});const[u,f]=yield(0,s.Z)(this.prepareForStart(e));if(u)throw u;const{containerType:p,verifyID:d,enterFrom:m,preferHalfPage:h,url:y}=f;return null==(i=this._slardar)||i.call(this,"context.merge",{enter_from:m,verify_id:d,container_type:p}),null==(a=this._slardar)||a.call(this,"sendEvent",{name:"fvs_sdk_ready",metrics:{count:1},categories:{enter_from:m,container_type:p}}),l({code:"EV_SDK_READY",message:"[FVS]: FVS SDK is ready to start",data:{verify_id:"",enter_from:"",container_id:"not_started_yet"}}),w(this.config.env,y),new Promise(((t,r)=>{var n,o,i;w(this.config.env,"ready for subscribe");try{this._unsubscribeEvent=J({enterFrom:m,containerType:p,verifyID:d,handler:e=>{if(ne.includes(e.code))this._reset(),document.body.style.overflow=c||"",Y({enterFrom:m,containerType:p,verifyID:d,webviewContainerID:e.data.container_id}),"EV_SUCCESS"===e.code?t(e):r(e);else{if("EV_PAGE_LOADED"===e.code){c=document.body.style.overflow;const e=O(d),t=document.getElementById(e);t&&(t.style.opacity="1",document.body.style.overflow="hidden")}l(e)}}})}catch(e){throw w(this.config.env,`fail to subscribe: ${e}`),null==(n=this._slardar)||n.call(this,"captureException",e,{break_point:"subscribe"}),r(e),e}l({code:"EV_BRING_UP_VIEW",message:"[FVS]: Bring up the hosted page",data:{verify_id:d,enter_from:m,container_id:"not_started_yet"}}),w(this.config.env,"ready to open view"),B({enterFrom:m,containerType:p,verifyID:d,url:y,preferHalfPage:h,sceneNameForPIPOContainer:null==(o=e.preference)?void 0:o.sceneNameForPIPOContainer,appendSchemaParams:null==(i=e.preference)?void 0:i.schemaParams}).then((()=>{this._unsubscribeVisibilityChange=Z({enterFrom:m,containerType:p,verifyID:d,callback:()=>{w(this.config.env,">>> subscribeForVisibilityChange - callback"),ee({enterFrom:m,verifyID:d,containerType:p}).then((e=>{if(w(this.config.env,">>> check health",e),!e){const e={code:"EV_CANCEL",message:"[FVS SDK]: User cancels the process through other means",data:{enter_from:m,container_id:"unknown",verify_id:d}};this._reset(),r(e)}}))}}),w(this.config.env,"open view successfully")})).catch((e=>{var t;throw w(this.config.env,`fail to open view: ${e}`),null==(t=this._slardar)||t.call(this,"captureException",e,{break_point:"open view & health check"}),r(e),e}))}))}))}},ie=new oe,ae=Object.assign(ie,{createInstance:e=>new oe(e)}),{FVS_EVENT_NAME:se,PIPO_THEME_STYLE:le,EVT_FOR_HEALTH_CHECK_ACK:ce,EVT_FOR_HEALTH_CHECK_SYN:ue}=A,fe=5626!=r.j?ae:null},31682:(e,t,r)=>{var n=r(82696);e.exports=function(e,t){return-1!==n(e,t)}},4978:e=>{e.exports=function(e,t,r){if(null!=e)for(var n=-1,o=e.length;++n<o&&!1!==t.call(r,e[n],n,e););}},82696:e=>{e.exports=function(e,t,r){if(r=r||0,null==e)return-1;for(var n=e.length,o=r<0?n+r:r;o<n;){if(e[o]===t)return o;o++}return-1}},73754:(e,t,r)=>{var n=r(54891);e.exports=function(e,t,r){if(null!=e&&e.length){if(e.length&&!t)return Math.max.apply(Math,e);t=n(t,r);for(var o,i,a,s=-1/0,l=-1,c=e.length;++l<c;)(a=t(i=e[l],l,e))>s&&(s=a,o=i);return o}return 1/0}},58142:(e,t,r)=>{var n=r(54891);e.exports=function(e,t,r){if(null!=e&&e.length){if(e.length&&!t)return Math.min.apply(Math,e);t=n(t,r);for(var o,i,a,s=1/0,l=-1,c=e.length;++l<c;)(a=t(i=e[l],l,e))<s&&(s=a,o=i);return o}return-1/0}},89451:e=>{e.exports=function(e,t,r){var n=e.length;t=null==t?0:t<0?Math.max(n+t,0):Math.min(t,n),r=null==r?n:r<0?Math.max(n+r,0):Math.min(r,n);for(var o=[];t<r;)o.push(e[t++]);return o}},84596:(e,t,r)=>{var n=r(89451);e.exports=function(e,t,r){var o=n(arguments,2);return function(){return e.apply(t,o.concat(n(arguments)))}}},19761:e=>{e.exports=function(e){return e}},54891:(e,t,r)=>{var n=r(19761),o=r(99437),i=r(28614);e.exports=function(e,t){if(null==e)return n;switch(typeof e){case"function":return void 0!==t?function(r,n,o){return e.call(t,r,n,o)}:e;case"object":return function(t){return i(t,e)};case"string":case"number":return o(e)}}},99437:e=>{e.exports=function(e){return function(t){return t[e]}}},42769:(e,t,r)=>{var n=r(96224),o=r(20274),i=r(89029);e.exports=function(e){switch(n(e)){case"Object":return o(a=e)?i({},a):a;case"Array":return e.slice();case"RegExp":return r="",r+=(t=e).multiline?"m":"",r+=t.global?"g":"",r+=t.ignoreCase?"i":"",new RegExp(t.source,r);case"Date":return new Date(+e);default:return e}var t,r,a}},15899:(e,t,r)=>{var n=r(42769),o=r(66463),i=r(96224),a=r(20274);function s(e,t){switch(i(e)){case"Object":return function(e,t){if(a(e)){var r={};return o(e,(function(e,r){this[r]=s(e,t)}),r),r}return t?t(e):e}(e,t);case"Array":return function(e,t){var r=[],n=-1,o=e.length;for(;++n<o;)r[n]=s(e[n],t);return r}(e,t);default:return n(e)}}e.exports=s},66536:e=>{e.exports=function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},19775:(e,t,r)=>{var n=r(52813),o=Array.isArray||function(e){return n(e,"Array")};e.exports=o},82660:(e,t,r)=>{var n=r(52813);e.exports=function(e){return n(e,"Function")}},52813:(e,t,r)=>{var n=r(96224);e.exports=function(e,t){return n(e)===t}},53007:(e,t,r)=>{var n=r(52813);e.exports=function(e){return n(e,"Object")}},20274:e=>{e.exports=function(e){return!!e&&"object"==typeof e&&e.constructor===Object}},3472:e=>{e.exports=function(e){switch(typeof e){case"string":case"number":case"boolean":return!0}return null==e}},96224:e=>{var t=/^\[object (.*)\]$/,r=Object.prototype.toString;e.exports=function(e){return null===e?"Null":undefined===e?"Undefined":t.exec(r.call(e))[1]}},32984:(e,t,r)=>{e.exports={bindAll:r(96905),contains:r(32129),deepFillIn:r(63833),deepMatches:r(28614),deepMixIn:r(9539),equals:r(17661),every:r(28808),fillIn:r(20797),filter:r(2836),find:r(55253),flatten:r(36469),forIn:r(15473),forOwn:r(66463),functions:r(36214),get:r(35258),has:r(92406),hasOwn:r(12683),keys:r(14402),map:r(87290),matches:r(19835),max:r(82467),merge:r(26595),min:r(25052),mixIn:r(89029),namespace:r(19365),omit:r(9653),pick:r(29663),pluck:r(86232),reduce:r(8731),reject:r(3476),result:r(13128),set:r(60229),size:r(29734),some:r(27805),unset:r(50123),values:r(3431)}},96905:(e,t,r)=>{var n=r(36214),o=r(84596),i=r(4978),a=r(89451);e.exports=function(e,t){var r=arguments.length>1?a(arguments,1):n(e);i(r,(function(t){e[t]=o(e[t],e)}))}},32129:(e,t,r)=>{var n=r(27805);e.exports=function(e,t){return n(e,(function(e){return e===t}))}},63833:(e,t,r)=>{var n=r(66463),o=r(20274);e.exports=function e(t,r){for(var i,a=0,s=arguments.length;++a<s;)(i=arguments[a])&&n(i,(function(r,n){var i=t[n];null==i?t[n]=r:o(i)&&o(r)&&e(i,r)}));return t}},28614:(e,t,r)=>{var n=r(66463),o=r(19775);function i(e,t){for(var r=-1,n=e.length;++r<n;)if(a(e[r],t))return!0;return!1}function a(e,t){return e&&"object"==typeof e?o(e)&&o(t)?function(e,t){for(var r=-1,n=t.length;++r<n;)if(!i(e,t[r]))return!1;return!0}(e,t):function(e,t){var r=!0;return n(t,(function(t,n){if(!a(e[n],t))return r=!1})),r}(e,t):e===t}e.exports=a},9539:(e,t,r)=>{var n=r(66463),o=r(20274);function i(e,t){for(var r,o=0,i=arguments.length;++o<i;)(r=arguments[o])&&n(r,a,e);return e}function a(e,t){var r=this[t];o(e)&&o(r)?i(r,e):this[t]=e}e.exports=i},17661:(e,t,r)=>{var n=r(12683),o=r(28808),i=r(53007),a=r(66536);function s(e,t){return n(this,t)}e.exports=function(e,t,r){return r=r||a,i(e)&&i(t)?o(e,function(e){return function(t,r){return n(this,r)&&e(t,this[r])}}(r),t)&&o(t,s,e):r(e,t)}},28808:(e,t,r)=>{var n=r(66463),o=r(54891);e.exports=function(e,t,r){t=o(t,r);var i=!0;return n(e,(function(r,n){if(!t(r,n,e))return i=!1,!1})),i}},20797:(e,t,r)=>{var n=r(4978),o=r(89451),i=r(66463);e.exports=function(e,t){return n(o(arguments,1),(function(t){i(t,(function(t,r){null==e[r]&&(e[r]=t)}))})),e}},2836:(e,t,r)=>{var n=r(66463),o=r(54891);e.exports=function(e,t,r){t=o(t,r);var i={};return n(e,(function(e,r,n){t(e,r,n)&&(i[r]=e)})),i}},55253:(e,t,r)=>{var n=r(27805),o=r(54891);e.exports=function(e,t,r){var i;return t=o(t,r),n(e,(function(e,r,n){if(t(e,r,n))return i=e,!0})),i}},36469:(e,t,r)=>{var n=r(66463),o=r(20274);function i(e,t,r,a){return n(e,(function(e,n){var s=r?r+"."+n:n;0!==a&&o(e)?i(e,t,s,a-1):t[s]=e})),t}e.exports=function(e,t){return null==e?{}:i(e,{},"",t=null==t?-1:t)}},15473:(e,t,r)=>{var n,o,i=r(12683);function a(e,t,r,n){return e.call(n,t[r],r,t)}e.exports=function(e,t,r){var s,l=0;for(s in null==n&&function(){for(var e in o=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],n=!0,{toString:null})n=!1}(),e)if(!1===a(t,e,s,r))break;if(n)for(var c=e.constructor,u=!!c&&e===c.prototype;(s=o[l++])&&("constructor"===s&&(u||!i(e,s))||e[s]===Object.prototype[s]||!1!==a(t,e,s,r)););}},66463:(e,t,r)=>{var n=r(12683),o=r(15473);e.exports=function(e,t,r){o(e,(function(o,i){if(n(e,i))return t.call(r,e[i],i,e)}))}},36214:(e,t,r)=>{var n=r(15473);e.exports=function(e){var t=[];return n(e,(function(e,r){"function"==typeof e&&t.push(r)})),t.sort()}},35258:(e,t,r)=>{r(3472);e.exports=function(e,t){for(var r=t.split("."),n=r.pop();t=r.shift();)if(null==(e=e[t]))return;return e[n]}},92406:(e,t,r)=>{var n=r(35258);e.exports=function(e,t){return undefined!==n(e,t)}},12683:e=>{e.exports=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},14402:(e,t,r)=>{var n=r(66463),o=Object.keys||function(e){var t=[];return n(e,(function(e,r){t.push(r)})),t};e.exports=o},87290:(e,t,r)=>{var n=r(66463),o=r(54891);e.exports=function(e,t,r){t=o(t,r);var i={};return n(e,(function(e,r,n){i[r]=t(e,r,n)})),i}},19835:(e,t,r)=>{var n=r(66463);e.exports=function(e,t){var r=!0;return n(t,(function(t,n){if(e[n]!==t)return r=!1})),r}},82467:(e,t,r)=>{var n=r(73754),o=r(3431);e.exports=function(e,t){return n(o(e),t)}},26595:(e,t,r)=>{var n=r(12683),o=r(15899),i=r(53007);e.exports=function e(){var t,r,a,s,l=1;for(s=o(arguments[0]);a=arguments[l++];)for(t in a)n(a,t)&&(r=a[t],i(r)&&i(s[t])?s[t]=e(s[t],r):s[t]=o(r));return s}},25052:(e,t,r)=>{var n=r(58142),o=r(3431);e.exports=function(e,t){return n(o(e),t)}},89029:(e,t,r)=>{var n=r(66463);function o(e,t){this[t]=e}e.exports=function(e,t){for(var r,i=0,a=arguments.length;++i<a;)null!=(r=arguments[i])&&n(r,o,e);return e}},19365:(e,t,r)=>{var n=r(4978);e.exports=function(e,t){return t?(n(t.split("."),(function(t){e[t]||(e[t]={}),e=e[t]})),e):e}},9653:(e,t,r)=>{var n=r(89451),o=r(31682);e.exports=function(e,t){var r="string"!=typeof arguments[1]?arguments[1]:n(arguments,1),i={};for(var a in e)e.hasOwnProperty(a)&&!o(r,a)&&(i[a]=e[a]);return i}},29663:(e,t,r)=>{var n=r(89451);e.exports=function(e,t){for(var r,o="string"!=typeof arguments[1]?arguments[1]:n(arguments,1),i={},a=0;r=o[a++];)i[r]=e[r];return i}},86232:(e,t,r)=>{var n=r(87290),o=r(99437);e.exports=function(e,t){return n(e,o(t))}},8731:(e,t,r)=>{var n=r(66463),o=r(29734);e.exports=function(e,t,r,i){var a=arguments.length>2;if(!o(e)&&!a)throw new Error("reduce of empty object with no initial value");return n(e,(function(e,n,o){a?r=t.call(i,r,e,n,o):(r=e,a=!0)})),r}},3476:(e,t,r)=>{var n=r(2836),o=r(54891);e.exports=function(e,t,r){return t=o(t,r),n(e,(function(e,r,n){return!t(e,r,n)}),r)}},13128:(e,t,r)=>{var n=r(82660);e.exports=function(e,t){var r=e[t];if(void 0!==r)return n(r)?r.call(e):r}},60229:(e,t,r)=>{var n=r(19365);e.exports=function(e,t,r){var o=/^(.+)\.(.+)$/.exec(t);o?n(e,o[1])[o[2]]=r:e[t]=r}},29734:(e,t,r)=>{var n=r(66463);e.exports=function(e){var t=0;return n(e,(function(){t++})),t}},27805:(e,t,r)=>{var n=r(66463),o=r(54891);e.exports=function(e,t,r){t=o(t,r);var i=!1;return n(e,(function(r,n){if(t(r,n,e))return i=!0,!1})),i}},50123:(e,t,r)=>{var n=r(92406);e.exports=function(e,t){if(n(e,t)){for(var r=t.split("."),o=r.pop();t=r.shift();)e=e[t];return delete e[o]}return!0}},3431:(e,t,r)=>{var n=r(66463);e.exports=function(e){var t=[];return n(e,(function(e,r){t.push(e)})),t}},70631:(e,t,r)=>{var n="function"==typeof Map&&Map.prototype,o=Object.getOwnPropertyDescriptor&&n?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,i=n&&o&&"function"==typeof o.get?o.get:null,a=n&&Map.prototype.forEach,s="function"==typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"==typeof l.get?l.get:null,u=s&&Set.prototype.forEach,f="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,p="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,d="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,m=Boolean.prototype.valueOf,h=Object.prototype.toString,y=Function.prototype.toString,_=String.prototype.match,v=String.prototype.slice,g=String.prototype.replace,b=String.prototype.toUpperCase,E=String.prototype.toLowerCase,S=RegExp.prototype.test,w=Array.prototype.concat,I=Array.prototype.join,N=Array.prototype.slice,O=Math.floor,T="function"==typeof BigInt?BigInt.prototype.valueOf:null,R=Object.getOwnPropertySymbols,A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,k="function"==typeof Symbol&&"object"==typeof Symbol.iterator,$="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===k||"symbol")?Symbol.toStringTag:null,D=Object.prototype.propertyIsEnumerable,x=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function P(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||S.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var n=e<0?-O(-e):O(e);if(n!==e){var o=String(n),i=v.call(t,o.length+1);return g.call(o,r,"$&_")+"."+g.call(g.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}}return g.call(t,r,"$&_")}var M=r(24654),F=M.custom,j=G(F)?F:null;function L(e,t,r){var n="double"===(r.quoteStyle||t)?'"':"'";return n+e+n}function C(e){return g.call(String(e),/"/g,"&quot;")}function H(e){return!("[object Array]"!==W(e)||$&&"object"==typeof e&&$ in e)}function V(e){return!("[object RegExp]"!==W(e)||$&&"object"==typeof e&&$ in e)}function G(e){if(k)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!A)return!1;try{return A.call(e),!0}catch(e){}return!1}e.exports=function e(t,n,o,s){var l=n||{};if(B(l,"quoteStyle")&&"single"!==l.quoteStyle&&"double"!==l.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(B(l,"maxStringLength")&&("number"==typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var h=!B(l,"customInspect")||l.customInspect;if("boolean"!=typeof h&&"symbol"!==h)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(B(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(B(l,"numericSeparator")&&"boolean"!=typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=l.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return q(t,l);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var S=String(t);return b?P(t,S):S}if("bigint"==typeof t){var O=String(t)+"n";return b?P(t,O):O}var R=void 0===l.depth?5:l.depth;if(void 0===o&&(o=0),o>=R&&R>0&&"object"==typeof t)return H(t)?"[Array]":"[Object]";var F=function(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=I.call(Array(e.indent+1)," ")}return{base:r,prev:I.call(Array(t+1),r)}}(l,o);if(void 0===s)s=[];else if(K(s,t)>=0)return"[Circular]";function U(t,r,n){if(r&&(s=N.call(s)).push(r),n){var i={depth:l.depth};return B(l,"quoteStyle")&&(i.quoteStyle=l.quoteStyle),e(t,i,o+1,s)}return e(t,l,o+1,s)}if("function"==typeof t&&!V(t)){var J=function(e){if(e.name)return e.name;var t=_.call(y.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),ee=Q(t,U);return"[Function"+(J?": "+J:" (anonymous)")+"]"+(ee.length>0?" { "+I.call(ee,", ")+" }":"")}if(G(t)){var te=k?g.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):A.call(t);return"object"!=typeof t||k?te:z(te)}if(function(e){if(!e||"object"!=typeof e)return!1;if("undefined"!=typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"==typeof e.nodeName&&"function"==typeof e.getAttribute}(t)){for(var re="<"+E.call(String(t.nodeName)),ne=t.attributes||[],oe=0;oe<ne.length;oe++)re+=" "+ne[oe].name+"="+L(C(ne[oe].value),"double",l);return re+=">",t.childNodes&&t.childNodes.length&&(re+="..."),re+="</"+E.call(String(t.nodeName))+">"}if(H(t)){if(0===t.length)return"[]";var ie=Q(t,U);return F&&!function(e){for(var t=0;t<e.length;t++)if(K(e[t],"\n")>=0)return!1;return!0}(ie)?"["+Z(ie,F)+"]":"[ "+I.call(ie,", ")+" ]"}if(function(e){return!("[object Error]"!==W(e)||$&&"object"==typeof e&&$ in e)}(t)){var ae=Q(t,U);return"cause"in Error.prototype||!("cause"in t)||D.call(t,"cause")?0===ae.length?"["+String(t)+"]":"{ ["+String(t)+"] "+I.call(ae,", ")+" }":"{ ["+String(t)+"] "+I.call(w.call("[cause]: "+U(t.cause),ae),", ")+" }"}if("object"==typeof t&&h){if(j&&"function"==typeof t[j]&&M)return M(t,{depth:R-o});if("symbol"!==h&&"function"==typeof t.inspect)return t.inspect()}if(function(e){if(!i||!e||"object"!=typeof e)return!1;try{i.call(e);try{c.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}(t)){var se=[];return a&&a.call(t,(function(e,r){se.push(U(r,t,!0)+" => "+U(e,t))})),X("Map",i.call(t),se,F)}if(function(e){if(!c||!e||"object"!=typeof e)return!1;try{c.call(e);try{i.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}(t)){var le=[];return u&&u.call(t,(function(e){le.push(U(e,t))})),X("Set",c.call(t),le,F)}if(function(e){if(!f||!e||"object"!=typeof e)return!1;try{f.call(e,f);try{p.call(e,p)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}(t))return Y("WeakMap");if(function(e){if(!p||!e||"object"!=typeof e)return!1;try{p.call(e,p);try{f.call(e,f)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}(t))return Y("WeakSet");if(function(e){if(!d||!e||"object"!=typeof e)return!1;try{return d.call(e),!0}catch(e){}return!1}(t))return Y("WeakRef");if(function(e){return!("[object Number]"!==W(e)||$&&"object"==typeof e&&$ in e)}(t))return z(U(Number(t)));if(function(e){if(!e||"object"!=typeof e||!T)return!1;try{return T.call(e),!0}catch(e){}return!1}(t))return z(U(T.call(t)));if(function(e){return!("[object Boolean]"!==W(e)||$&&"object"==typeof e&&$ in e)}(t))return z(m.call(t));if(function(e){return!("[object String]"!==W(e)||$&&"object"==typeof e&&$ in e)}(t))return z(U(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===r.g)return"{ [object globalThis] }";if(!function(e){return!("[object Date]"!==W(e)||$&&"object"==typeof e&&$ in e)}(t)&&!V(t)){var ce=Q(t,U),ue=x?x(t)===Object.prototype:t instanceof Object||t.constructor===Object,fe=t instanceof Object?"":"null prototype",pe=!ue&&$&&Object(t)===t&&$ in t?v.call(W(t),8,-1):fe?"Object":"",de=(ue||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(pe||fe?"["+I.call(w.call([],pe||[],fe||[]),": ")+"] ":"");return 0===ce.length?de+"{}":F?de+"{"+Z(ce,F)+"}":de+"{ "+I.call(ce,", ")+" }"}return String(t)};var U=Object.prototype.hasOwnProperty||function(e){return e in this};function B(e,t){return U.call(e,t)}function W(e){return h.call(e)}function K(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,n=e.length;r<n;r++)if(e[r]===t)return r;return-1}function q(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return q(v.call(e,0,t.maxStringLength),t)+n}return L(g.call(g.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,J),"single",t)}function J(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function z(e){return"Object("+e+")"}function Y(e){return e+" { ? }"}function X(e,t,r,n){return e+" ("+t+") {"+(n?Z(r,n):I.call(r,", "))+"}"}function Z(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+I.call(e,","+r)+"\n"+t.prev}function Q(e,t){var r=H(e),n=[];if(r){n.length=e.length;for(var o=0;o<e.length;o++)n[o]=B(e,o)?t(e[o],e):""}var i,a="function"==typeof R?R(e):[];if(k){i={};for(var s=0;s<a.length;s++)i["$"+a[s]]=a[s]}for(var l in e)B(e,l)&&(r&&String(Number(l))===l&&l<e.length||k&&i["$"+l]instanceof Symbol||(S.call(/[^\w$]/,l)?n.push(t(l,e)+": "+t(e[l],e)):n.push(l+": "+t(e[l],e))));if("function"==typeof R)for(var c=0;c<a.length;c++)D.call(e,a[c])&&n.push("["+t(a[c])+"]: "+t(e[a[c]],e));return n}},90635:(e,t,r)=>{"use strict";r.d(t,{F7:()=>a,Jj:()=>l,ML:()=>i,eG:()=>f,im:()=>o,qp:()=>c,u5:()=>n,xz:()=>s,yJ:()=>d,yk:()=>u});const n="RUNTIME-001",o="RUNTIME-002",i="RUNTIME-003",a="RUNTIME-004",s="RUNTIME-005",l="RUNTIME-006",c="RUNTIME-007",u="RUNTIME-008",f=(e,t,r,n)=>{const o=[`${[t[e]]} #${e}`];return r&&o.push(`args: ${JSON.stringify(r)}`),o.push((e=>`https://module-federation.io/guide/troubleshooting/${e.split("-")[0].toLowerCase()}/${e}`)(e)),n&&o.push(`Original Error Message:\n ${n}`),o.join("\n")};function p(){return p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},p.apply(this,arguments)}const d={[n]:"Failed to get remoteEntry exports.",[o]:'The remote entry interface does not contain "init"',[i]:"Failed to get manifest.",[a]:"Failed to locate remote.",[s]:"Invalid loadShareSync function call from bundler runtime",[l]:"Invalid loadShareSync function call from runtime",[c]:"Failed to get remote snapshot.",[u]:"Failed to load script resources."};p({},d,{"TYPE-001":"Failed to generate type declaration."},{"BUILD-001":"Failed to find expose module."})},27747:(e,t,r)=>{"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}function o(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}r.d(t,{GJ:()=>b,TV:()=>lt,hu:()=>c,Cv:()=>R,BM:()=>He,qD:()=>A,X0:()=>T});var i=r(952),a=r(90635);const s="[ Federation Runtime ]",l=(0,i.UC)(s);function c(e,t){e||u(t)}function u(e){if(e instanceof Error)throw e.message=`${s}: ${e.message}`,e;throw new Error(`${s}: ${e}`)}function f(e){e instanceof Error?(e.message=`${s}: ${e.message}`,l.warn(e)):l.warn(e)}function p(e,t){return-1===e.findIndex((e=>e===t))&&e.push(t),e}function d(e){return"version"in e&&e.version?`${e.name}:${e.version}`:"entry"in e&&e.entry?`${e.name}:${e.entry}`:`${e.name}`}function m(e){return void 0!==e.entry}function h(e){return!e.entry.includes(".json")&&e.entry.includes(".js")}function y(e){return e&&"object"==typeof e}const _=Object.prototype.toString;function v(e){return Array.isArray(e)?e:[e]}function g(e){const t={url:"",type:"global",globalName:""};return(0,i.kP)()?"remoteEntry"in e?{url:e.remoteEntry,type:e.remoteEntryType,globalName:e.globalName}:t:"ssrRemoteEntry"in e?{url:e.ssrRemoteEntry||t.url,type:e.ssrRemoteEntryType||t.type,globalName:e.globalName}:t}const b="object"==typeof globalThis?globalThis:window,E=(()=>{try{return document.defaultView}catch(e){return b}})(),S=E;function w(e,t,r){Object.defineProperty(e,t,{value:r,configurable:!1,writable:!0})}function I(e,t){return Object.hasOwnProperty.call(e,t)}I(b,"__GLOBAL_LOADING_REMOTE_ENTRY__")||w(b,"__GLOBAL_LOADING_REMOTE_ENTRY__",{});const N=b.__GLOBAL_LOADING_REMOTE_ENTRY__;function O(e){var t,r,n,o,i,a;I(e,"__VMOK__")&&!I(e,"__FEDERATION__")&&w(e,"__FEDERATION__",e.__VMOK__),I(e,"__FEDERATION__")||(w(e,"__FEDERATION__",{__GLOBAL_PLUGIN__:[],__INSTANCES__:[],moduleInfo:{},__SHARE__:{},__MANIFEST_LOADING__:{},__PRELOADED_MAP__:new Map}),w(e,"__VMOK__",e.__FEDERATION__)),null!=(t=e.__FEDERATION__).__GLOBAL_PLUGIN__||(t.__GLOBAL_PLUGIN__=[]),null!=(r=e.__FEDERATION__).__INSTANCES__||(r.__INSTANCES__=[]),null!=(n=e.__FEDERATION__).moduleInfo||(n.moduleInfo={}),null!=(o=e.__FEDERATION__).__SHARE__||(o.__SHARE__={}),null!=(i=e.__FEDERATION__).__MANIFEST_LOADING__||(i.__MANIFEST_LOADING__={}),null!=(a=e.__FEDERATION__).__PRELOADED_MAP__||(a.__PRELOADED_MAP__=new Map)}function T(e){b.__FEDERATION__.__INSTANCES__.push(e)}function R(){return b.__FEDERATION__.__DEBUG_CONSTRUCTOR__}function A(e,t=(0,i.Au)()){t&&(b.__FEDERATION__.__DEBUG_CONSTRUCTOR__=e,b.__FEDERATION__.__DEBUG_CONSTRUCTOR_VERSION__="0.9.1")}function k(e,t){if("string"==typeof t){if(e[t])return{value:e[t],key:t};{const r=Object.keys(e);for(const n of r){const[r,o]=n.split(":"),i=`${r}:${t}`,a=e[i];if(a)return{value:a,key:i}}return{value:void 0,key:t}}}throw new Error("key must be string")}O(b),O(E);const $=()=>E.__FEDERATION__.moduleInfo,D=(e,t)=>{const r=k(t,d(e)).value;if(r&&!r.version&&"version"in e&&e.version&&(r.version=e.version),r)return r;if("version"in e&&e.version){const{version:t}=e,r=d(o(e,["version"])),n=k(E.__FEDERATION__.moduleInfo,r).value;if((null==n?void 0:n.version)===t)return n}},x=e=>D(e,E.__FEDERATION__.moduleInfo),P=(e,t)=>{const r=d(e);return E.__FEDERATION__.moduleInfo[r]=t,E.__FEDERATION__.moduleInfo},M=e=>(E.__FEDERATION__.moduleInfo=n({},E.__FEDERATION__.moduleInfo,e),()=>{const t=Object.keys(e);for(const e of t)delete E.__FEDERATION__.moduleInfo[e]}),F=(e,t)=>{const r=t||`__FEDERATION_${e}:custom__`;return{remoteEntryKey:r,entryExports:b[r]}},j=()=>E.__FEDERATION__.__GLOBAL_PLUGIN__,L=e=>b.__FEDERATION__.__PRELOADED_MAP__.get(e),C=e=>b.__FEDERATION__.__PRELOADED_MAP__.set(e,!0),H="default",V="global",G="[0-9A-Za-z-]+",U=`(?:\\+(${G}(?:\\.${G})*))`,B="0|[1-9]\\d*",W="[0-9]+",K="\\d*[a-zA-Z-][a-zA-Z0-9-]*",q=`(?:${W}|${K})`,J=`(?:${B}|${K})`,z=`(?:-(${J}(?:\\.${J})*))`,Y=`${B}|x|X|\\*`,X=`[v=\\s]*(${Y})(?:\\.(${Y})(?:\\.(${Y})(?:${z})?${U}?)?)?`,Z=`^\\s*(${X})\\s+-\\s+(${X})\\s*$`,Q="((?:<|>)?=?)",ee=`(\\s*)${Q}\\s*(${`[v=\\s]*${`(${W})\\.(${W})\\.(${W})`}${`(?:-?(${q}(?:\\.${q})*))`}?${U}?`}|${X})`,te="(?:~>?)",re=`(\\s*)${te}\\s+`,ne="(?:\\^)",oe=`(\\s*)${ne}\\s+`,ie="(<|>)?=?\\s*\\*",ae=`^${ne}${X}$`,se=`^${te}${X}$`,le=`^${Q}\\s*${X}$`,ce=`^${Q}\\s*(${`v?${`(${B})\\.(${B})\\.(${B})`}${z}?${U}?`})$|^$`,ue="^\\s*>=\\s*0.0.0\\s*$";function fe(e){return new RegExp(e)}function pe(e){return!e||"x"===e.toLowerCase()||"*"===e}function de(...e){return t=>e.reduce(((e,t)=>t(e)),t)}function me(e){return e.match(fe(ce))}function he(e,t,r,n){const o=`${e}.${t}.${r}`;return n?`${o}-${n}`:o}function ye(e){return e.replace(fe(Z),((e,t,r,n,o,i,a,s,l,c,u,f)=>`${t=pe(r)?"":pe(n)?`>=${r}.0.0`:pe(o)?`>=${r}.${n}.0`:`>=${t}`} ${s=pe(l)?"":pe(c)?`<${Number(l)+1}.0.0-0`:pe(u)?`<${l}.${Number(c)+1}.0-0`:f?`<=${l}.${c}.${u}-${f}`:`<=${s}`}`.trim()))}function _e(e){return e.replace(fe(ee),"$1$2$3")}function ve(e){return e.replace(fe(re),"$1~")}function ge(e){return e.replace(fe(oe),"$1^")}function be(e){return e.trim().split(/\s+/).map((e=>e.replace(fe(ae),((e,t,r,n,o)=>pe(t)?"":pe(r)?`>=${t}.0.0 <${Number(t)+1}.0.0-0`:pe(n)?"0"===t?`>=${t}.${r}.0 <${t}.${Number(r)+1}.0-0`:`>=${t}.${r}.0 <${Number(t)+1}.0.0-0`:o?"0"===t?"0"===r?`>=${t}.${r}.${n}-${o} <${t}.${r}.${Number(n)+1}-0`:`>=${t}.${r}.${n}-${o} <${t}.${Number(r)+1}.0-0`:`>=${t}.${r}.${n}-${o} <${Number(t)+1}.0.0-0`:"0"===t?"0"===r?`>=${t}.${r}.${n} <${t}.${r}.${Number(n)+1}-0`:`>=${t}.${r}.${n} <${t}.${Number(r)+1}.0-0`:`>=${t}.${r}.${n} <${Number(t)+1}.0.0-0`)))).join(" ")}function Ee(e){return e.trim().split(/\s+/).map((e=>e.replace(fe(se),((e,t,r,n,o)=>pe(t)?"":pe(r)?`>=${t}.0.0 <${Number(t)+1}.0.0-0`:pe(n)?`>=${t}.${r}.0 <${t}.${Number(r)+1}.0-0`:o?`>=${t}.${r}.${n}-${o} <${t}.${Number(r)+1}.0-0`:`>=${t}.${r}.${n} <${t}.${Number(r)+1}.0-0`)))).join(" ")}function Se(e){return e.split(/\s+/).map((e=>e.trim().replace(fe(le),((e,t,r,n,o,i)=>{const a=pe(r),s=a||pe(n),l=s||pe(o);return"="===t&&l&&(t=""),i="",a?">"===t||"<"===t?"<0.0.0-0":"*":t&&l?(s&&(n=0),o=0,">"===t?(t=">=",s?(r=Number(r)+1,n=0,o=0):(n=Number(n)+1,o=0)):"<="===t&&(t="<",s?r=Number(r)+1:n=Number(n)+1),"<"===t&&(i="-0"),`${t+r}.${n}.${o}${i}`):s?`>=${r}.0.0${i} <${Number(r)+1}.0.0-0`:l?`>=${r}.${n}.0${i} <${r}.${Number(n)+1}.0-0`:e})))).join(" ")}function we(e){return e.trim().replace(fe(ie),"")}function Ie(e,t){return(e=Number(e)||e)>(t=Number(t)||t)?1:e===t?0:-1}function Ne(e,t){return Ie(e.major,t.major)||Ie(e.minor,t.minor)||Ie(e.patch,t.patch)||function(e,t){const{preRelease:r}=e,{preRelease:n}=t;if(void 0===r&&Boolean(n))return 1;if(Boolean(r)&&void 0===n)return-1;if(void 0===r&&void 0===n)return 0;for(let e=0,t=r.length;e<=t;e++){const t=r[e],o=n[e];if(t!==o)return void 0===t&&void 0===o?0:t?o?Ie(t,o):-1:1}return 0}(e,t)}function Oe(e,t){return e.version===t.version}function Te(e,t){switch(e.operator){case"":case"=":return Oe(e,t);case">":return Ne(e,t)<0;case">=":return Oe(e,t)||Ne(e,t)<0;case"<":return Ne(e,t)>0;case"<=":return Oe(e,t)||Ne(e,t)>0;case void 0:return!0;default:return!1}}function Re(e,t){if(!e)return!1;const r=function(e){return de(ye,_e,ve,ge)(e.trim()).split(/\s+/).join(" ")}(t),n=r.split(" ").map((e=>function(e){return de(be,Ee,Se,we)(e)}(e))).join(" "),o=n.split(/\s+/).map((e=>e.trim().replace(fe(ue),""))),i=me(e);if(!i)return!1;const[,a,,s,l,c,u]=i,f={operator:a,version:he(s,l,c,u),major:s,minor:l,patch:c,preRelease:null==u?void 0:u.split(".")};for(const e of o){const t=me(e);if(!t)return!1;const[,r,,n,o,i,a]=t;if(!Te({operator:r,version:he(n,o,i,a),major:n,minor:o,patch:i,preRelease:null==a?void 0:a.split(".")},f))return!1}return!0}function Ae(e,t){const r=t.shared||{},o=t.name,i=Object.keys(r).reduce(((e,i)=>{const a=v(r[i]);return e[i]=e[i]||[],a.forEach((r=>{e[i].push(function(e,t,r,o){let i;var a,s,l;return i="get"in e?e.get:"lib"in e?()=>Promise.resolve(e.lib):()=>Promise.resolve((()=>{throw new Error(`Can not get shared '${r}'!`)})),e.strategy&&f('"shared.strategy is deprecated, please set in initOptions.shareStrategy instead!"'),n({deps:[],useIn:[],from:t,loading:null},e,{shareConfig:n({requiredVersion:`^${e.version}`,singleton:!1,eager:!1,strictVersion:!1},e.shareConfig),get:i,loaded:!(!(null==e?void 0:e.loaded)&&!("lib"in e))||void 0,version:null!=(a=e.version)?a:"0",scope:Array.isArray(e.scope)?e.scope:[null!=(s=e.scope)?s:"default"],strategy:(null!=(l=e.strategy)?l:o)||"version-first"})}(r,o,i,t.shareStrategy))})),e}),{}),a=n({},e.shared);return Object.keys(i).forEach((e=>{a[e]?i[e].forEach((t=>{a[e].find((e=>e.version===t.version))||a[e].push(t)})):a[e]=i[e]})),{shared:a,shareInfos:i}}function ke(e,t){const r=e=>{if(!Number.isNaN(Number(e))){const t=e.split(".");let r=e;for(let e=0;e<3-t.length;e++)r+=".0";return r}return e};return!!Re(r(e),`<=${r(t)}`)}const $e=(e,t)=>{const r=t||function(e,t){return ke(e,t)};return Object.keys(e).reduce(((e,t)=>e?r(e,t)||"0"===e?t:e:t),0)},De=e=>Boolean(e.loaded)||"function"==typeof e.lib,xe=e=>Boolean(e.loading);function Pe(e,t,r){const n=e[t][r];return $e(e[t][r],(function(e,t){return!De(n[e])&&ke(e,t)}))}function Me(e,t,r){const n=e[t][r];return $e(e[t][r],(function(e,t){const r=e=>De(e)||xe(e);return r(n[t])?!r(n[e])||Boolean(ke(e,t)):!r(n[e])&&ke(e,t)}))}function Fe(e){return"loaded-first"===e?Me:Pe}function je(e,t,r,n){if(!e)return;const{shareConfig:o,scope:i=H,strategy:a}=r,s=Array.isArray(i)?i:[i];for(const i of s)if(o&&e[i]&&e[i][t]){const{requiredVersion:s}=o,l=Fe(a)(e,i,t),c=()=>{if(o.singleton){if("string"==typeof s&&!Re(l,s)){const n=`Version ${l} from ${l&&e[i][t][l].from} of shared singleton module ${t} does not satisfy the requirement of ${r.from} which needs ${s})`;o.strictVersion?u(n):f(n)}return e[i][t][l]}if(!1===s||"*"===s)return e[i][t][l];if(Re(l,s))return e[i][t][l];for(const[r,n]of Object.entries(e[i][t]))if(Re(r,s))return n},p={shareScopeMap:e,scope:i,pkgName:t,version:l,GlobalFederation:S.__FEDERATION__,resolver:c};return(n.emit(p)||p).resolver()}}function Le(){return S.__FEDERATION__.__SHARE__}function Ce(e){const{pkgName:t,extraOptions:r,shareInfos:n}=e;var o;const i=null!=(o=null==r?void 0:r.resolver)?o:e=>{if(!e)return;const t={};e.forEach((e=>{t[e.version]=e}));const r=$e(t,(function(e,r){return!De(t[e])&&ke(e,r)}));return t[r]};return Object.assign({},i(n[t]),null==r?void 0:r.customShareInfo)}var He={global:{Global:S,nativeGlobal:E,resetFederationGlobalInfo:function(){b.__FEDERATION__.__GLOBAL_PLUGIN__=[],b.__FEDERATION__.__INSTANCES__=[],b.__FEDERATION__.moduleInfo={},b.__FEDERATION__.__SHARE__={},b.__FEDERATION__.__MANIFEST_LOADING__={},Object.keys(N).forEach((e=>{delete N[e]}))},setGlobalFederationInstance:T,getGlobalFederationConstructor:R,setGlobalFederationConstructor:A,getInfoWithoutType:k,getGlobalSnapshot:$,getTargetSnapshotInfoByModuleInfo:D,getGlobalSnapshotInfoByModuleInfo:x,setGlobalSnapshotInfoByModuleInfo:P,addGlobalSnapshot:M,getRemoteEntryExports:F,registerGlobalPlugins:e=>{const{__GLOBAL_PLUGIN__:t}=E.__FEDERATION__;e.forEach((e=>{-1===t.findIndex((t=>t.name===e.name))?t.push(e):f(`The plugin ${e.name} has been registered.`)}))},getGlobalHostPlugins:j,getPreloaded:L,setPreloaded:C},share:{getRegisteredShare:je,getGlobalShareScope:Le}};async function Ve({remoteInfo:e,remoteEntryExports:t,loaderHook:r}){const{entry:n,entryGlobalName:o,name:s,type:l}=e;switch(l){case"esm":case"module":return async function({entry:e,remoteEntryExports:t}){return new Promise(((r,n)=>{try{t?r(t):"undefined"!=typeof FEDERATION_ALLOW_NEW_FUNCTION?new Function("callbacks",`import("${e}").then(callbacks[0]).catch(callbacks[1])`)([r,n]):import(e).then(r).catch(n)}catch(e){n(e)}}))}({entry:n,remoteEntryExports:t});case"system":return async function({entry:e,remoteEntryExports:t}){return new Promise(((r,n)=>{try{t?r(t):new Function("callbacks",`System.import("${e}").then(callbacks[0]).catch(callbacks[1])`)([r,n])}catch(e){n(e)}}))}({entry:n,remoteEntryExports:t});default:return async function({name:e,globalName:t,entry:r,loaderHook:n}){const{entryExports:o}=F(e,t);return o||(0,i.ve)(r,{attrs:{},createScriptHook:(e,t)=>{const r=n.lifecycle.createScript.emit({url:e,attrs:t});if(r)return r instanceof HTMLScriptElement||"script"in r||"timeout"in r?r:void 0}}).then((()=>{const{remoteEntryKey:n,entryExports:o}=F(e,t);return c(o,(0,a.eG)(a.u5,a.yJ,{remoteName:e,remoteEntryUrl:r,remoteEntryKey:n})),o})).catch((t=>{throw c(void 0,(0,a.eG)(a.yk,a.yJ,{remoteName:e,resourceUrl:r})),t}))}({entry:n,globalName:o,name:s,loaderHook:r})}}function Ge(e){const{entry:t,name:r}=e;return(0,i.M8)(r,t)}async function Ue({origin:e,remoteEntryExports:t,remoteInfo:r}){const n=Ge(r);if(t)return t;if(!N[n]){const o=e.remoteHandler.hooks.lifecycle.loadEntry,s=e.loaderHook;N[n]=o.emit({loaderHook:s,remoteInfo:r,remoteEntryExports:t}).then((e=>e||((0,i.kP)()?Ve({remoteInfo:r,remoteEntryExports:t,loaderHook:s}):async function({remoteInfo:e,loaderHook:t}){const{entry:r,entryGlobalName:n,name:o,type:s}=e,{entryExports:l}=F(o,n);return l||(0,i.qN)(r,{attrs:{name:o,globalName:n,type:s},loaderHook:{createScriptHook:(e,r={})=>{const n=t.lifecycle.createScript.emit({url:e,attrs:r});if(n)return"url"in n?n:void 0}}}).then((()=>{const{remoteEntryKey:e,entryExports:t}=F(o,n);return c(t,(0,a.eG)(a.u5,a.yJ,{remoteName:o,remoteEntryUrl:r,remoteEntryKey:e})),t})).catch((e=>{throw e}))}({remoteInfo:r,loaderHook:s}))))}return N[n]}function Be(e){return n({},e,{entry:"entry"in e?e.entry:"",type:e.type||V,entryGlobalName:e.entryGlobalName||e.name,shareScope:e.shareScope||H})}let We=class{async getEntry(){if(this.remoteEntryExports)return this.remoteEntryExports;let e;try{e=await Ue({origin:this.host,remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports})}catch(t){const r=Ge(this.remoteInfo);e=await this.host.loaderHook.lifecycle.loadEntryError.emit({getRemoteEntry:Ue,origin:this.host,remoteInfo:this.remoteInfo,remoteEntryExports:this.remoteEntryExports,globalLoading:N,uniqueKey:r})}return c(e,`remoteEntryExports is undefined \n ${(0,i.pv)(this.remoteInfo)}`),this.remoteEntryExports=e,this.remoteEntryExports}async get(e,t,r,o){const{loadFactory:i=!0}=r||{loadFactory:!0},s=await this.getEntry();if(!this.inited){const t=this.host.shareScopeMap,r=this.remoteInfo.shareScope||"default";t[r]||(t[r]={});const i=t[r],l=[],c={version:this.remoteInfo.version||""};Object.defineProperty(c,"shareScopeMap",{value:t,enumerable:!1});const f=await this.host.hooks.lifecycle.beforeInitContainer.emit({shareScope:i,remoteEntryInitOptions:c,initScope:l,remoteInfo:this.remoteInfo,origin:this.host});void 0===(null==s?void 0:s.init)&&u((0,a.eG)(a.im,a.yJ,{remoteName:name,remoteEntryUrl:this.remoteInfo.entry,remoteEntryKey:this.remoteInfo.entryGlobalName})),await s.init(f.shareScope,f.initScope,f.remoteEntryInitOptions),await this.host.hooks.lifecycle.initContainer.emit(n({},f,{id:e,remoteSnapshot:o,remoteEntryExports:s}))}let l;this.lib=s,this.inited=!0,l=await this.host.loaderHook.lifecycle.getModuleFactory.emit({remoteEntryExports:s,expose:t,moduleInfo:this.remoteInfo}),l||(l=await s.get(t)),c(l,`${d(this.remoteInfo)} remote don't export ${t}.`);const f=((e,t)=>{let r;return r=e.endsWith("/")?e.slice(0,-1):e,t.startsWith(".")&&(t=t.slice(1)),r+=t,r})(this.remoteInfo.name,t),p=this.wraperFactory(l,f);if(!i)return p;return await p()}wraperFactory(e,t){function r(e,t){e&&"object"==typeof e&&Object.isExtensible(e)&&!Object.getOwnPropertyDescriptor(e,Symbol.for("mf_module_id"))&&Object.defineProperty(e,Symbol.for("mf_module_id"),{value:t,enumerable:!1})}return e instanceof Promise?async()=>{const n=await e();return r(n,t),n}:()=>{const n=e();return r(n,t),n}}constructor({remoteInfo:e,host:t}){this.inited=!1,this.lib=void 0,this.remoteInfo=e,this.host=t}};class Ke{on(e){"function"==typeof e&&this.listeners.add(e)}once(e){const t=this;this.on((function r(...n){return t.remove(r),e.apply(null,n)}))}emit(...e){let t;return this.listeners.size>0&&this.listeners.forEach((r=>{t=r(...e)})),t}remove(e){this.listeners.delete(e)}removeAll(){this.listeners.clear()}constructor(e){this.type="",this.listeners=new Set,e&&(this.type=e)}}class qe extends Ke{emit(...e){let t;const r=Array.from(this.listeners);if(r.length>0){let n=0;const o=t=>!1!==t&&(n<r.length?Promise.resolve(r[n++].apply(null,e)).then(o):t);t=o()}return Promise.resolve(t)}}function Je(e,t){if(!y(t))return!1;if(e!==t)for(const r in e)if(!(r in t))return!1;return!0}class ze extends Ke{emit(e){y(e)||u(`The data for the "${this.type}" hook should be an object.`);for(const t of this.listeners)try{const r=t(e);if(!Je(e,r)){this.onerror(`A plugin returned an unacceptable value for the "${this.type}" type.`);break}e=r}catch(e){f(e),this.onerror(e)}return e}constructor(e){super(),this.onerror=u,this.type=e}}class Ye extends Ke{emit(e){y(e)||u(`The response data for the "${this.type}" hook must be an object.`);const t=Array.from(this.listeners);if(t.length>0){let r=0;const n=t=>(f(t),this.onerror(t),e),o=i=>{if(Je(e,i)){if(e=i,r<t.length)try{return Promise.resolve(t[r++](e)).then(o,n)}catch(e){return n(e)}}else this.onerror(`A plugin returned an incorrect value for the "${this.type}" type.`);return e};return Promise.resolve(o(e))}return Promise.resolve(e)}constructor(e){super(),this.onerror=u,this.type=e}}class Xe{applyPlugin(e){var t;c((t=e,"[object Object]"===_.call(t)),"Plugin configuration is invalid.");const r=e.name;c(r,"A name must be provided by the plugin."),this.registerPlugins[r]||(this.registerPlugins[r]=e,Object.keys(this.lifecycle).forEach((t=>{const r=e[t];r&&this.lifecycle[t].on(r)})))}removePlugin(e){c(e,"A name is required.");const t=this.registerPlugins[e];c(t,`The plugin "${e}" is not registered.`),Object.keys(t).forEach((e=>{"name"!==e&&this.lifecycle[e].remove(t[e])}))}inherit({lifecycle:e,registerPlugins:t}){Object.keys(e).forEach((t=>{c(!this.lifecycle[t],`The hook "${t}" has a conflict and cannot be inherited.`),this.lifecycle[t]=e[t]})),Object.keys(t).forEach((e=>{c(!this.registerPlugins[e],`The plugin "${e}" has a conflict and cannot be inherited.`),this.applyPlugin(t[e])}))}constructor(e){this.registerPlugins={},this.lifecycle=e,this.lifecycleKeys=Object.keys(e)}}function Ze(e){return n({resourceCategory:"sync",share:!0,depsRemote:!0,prefetchInterface:!1},e)}function Qe(e,t,r,n=!0){const{cssAssets:o,jsAssetsWithoutEntry:a,entryAssets:s}=r;if(t.options.inBrowser){if(s.forEach((r=>{const{moduleInfo:n}=r,o=t.moduleCache.get(e.name);Ue(o?{origin:t,remoteInfo:n,remoteEntryExports:o.remoteEntryExports}:{origin:t,remoteInfo:n,remoteEntryExports:void 0})})),n){const e={rel:"preload",as:"style"};o.forEach((r=>{const{link:n,needAttach:o}=(0,i.EW)({url:r,cb:()=>{},attrs:e,createLinkHook:(e,r)=>{const n=t.loaderHook.lifecycle.createLink.emit({url:e,attrs:r});if(n instanceof HTMLLinkElement)return n}});o&&document.head.appendChild(n)}))}else{const e={rel:"stylesheet",type:"text/css"};o.forEach((r=>{const{link:n,needAttach:o}=(0,i.EW)({url:r,cb:()=>{},attrs:e,createLinkHook:(e,r)=>{const n=t.loaderHook.lifecycle.createLink.emit({url:e,attrs:r});if(n instanceof HTMLLinkElement)return n},needDeleteLink:!1});o&&document.head.appendChild(n)}))}if(n){const e={rel:"preload",as:"script"};a.forEach((r=>{const{link:n,needAttach:o}=(0,i.EW)({url:r,cb:()=>{},attrs:e,createLinkHook:(e,r)=>{const n=t.loaderHook.lifecycle.createLink.emit({url:e,attrs:r});if(n instanceof HTMLLinkElement)return n}});o&&document.head.appendChild(n)}))}else{const r={fetchpriority:"high",type:"module"===(null==e?void 0:e.type)?"module":"text/javascript"};a.forEach((e=>{const{script:n,needAttach:o}=(0,i.hT)({url:e,cb:()=>{},attrs:r,createScriptHook:(e,r)=>{const n=t.loaderHook.lifecycle.createScript.emit({url:e,attrs:r});if(n instanceof HTMLScriptElement)return n},needDeleteScript:!0});o&&document.head.appendChild(n)}))}}}function et(e,t){const r=g(t);r.url||u(`The attribute remoteEntry of ${e.name} must not be undefined.`);let n=(0,i.vM)(t,r.url);(0,i.kP)()||n.startsWith("http")||(n=`https:${n}`),e.type=r.type,e.entryGlobalName=r.globalName,e.entry=n,e.version=t.version,e.buildVersion=t.buildVersion}function tt(e){const t=e.split(":");return 1===t.length?{name:t[0],version:void 0}:2===t.length?{name:t[0],version:t[1]}:{name:t[1],version:t[2]}}function rt(e,t,r,n,o={},a){const s=d(t),{value:l}=k(e,s),c=a||l;if(c&&!(0,i.xw)(c)&&(r(c,t,n),c.remotesInfo)){const t=Object.keys(c.remotesInfo);for(const n of t){if(o[n])continue;o[n]=!0;const t=tt(n),i=c.remotesInfo[n];rt(e,{name:t.name,version:i.matchedVersion},r,!1,o,void 0)}}}function nt(e,t,r,n,o){const a=[],s=[],l=[],c=new Set,u=new Set,{options:f}=e,{preloadConfig:p}=t,{depsRemote:d}=p;if(rt(n,r,((t,r,n)=>{let o;if(n)o=p;else if(Array.isArray(d)){const e=d.find((e=>e.nameOrAlias===r.name||e.nameOrAlias===r.alias));if(!e)return;o=Ze(e)}else{if(!0!==d)return;o=p}const c=(0,i.vM)(t,g(t).url);c&&l.push({name:r.name,moduleInfo:{name:r.name,entry:c,type:"remoteEntryType"in t?t.remoteEntryType:"global",entryGlobalName:"globalName"in t?t.globalName:r.name,shareScope:"",version:"version"in t?t.version:void 0},url:c});let u="modules"in t?t.modules:[];const f=(m=o.exposes)?m.map((e=>"."===e?e:e.startsWith("./")?e.replace("./",""):e)):[];var m,h;f.length&&"modules"in t&&(u=null==t||null==(h=t.modules)?void 0:h.reduce(((e,t)=>(-1!==(null==f?void 0:f.indexOf(t.moduleName))&&e.push(t),e)),[]));function y(e){const r=e.map((e=>(0,i.vM)(t,e)));return o.filter?r.filter(o.filter):r}if(u){const n=u.length;for(let i=0;i<n;i++){const n=u[i],l=`${r.name}/${n.moduleName}`;e.remoteHandler.hooks.lifecycle.handlePreloadModule.emit({id:"."===n.moduleName?r.name:l,name:r.name,remoteSnapshot:t,preloadConfig:o,remote:r,origin:e});L(l)||("all"===o.resourceCategory?(a.push(...y(n.assets.css.async)),a.push(...y(n.assets.css.sync)),s.push(...y(n.assets.js.async)),s.push(...y(n.assets.js.sync))):(o.resourceCategory="sync")&&(a.push(...y(n.assets.css.sync)),s.push(...y(n.assets.js.sync))),C(l))}}}),!0,{},o),o.shared){const t=(t,r)=>{const n=je(e.shareScopeMap,r.sharedName,t,e.sharedHandler.hooks.lifecycle.resolveShare);n&&"function"==typeof n.lib&&(r.assets.js.sync.forEach((e=>{c.add(e)})),r.assets.css.sync.forEach((e=>{u.add(e)})))};o.shared.forEach((e=>{var r;const n=null==(r=f.shared)?void 0:r[e.sharedName];if(!n)return;const o=e.version?n.find((t=>t.version===e.version)):n;if(!o)return;v(o).forEach((r=>{t(r,e)}))}))}const m=s.filter((e=>!c.has(e)));return{cssAssets:a.filter((e=>!u.has(e))),jsAssetsWithoutEntry:m,entryAssets:l}}function ot(e,t){const r=x({name:t.options.name,version:t.options.version}),n=r&&"remotesInfo"in r&&r.remotesInfo&&k(r.remotesInfo,e.name).value;return n&&n.matchedVersion?{hostGlobalSnapshot:r,globalSnapshot:$(),remoteSnapshot:x({name:e.name,version:n.matchedVersion})}:{hostGlobalSnapshot:void 0,globalSnapshot:$(),remoteSnapshot:x({name:e.name,version:"version"in e?e.version:void 0})}}class it{async loadSnapshot(e){const{options:t}=this.HostInstance,{hostGlobalSnapshot:r,remoteSnapshot:n,globalSnapshot:o}=this.getGlobalRemoteInfo(e),{remoteSnapshot:i,globalSnapshot:a}=await this.hooks.lifecycle.loadSnapshot.emit({options:t,moduleInfo:e,hostGlobalSnapshot:r,remoteSnapshot:n,globalSnapshot:o});return{remoteSnapshot:i,globalSnapshot:a}}async loadRemoteSnapshotInfo(e){const{options:t}=this.HostInstance;await this.hooks.lifecycle.beforeLoadRemoteSnapshot.emit({options:t,moduleInfo:e});let r=x({name:this.HostInstance.options.name,version:this.HostInstance.options.version});r||(r={version:this.HostInstance.options.version||"",remoteEntry:"",remotesInfo:{}},M({[this.HostInstance.options.name]:r})),r&&"remotesInfo"in r&&!k(r.remotesInfo,e.name).value&&("version"in e||"entry"in e)&&(r.remotesInfo=n({},null==r?void 0:r.remotesInfo,{[e.name]:{matchedVersion:"version"in e?e.version:e.entry}}));const{hostGlobalSnapshot:o,remoteSnapshot:s,globalSnapshot:l}=this.getGlobalRemoteInfo(e),{remoteSnapshot:c,globalSnapshot:f}=await this.hooks.lifecycle.loadSnapshot.emit({options:t,moduleInfo:e,hostGlobalSnapshot:o,remoteSnapshot:s,globalSnapshot:l});let p,d;if(c)if((0,i.xw)(c)){const t=(0,i.kP)()?c.remoteEntry:c.ssrRemoteEntry||c.remoteEntry||"",r=await this.getManifestJson(t,e,{});p=r,d=P(n({},e,{entry:t}),r)}else{const{remoteSnapshot:t}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:c,from:"global"});p=t,d=f}else if(m(e)){const t=await this.getManifestJson(e.entry,e,{}),r=P(e,t),{remoteSnapshot:n}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:e,remoteSnapshot:t,from:"global"});p=n,d=r}else u((0,a.eG)(a.qp,a.yJ,{hostName:e.name,hostVersion:e.version,globalSnapshot:JSON.stringify(f)}));return await this.hooks.lifecycle.afterLoadSnapshot.emit({options:t,moduleInfo:e,remoteSnapshot:p}),{remoteSnapshot:p,globalSnapshot:d}}getGlobalRemoteInfo(e){return ot(e,this.HostInstance)}async getManifestJson(e,t,r){const n=async()=>{let r=this.manifestCache.get(e);if(r)return r;try{let t=await this.loaderHook.lifecycle.fetch.emit(e,{});t&&t instanceof Response||(t=await fetch(e,{})),r=await t.json()}catch(n){r=await this.HostInstance.remoteHandler.hooks.lifecycle.errorLoadRemote.emit({id:e,error:u,from:"runtime",lifecycle:"afterResolve",origin:this.HostInstance}),r||(delete this.manifestLoading[e],u((0,a.eG)(a.ML,a.yJ,{manifestUrl:e,moduleName:t.name},`${n}`)))}return c(r.metaData&&r.exposes&&r.shared,`${e} is not a federation manifest`),this.manifestCache.set(e,r),r},o=async()=>{const r=await n(),o=(0,i.S5)(r,{version:e}),{remoteSnapshot:a}=await this.hooks.lifecycle.loadRemoteSnapshot.emit({options:this.HostInstance.options,moduleInfo:t,manifestJson:r,remoteSnapshot:o,manifestUrl:e,from:"manifest"});return a};return this.manifestLoading[e]||(this.manifestLoading[e]=o().then((e=>e))),this.manifestLoading[e]}constructor(e){this.loadingHostSnapshot=null,this.manifestCache=new Map,this.hooks=new Xe({beforeLoadRemoteSnapshot:new qe("beforeLoadRemoteSnapshot"),loadSnapshot:new Ye("loadGlobalSnapshot"),loadRemoteSnapshot:new Ye("loadRemoteSnapshot"),afterLoadSnapshot:new Ye("afterLoadSnapshot")}),this.manifestLoading=S.__FEDERATION__.__MANIFEST_LOADING__,this.HostInstance=e,this.loaderHook=e.loaderHook}}class at{registerShared(e,t){const{shareInfos:r,shared:n}=Ae(e,t);return Object.keys(r).forEach((e=>{r[e].forEach((r=>{!je(this.shareScopeMap,e,r,this.hooks.lifecycle.resolveShare)&&r&&r.lib&&this.setShared({pkgName:e,lib:r.lib,get:r.get,loaded:!0,shared:r,from:t.name})}))})),{shareInfos:r,shared:n}}async loadShare(e,t){const{host:r}=this,n=Ce({pkgName:e,extraOptions:t,shareInfos:r.options.shared});(null==n?void 0:n.scope)&&await Promise.all(n.scope.map((async e=>{await Promise.all(this.initializeSharing(e,{strategy:n.strategy}))})));const o=await this.hooks.lifecycle.beforeLoadShare.emit({pkgName:e,shareInfo:n,shared:r.options.shared,origin:r}),{shareInfo:i}=o;c(i,`Cannot find ${e} Share in the ${r.options.name}. Please ensure that the ${e} Share parameters have been injected`);const a=je(this.shareScopeMap,e,i,this.hooks.lifecycle.resolveShare),s=e=>{e.useIn||(e.useIn=[]),p(e.useIn,r.options.name)};if(a&&a.lib)return s(a),a.lib;if(a&&a.loading&&!a.loaded){const e=await a.loading;return a.loaded=!0,a.lib||(a.lib=e),s(a),e}if(a){const t=(async()=>{const t=await a.get();i.lib=t,i.loaded=!0,s(i);const r=je(this.shareScopeMap,e,i,this.hooks.lifecycle.resolveShare);return r&&(r.lib=t,r.loaded=!0),t})();return this.setShared({pkgName:e,loaded:!1,shared:a,from:r.options.name,lib:null,loading:t}),t}{if(null==t?void 0:t.customShareInfo)return!1;const n=(async()=>{const t=await i.get();i.lib=t,i.loaded=!0,s(i);const r=je(this.shareScopeMap,e,i,this.hooks.lifecycle.resolveShare);return r&&(r.lib=t,r.loaded=!0),t})();return this.setShared({pkgName:e,loaded:!1,shared:i,from:r.options.name,lib:null,loading:n}),n}}initializeSharing(e=H,t){const{host:r}=this,n=null==t?void 0:t.from,o=null==t?void 0:t.strategy;let i=null==t?void 0:t.initScope;const a=[];if("build"!==n){const{initTokens:t}=this;i||(i=[]);let r=t[e];if(r||(r=t[e]={from:this.host.name}),i.indexOf(r)>=0)return a;i.push(r)}const s=this.shareScopeMap,l=r.options.name;s[e]||(s[e]={});const c=s[e],u=async t=>{const{module:n}=await r.remoteHandler.getRemoteModuleAndOptions({id:t});if(n.getEntry){let a;try{a=await n.getEntry()}catch(e){a=await r.remoteHandler.hooks.lifecycle.errorLoadRemote.emit({id:t,error:e,from:"runtime",lifecycle:"beforeLoadShare",origin:r})}n.inited||(await(o=a,o&&o.init&&o.init(s[e],i)),n.inited=!0)}var o};return Object.keys(r.options.shared).forEach((t=>{r.options.shared[t].forEach((r=>{r.scope.includes(e)&&((e,t)=>{var r;const{version:n,eager:o}=t;c[e]=c[e]||{};const i=c[e],a=i[n],s=Boolean(a&&(a.eager||(null==(r=a.shareConfig)?void 0:r.eager)));(!a||"loaded-first"!==a.strategy&&!a.loaded&&(Boolean(!o)!==!s?o:l>a.from))&&(i[n]=t)})(t,r)}))})),"version-first"!==r.options.shareStrategy&&"version-first"!==o||r.options.remotes.forEach((t=>{t.shareScope===e&&a.push(u(t.name))})),a}loadShareSync(e,t){const{host:r}=this,n=Ce({pkgName:e,extraOptions:t,shareInfos:r.options.shared});(null==n?void 0:n.scope)&&n.scope.forEach((e=>{this.initializeSharing(e,{strategy:n.strategy})}));const o=je(this.shareScopeMap,e,n,this.hooks.lifecycle.resolveShare),i=e=>{e.useIn||(e.useIn=[]),p(e.useIn,r.options.name)};if(o){if("function"==typeof o.lib)return i(o),o.loaded||(o.loaded=!0,o.from===r.options.name&&(n.loaded=!0)),o.lib;if("function"==typeof o.get){const t=o.get();if(!(t instanceof Promise))return i(o),this.setShared({pkgName:e,loaded:!0,from:r.options.name,lib:t,shared:o}),t}}if(n.lib)return n.loaded||(n.loaded=!0),n.lib;if(n.get){const o=n.get();if(o instanceof Promise){const n="build"===(null==t?void 0:t.from)?a.xz:a.Jj;throw new Error((0,a.eG)(n,a.yJ,{hostName:r.options.name,sharedPkgName:e}))}return n.lib=o,this.setShared({pkgName:e,loaded:!0,from:r.options.name,lib:n.lib,shared:n}),n.lib}throw new Error((0,a.eG)(a.Jj,a.yJ,{hostName:r.options.name,sharedPkgName:e}))}initShareScopeMap(e,t,r={}){const{host:n}=this;this.shareScopeMap[e]=t,this.hooks.lifecycle.initContainerShareScopeMap.emit({shareScope:t,options:n.options,origin:n,scopeName:e,hostShareScopeMap:r.hostShareScopeMap})}setShared({pkgName:e,shared:t,from:r,lib:i,loading:a,loaded:s,get:l}){const{version:c,scope:u="default"}=t,f=o(t,["version","scope"]);(Array.isArray(u)?u:[u]).forEach((t=>{if(this.shareScopeMap[t]||(this.shareScopeMap[t]={}),this.shareScopeMap[t][e]||(this.shareScopeMap[t][e]={}),!this.shareScopeMap[t][e][c])return this.shareScopeMap[t][e][c]=n({version:c,scope:["default"]},f,{lib:i,loaded:s,loading:a}),void(l&&(this.shareScopeMap[t][e][c].get=l));const r=this.shareScopeMap[t][e][c];a&&!r.loading&&(r.loading=a)}))}_setGlobalShareScopeMap(e){const t=Le(),r=e.id||e.name;r&&!t[r]&&(t[r]=this.shareScopeMap)}constructor(e){this.hooks=new Xe({afterResolve:new Ye("afterResolve"),beforeLoadShare:new Ye("beforeLoadShare"),loadShare:new qe,resolveShare:new ze("resolveShare"),initContainerShareScopeMap:new ze("initContainerShareScopeMap")}),this.host=e,this.shareScopeMap={},this.initTokens={},this._setGlobalShareScopeMap(e.options)}}class st{formatAndRegisterRemote(e,t){return(t.remotes||[]).reduce(((e,t)=>(this.registerRemote(t,e,{force:!1}),e)),e.remotes)}setIdToRemoteMap(e,t){const{remote:r,expose:n}=t,{name:o,alias:i}=r;if(this.idToRemoteMap[e]={name:r.name,expose:n},i&&e.startsWith(o)){const t=e.replace(o,i);this.idToRemoteMap[t]={name:r.name,expose:n}}else if(i&&e.startsWith(i)){const t=e.replace(i,o);this.idToRemoteMap[t]={name:r.name,expose:n}}}async loadRemote(e,t){const{host:r}=this;try{const{loadFactory:n=!0}=t||{loadFactory:!0},{module:o,moduleOptions:i,remoteMatchInfo:a}=await this.getRemoteModuleAndOptions({id:e}),{pkgNameOrAlias:s,remote:l,expose:c,id:u,remoteSnapshot:f}=a,p=await o.get(u,c,t,f),d=await this.hooks.lifecycle.onLoad.emit({id:u,pkgNameOrAlias:s,expose:c,exposeModule:n?p:void 0,exposeModuleFactory:n?void 0:p,remote:l,options:i,moduleInstance:o,origin:r});return this.setIdToRemoteMap(e,a),"function"==typeof d?d:p}catch(n){const{from:o="runtime"}=t||{from:"runtime"},i=await this.hooks.lifecycle.errorLoadRemote.emit({id:e,error:n,from:o,lifecycle:"onLoad",origin:r});if(!i)throw n;return i}}async preloadRemote(e){const{host:t}=this;await this.hooks.lifecycle.beforePreloadRemote.emit({preloadOps:e,options:t.options,origin:t});const r=(n=t.options.remotes,e.map((e=>{const t=function(e,t){for(const r of e){if(t===r.name)return r;if(r.alias&&t===r.alias)return r}}(n,e.nameOrAlias);return c(t,`Unable to preload ${e.nameOrAlias} as it is not included in ${!t&&(0,i.pv)({remoteInfo:t,remotes:n})}`),{remote:t,preloadConfig:Ze(e)}})));var n;await Promise.all(r.map((async e=>{const{remote:r}=e,n=Be(r),{globalSnapshot:o,remoteSnapshot:i}=await t.snapshotHandler.loadRemoteSnapshotInfo(r),a=await this.hooks.lifecycle.generatePreloadAssets.emit({origin:t,preloadOptions:e,remote:r,remoteInfo:n,globalSnapshot:o,remoteSnapshot:i});a&&Qe(n,t,a)})))}registerRemotes(e,t){const{host:r}=this;e.forEach((e=>{this.registerRemote(e,r.options.remotes,{force:null==t?void 0:t.force})}))}async getRemoteModuleAndOptions(e){const{host:t}=this,{id:r}=e;let o;try{o=await this.hooks.lifecycle.beforeRequest.emit({id:r,options:t.options,origin:t})}catch(e){if(o=await this.hooks.lifecycle.errorLoadRemote.emit({id:r,options:t.options,origin:t,from:"runtime",error:e,lifecycle:"beforeRequest"}),!o)throw e}const{id:i}=o,s=function(e,t){for(const r of e){const e=t.startsWith(r.name);let n=t.replace(r.name,"");if(e){if(n.startsWith("/"))return n=`.${n}`,{pkgNameOrAlias:r.name,expose:n,remote:r};if(""===n)return{pkgNameOrAlias:r.name,expose:".",remote:r}}const o=r.alias&&t.startsWith(r.alias);let i=r.alias&&t.replace(r.alias,"");if(r.alias&&o){if(i&&i.startsWith("/"))return i=`.${i}`,{pkgNameOrAlias:r.alias,expose:i,remote:r};if(""===i)return{pkgNameOrAlias:r.alias,expose:".",remote:r}}}}(t.options.remotes,i);c(s,(0,a.eG)(a.F7,a.yJ,{hostName:t.options.name,requestId:i}));const{remote:l}=s,u=Be(l),f=await t.sharedHandler.hooks.lifecycle.afterResolve.emit(n({id:i},s,{options:t.options,origin:t,remoteInfo:u})),{remote:p,expose:d}=f;c(p&&d,`The 'beforeRequest' hook was executed, but it failed to return the correct 'remote' and 'expose' values while loading ${i}.`);let m=t.moduleCache.get(p.name);const h={host:t,remoteInfo:u};return m||(m=new We(h),t.moduleCache.set(p.name,m)),{module:m,moduleOptions:h,remoteMatchInfo:f}}registerRemote(e,t,r){const{host:n}=this,o=()=>{if(e.alias){const r=t.find((t=>{var r;return e.alias&&(t.name.startsWith(e.alias)||(null==(r=t.alias)?void 0:r.startsWith(e.alias)))}));c(!r,`The alias ${e.alias} of remote ${e.name} is not allowed to be the prefix of ${r&&r.name} name or alias`)}"entry"in e&&(0,i.kP)()&&!e.entry.startsWith("http")&&(e.entry=new URL(e.entry,window.location.origin).href),e.shareScope||(e.shareScope=H),e.type||(e.type=V)};this.hooks.lifecycle.beforeRegisterRemote.emit({remote:e,origin:n});const a=t.find((t=>t.name===e.name));if(a){const s=[`The remote "${e.name}" is already registered.`,"Please note that overriding it may cause unexpected errors."];(null==r?void 0:r.force)&&(this.removeRemote(a),o(),t.push(e),this.hooks.lifecycle.registerRemote.emit({remote:e,origin:n}),(0,i.ZK)(s.join(" ")))}else o(),t.push(e),this.hooks.lifecycle.registerRemote.emit({remote:e,origin:n})}removeRemote(e){try{const{host:r}=this,{name:n}=e,o=r.options.remotes.findIndex((e=>e.name===n));-1!==o&&r.options.remotes.splice(o,1);const a=r.moduleCache.get(e.name);if(a){const n=a.remoteInfo,o=n.entryGlobalName;var t;if(b[o])(null==(t=Object.getOwnPropertyDescriptor(b,o))?void 0:t.configurable)?delete b[o]:b[o]=void 0;const s=Ge(a.remoteInfo);N[s]&&delete N[s],r.snapshotHandler.manifestCache.delete(n.entry);let l=n.buildVersion?(0,i.M8)(n.name,n.buildVersion):n.name;const c=b.__FEDERATION__.__INSTANCES__.findIndex((e=>n.buildVersion?e.options.id===l:e.name===l));if(-1!==c){const e=b.__FEDERATION__.__INSTANCES__[c];l=e.options.id||l;const t=Le();let r=!0;const o=[];Object.keys(t).forEach((e=>{const i=t[e];i&&Object.keys(i).forEach((t=>{const a=i[t];a&&Object.keys(a).forEach((i=>{const s=a[i];s&&Object.keys(s).forEach((a=>{const l=s[a];l&&"object"==typeof l&&l.from===n.name&&(l.loaded||l.loading?(l.useIn=l.useIn.filter((e=>e!==n.name)),l.useIn.length?r=!1:o.push([e,t,i,a])):o.push([e,t,i,a]))}))}))}))})),r&&(e.shareScopeMap={},delete t[l]),o.forEach((([e,r,n,o])=>{var i,a,s;null==(s=t[e])||(null==(a=s[r])||(null==(i=a[n])||delete i[o]))})),b.__FEDERATION__.__INSTANCES__.splice(c,1)}const{hostGlobalSnapshot:u}=ot(e,r);if(u){const t=u&&"remotesInfo"in u&&u.remotesInfo&&k(u.remotesInfo,e.name).key;t&&(delete u.remotesInfo[t],Boolean(S.__FEDERATION__.__MANIFEST_LOADING__[t])&&delete S.__FEDERATION__.__MANIFEST_LOADING__[t])}r.moduleCache.delete(e.name)}}catch(e){l.log("removeRemote fail: ",e)}}constructor(e){this.hooks=new Xe({beforeRegisterRemote:new ze("beforeRegisterRemote"),registerRemote:new ze("registerRemote"),beforeRequest:new Ye("beforeRequest"),onLoad:new qe("onLoad"),handlePreloadModule:new Ke("handlePreloadModule"),errorLoadRemote:new qe("errorLoadRemote"),beforePreloadRemote:new qe("beforePreloadRemote"),generatePreloadAssets:new qe("generatePreloadAssets"),afterPreloadRemote:new qe,loadEntry:new qe}),this.host=e,this.idToRemoteMap={}}}class lt{initOptions(e){this.registerPlugins(e.plugins);const t=this.formatOptions(this.options,e);return this.options=t,t}async loadShare(e,t){return this.sharedHandler.loadShare(e,t)}loadShareSync(e,t){return this.sharedHandler.loadShareSync(e,t)}initializeSharing(e=H,t){return this.sharedHandler.initializeSharing(e,t)}initRawContainer(e,t,r){const n=Be({name:e,entry:t}),o=new We({host:this,remoteInfo:n});return o.remoteEntryExports=r,this.moduleCache.set(e,o),o}async loadRemote(e,t){return this.remoteHandler.loadRemote(e,t)}async preloadRemote(e){return this.remoteHandler.preloadRemote(e)}initShareScopeMap(e,t,r={}){this.sharedHandler.initShareScopeMap(e,t,r)}formatOptions(e,t){const{shared:r}=Ae(e,t),{userOptions:o,options:i}=this.hooks.lifecycle.beforeInit.emit({origin:this,userOptions:t,options:e,shareInfo:r}),a=this.remoteHandler.formatAndRegisterRemote(i,o),{shared:s}=this.sharedHandler.registerShared(i,o),l=[...i.plugins];o.plugins&&o.plugins.forEach((e=>{l.includes(e)||l.push(e)}));const c=n({},e,t,{plugins:l,remotes:a,shared:s});return this.hooks.lifecycle.init.emit({origin:this,options:c}),c}registerPlugins(e){const t=function(e,t){const r=j();return r.length>0&&r.forEach((t=>{(null==e?void 0:e.find((e=>e.name!==t.name)))&&e.push(t)})),e&&e.length>0&&e.forEach((e=>{t.forEach((t=>{t.applyPlugin(e)}))})),e}(e,[this.hooks,this.remoteHandler.hooks,this.sharedHandler.hooks,this.snapshotHandler.hooks,this.loaderHook,this.bridgeHook]);this.options.plugins=this.options.plugins.reduce(((e,t)=>t?(e&&!e.find((e=>e.name===t.name))&&e.push(t),e):e),t||[])}registerRemotes(e,t){return this.remoteHandler.registerRemotes(e,t)}constructor(e){this.hooks=new Xe({beforeInit:new ze("beforeInit"),init:new Ke,beforeInitContainer:new Ye("beforeInitContainer"),initContainer:new Ye("initContainer")}),this.version="0.9.1",this.moduleCache=new Map,this.loaderHook=new Xe({getModuleInfo:new Ke,createScript:new Ke,createLink:new Ke,fetch:new qe,loadEntryError:new qe,getModuleFactory:new qe}),this.bridgeHook=new Xe({beforeBridgeRender:new Ke,afterBridgeRender:new Ke,beforeBridgeDestroy:new Ke,afterBridgeDestroy:new Ke});const t={id:"undefined"!=typeof FEDERATION_BUILD_IDENTIFIER?FEDERATION_BUILD_IDENTIFIER:"",name:e.name,plugins:[{name:"snapshot-plugin",async afterResolve(e){const{remote:t,pkgNameOrAlias:r,expose:o,origin:i,remoteInfo:a}=e;if(!m(t)||!h(t)){const{remoteSnapshot:s,globalSnapshot:l}=await i.snapshotHandler.loadRemoteSnapshotInfo(t);et(a,s);const c={remote:t,preloadConfig:{nameOrAlias:r,exposes:[o],resourceCategory:"sync",share:!1,depsRemote:!1}},u=await i.remoteHandler.hooks.lifecycle.generatePreloadAssets.emit({origin:i,preloadOptions:c,remoteInfo:a,remote:t,remoteSnapshot:s,globalSnapshot:l});return u&&Qe(a,i,u,!1),n({},e,{remoteSnapshot:s})}return e}},{name:"generate-preload-assets-plugin",async generatePreloadAssets(e){const{origin:t,preloadOptions:r,remoteInfo:n,remote:o,globalSnapshot:i,remoteSnapshot:a}=e;return m(o)&&h(o)?{cssAssets:[],jsAssetsWithoutEntry:[],entryAssets:[{name:o.name,url:o.entry,moduleInfo:{name:n.name,entry:o.entry,type:n.type||"global",entryGlobalName:"",shareScope:""}}]}:(et(n,a),nt(t,r,n,i,a))}}],remotes:[],shared:{},inBrowser:(0,i.kP)()};this.name=e.name,this.options=t,this.snapshotHandler=new it(this),this.sharedHandler=new at(this),this.remoteHandler=new st(this),this.shareScopeMap=this.sharedHandler.shareScopeMap,this.registerPlugins([...t.plugins,...e.plugins||[]]),this.options=this.formatOptions(t,e)}}},952:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";if(__webpack_require__.d(__webpack_exports__,{Au:()=>isDebugMode,EW:()=>createLink,M8:()=>composeKeyWithSeparator,S5:()=>generateSnapshotFromManifest,UC:()=>createLogger,ZK:()=>warn,hT:()=>createScript,kP:()=>isBrowserEnv,pv:()=>safeToString,qN:()=>loadScriptNode,vM:()=>getResourceUrl,ve:()=>loadScript,xw:()=>isManifestProvider}),5626!=__webpack_require__.j)var _polyfills_esm_mjs__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(89039);const FederationModuleManifest="federation-manifest.json",MANIFEST_EXT=".json",BROWSER_LOG_KEY="FEDERATION_DEBUG",BROWSER_LOG_VALUE="1",NameTransformSymbol={AT:"@",HYPHEN:"-",SLASH:"/"},NameTransformMap={[NameTransformSymbol.AT]:"scope_",[NameTransformSymbol.HYPHEN]:"_",[NameTransformSymbol.SLASH]:"__"},EncodedNameTransformMap={[NameTransformMap[NameTransformSymbol.AT]]:NameTransformSymbol.AT,[NameTransformMap[NameTransformSymbol.HYPHEN]]:NameTransformSymbol.HYPHEN,[NameTransformMap[NameTransformSymbol.SLASH]]:NameTransformSymbol.SLASH},SEPARATOR=":",ManifestFileName="mf-manifest.json",StatsFileName="mf-stats.json",MFModuleType={NPM:"npm",APP:"app"},MODULE_DEVTOOL_IDENTIFIER="__MF_DEVTOOLS_MODULE_INFO__",ENCODE_NAME_PREFIX="ENCODE_NAME_PREFIX",TEMP_DIR=".federation",MFPrefetchCommon={identifier:"MFDataPrefetch",globalKey:"__PREFETCH__",library:"mf-data-prefetch",exportsKey:"__PREFETCH_EXPORTS__",fileName:"bootstrap.js"};var ContainerPlugin=Object.freeze({__proto__:null}),ContainerReferencePlugin=Object.freeze({__proto__:null}),ModuleFederationPlugin=Object.freeze({__proto__:null}),SharePlugin=Object.freeze({__proto__:null});function isBrowserEnv(){return"undefined"!=typeof window}function isBrowserDebug(){try{if(isBrowserEnv()&&window.localStorage)return localStorage.getItem(BROWSER_LOG_KEY)===BROWSER_LOG_VALUE}catch(e){return!1}return!1}function isDebugMode(){return"undefined"!=typeof process&&process.env&&process.env.FEDERATION_DEBUG?Boolean(process.env.FEDERATION_DEBUG):!("undefined"==typeof FEDERATION_DEBUG||!Boolean(FEDERATION_DEBUG))||isBrowserDebug()}const getProcessEnv=function(){return"undefined"!=typeof process&&process.env?process.env:{}},LOG_CATEGORY="[ Federation Runtime ]",parseEntry=(e,t,r=SEPARATOR)=>{const n=e.split(r),o="development"===getProcessEnv().NODE_ENV&&t,i=e=>e.startsWith("http")||e.includes(MANIFEST_EXT);if(n.length>=2){let[t,...a]=n;e.startsWith(r)&&(t=n.slice(0,2).join(r),a=[o||n.slice(2).join(r)]);let s=o||a.join(r);return i(s)?{name:t,entry:s}:{name:t,version:s||"*"}}if(1===n.length){const[e]=n;return o&&i(o)?{name:e,entry:o}:{name:e,version:o||"*"}}throw`Invalid entry value: ${e}`},composeKeyWithSeparator=function(...e){return e.length?e.reduce(((e,t)=>t?e?`${e}${SEPARATOR}${t}`:t:e),""):""},encodeName=function(e,t="",r=!1){try{const n=r?".js":"";return`${t}${e.replace(new RegExp(`${NameTransformSymbol.AT}`,"g"),NameTransformMap[NameTransformSymbol.AT]).replace(new RegExp(`${NameTransformSymbol.HYPHEN}`,"g"),NameTransformMap[NameTransformSymbol.HYPHEN]).replace(new RegExp(`${NameTransformSymbol.SLASH}`,"g"),NameTransformMap[NameTransformSymbol.SLASH])}${n}`}catch(e){throw e}},decodeName=function(e,t,r){try{let n=e;if(t){if(!n.startsWith(t))return n;n=n.replace(new RegExp(t,"g"),"")}return n=n.replace(new RegExp(`${NameTransformMap[NameTransformSymbol.AT]}`,"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.AT]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.SLASH]}`,"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.SLASH]]).replace(new RegExp(`${NameTransformMap[NameTransformSymbol.HYPHEN]}`,"g"),EncodedNameTransformMap[NameTransformMap[NameTransformSymbol.HYPHEN]]),r&&(n=n.replace(".js","")),n}catch(e){throw e}},generateExposeFilename=(e,t)=>{if(!e)return"";let r=e;return"."===r&&(r="default_export"),r.startsWith("./")&&(r=r.replace("./","")),encodeName(r,"__federation_expose_",t)},generateShareFilename=(e,t)=>e?encodeName(e,"__federation_shared_",t):"",getResourceUrl=(e,t)=>{if("getPublicPath"in e){let r;return r=e.getPublicPath.startsWith("function")?new Function("return "+e.getPublicPath)()():new Function(e.getPublicPath)(),`${r}${t}`}return"publicPath"in e?`${e.publicPath}${t}`:(console.warn("Cannot get resource URL. If in debug mode, please ignore.",e,t),"")},assert=(e,t)=>{e||error(t)},error=e=>{throw new Error(`${LOG_CATEGORY}: ${e}`)},warn=e=>{console.warn(`${LOG_CATEGORY}: ${e}`)};function safeToString(e){try{return JSON.stringify(e,null,2)}catch(e){return""}}const VERSION_PATTERN_REGEXP=/^([\d^=v<>~]|[*xX]$)/;function isRequiredVersion(e){return VERSION_PATTERN_REGEXP.test(e)}const simpleJoinRemoteEntry=(e,t)=>{if(!e)return t;const r=(e=>{if("."===e)return"";if(e.startsWith("./"))return e.replace("./","");if(e.startsWith("/")){const t=e.slice(1);return t.endsWith("/")?t.slice(0,-1):t}return e})(e);return r?r.endsWith("/")?`${r}${t}`:`${r}/${t}`:t};function inferAutoPublicPath(e){return e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/")}function generateSnapshotFromManifest(e,t={}){var r,n;const{remotes:o={},overrides:i={},version:a}=t;let s;const l=()=>"publicPath"in e.metaData?"auto"===e.metaData.publicPath&&a?inferAutoPublicPath(a):e.metaData.publicPath:e.metaData.getPublicPath,c=Object.keys(i);let u={};var f;Object.keys(o).length||(u=(null==(f=e.remotes)?void 0:f.reduce(((e,t)=>{let r;const n=t.federationContainerName;return r=c.includes(n)?i[n]:"version"in t?t.version:t.entry,e[n]={matchedVersion:r},e}),{}))||{});Object.keys(o).forEach((e=>u[e]={matchedVersion:c.includes(e)?i[e]:o[e]}));const{remoteEntry:{path:p,name:d,type:m},types:h,buildInfo:{buildVersion:y},globalName:_,ssrRemoteEntry:v}=e.metaData,{exposes:g}=e;let b={version:a||"",buildVersion:y,globalName:_,remoteEntry:simpleJoinRemoteEntry(p,d),remoteEntryType:m,remoteTypes:simpleJoinRemoteEntry(h.path,h.name),remoteTypesZip:h.zip||"",remoteTypesAPI:h.api||"",remotesInfo:u,shared:null==e?void 0:e.shared.map((e=>({assets:e.assets,sharedName:e.name,version:e.version}))),modules:null==g?void 0:g.map((e=>({moduleName:e.name,modulePath:e.path,assets:e.assets})))};if(null==(r=e.metaData)?void 0:r.prefetchInterface){const t=e.metaData.prefetchInterface;b=(0,_polyfills_esm_mjs__WEBPACK_IMPORTED_MODULE_0__._)({},b,{prefetchInterface:t})}if(null==(n=e.metaData)?void 0:n.prefetchEntry){const{path:t,name:r,type:n}=e.metaData.prefetchEntry;b=(0,_polyfills_esm_mjs__WEBPACK_IMPORTED_MODULE_0__._)({},b,{prefetchEntry:simpleJoinRemoteEntry(t,r),prefetchEntryType:n})}if(s="publicPath"in e.metaData?(0,_polyfills_esm_mjs__WEBPACK_IMPORTED_MODULE_0__._)({},b,{publicPath:l()}):(0,_polyfills_esm_mjs__WEBPACK_IMPORTED_MODULE_0__._)({},b,{getPublicPath:l()}),v){const e=simpleJoinRemoteEntry(v.path,v.name);s.ssrRemoteEntry=e,s.ssrRemoteEntryType=v.type||"commonjs-module"}return s}function isManifestProvider(e){return!(!("remoteEntry"in e)||!e.remoteEntry.includes(MANIFEST_EXT))}const PREFIX="[ Module Federation ]";let Logger=class{log(...e){console.log(this.prefix,...e)}warn(...e){console.log(this.prefix,...e)}error(...e){console.log(this.prefix,...e)}success(...e){console.log(this.prefix,...e)}info(...e){console.log(this.prefix,...e)}ready(...e){console.log(this.prefix,...e)}debug(...e){isDebugMode()&&console.log(this.prefix,...e)}constructor(e){this.prefix=e}};function createLogger(e){return new Logger(e)}const logger=createLogger(PREFIX);async function safeWrapper(e,t){try{return await e()}catch(e){return void(!t&&warn(e))}}function isStaticResourcesEqual(e,t){const r=/^(https?:)?\/\//i;return e.replace(r,"").replace(/\/$/,"")===t.replace(r,"").replace(/\/$/,"")}function createScript(e){let t,r=null,n=!0,o=2e4;const i=document.getElementsByTagName("script");for(let t=0;t<i.length;t++){const o=i[t],a=o.getAttribute("src");if(a&&isStaticResourcesEqual(a,e.url)){r=o,n=!1;break}}if(!r){const t=e.attrs;let n;r=document.createElement("script"),r.type="module"===(null==t?void 0:t.type)?"module":"text/javascript",e.createScriptHook&&(n=e.createScriptHook(e.url,e.attrs),n instanceof HTMLScriptElement?r=n:"object"==typeof n&&("script"in n&&n.script&&(r=n.script),"timeout"in n&&n.timeout&&(o=n.timeout))),r.src||(r.src=e.url),t&&!n&&Object.keys(t).forEach((e=>{r&&("async"===e||"defer"===e?r[e]=t[e]:r.getAttribute(e)||r.setAttribute(e,t[e]))}))}const a=async(n,o)=>{clearTimeout(t);const i=()=>{"error"===(null==o?void 0:o.type)?(null==e?void 0:e.onErrorCallback)&&(null==e||e.onErrorCallback(o)):(null==e?void 0:e.cb)&&(null==e||e.cb())};if(r&&(r.onerror=null,r.onload=null,safeWrapper((()=>{const{needDeleteScript:t=!0}=e;t&&(null==r?void 0:r.parentNode)&&r.parentNode.removeChild(r)})),n&&"function"==typeof n)){const e=n(o);if(e instanceof Promise){const t=await e;return i(),t}return i(),e}i()};return r.onerror=a.bind(null,r.onerror),r.onload=a.bind(null,r.onload),t=setTimeout((()=>{a(null,new Error(`Remote script "${e.url}" time-outed.`))}),o),{script:r,needAttach:n}}function createLink(e){let t=null,r=!0;const n=document.getElementsByTagName("link");for(let o=0;o<n.length;o++){const i=n[o],a=i.getAttribute("href"),s=i.getAttribute("ref");if(a&&isStaticResourcesEqual(a,e.url)&&s===e.attrs.ref){t=i,r=!1;break}}if(!t){let r;t=document.createElement("link"),t.setAttribute("href",e.url);const n=e.attrs;e.createLinkHook&&(r=e.createLinkHook(e.url,n),r instanceof HTMLLinkElement&&(t=r)),n&&!r&&Object.keys(n).forEach((e=>{t&&!t.getAttribute(e)&&t.setAttribute(e,n[e])}))}const o=(r,n)=>{const o=()=>{"error"===(null==n?void 0:n.type)?(null==e?void 0:e.onErrorCallback)&&(null==e||e.onErrorCallback(n)):(null==e?void 0:e.cb)&&(null==e||e.cb())};if(t&&(t.onerror=null,t.onload=null,safeWrapper((()=>{const{needDeleteLink:r=!0}=e;r&&(null==t?void 0:t.parentNode)&&t.parentNode.removeChild(t)})),r)){const e=r(n);return o(),e}o()};return t.onerror=o.bind(null,t.onerror),t.onload=o.bind(null,t.onload),{link:t,needAttach:r}}function loadScript(e,t){const{attrs:r={},createScriptHook:n}=t;return new Promise(((t,o)=>{const{script:i,needAttach:a}=createScript({url:e,cb:t,onErrorCallback:o,attrs:(0,_polyfills_esm_mjs__WEBPACK_IMPORTED_MODULE_0__._)({fetchpriority:"high"},r),createScriptHook:n,needDeleteScript:!0});a&&document.head.appendChild(i)}))}function importNodeModule(e){if(!e)throw new Error("import specifier is required");return new Function("name","return import(name)")(e).then((e=>e)).catch((t=>{throw console.error(`Error importing module ${e}:`,t),t}))}const loadNodeFetch=async()=>{const e=await importNodeModule("node-fetch");return e.default||e},lazyLoaderHookFetch=async(e,t,r)=>{const n=await((e,t)=>r.lifecycle.fetch.emit(e,t))(e,t||{});if(!(n&&n instanceof Response)){return("undefined"==typeof fetch?await loadNodeFetch():fetch)(e,t||{})}return n};function createScriptNode(url,cb,attrs,loaderHook){if(null==loaderHook?void 0:loaderHook.createScriptHook){const e=loaderHook.createScriptHook(url);e&&"object"==typeof e&&"url"in e&&(url=e.url)}let urlObj;try{urlObj=new URL(url)}catch(e){return console.error("Error constructing URL:",e),void cb(new Error(`Invalid URL: ${e}`))}const getFetch=async()=>(null==loaderHook?void 0:loaderHook.fetch)?(e,t)=>lazyLoaderHookFetch(e,t,loaderHook):"undefined"==typeof fetch?loadNodeFetch():fetch,handleScriptFetch=async(f,urlObj)=>{try{var _vm_constants;const res=await f(urlObj.href),data=await res.text(),[path,vm]=await Promise.all([importNodeModule("path"),importNodeModule("vm")]),scriptContext={exports:{},module:{exports:{}}},urlDirname=urlObj.pathname.split("/").slice(0,-1).join("/"),filename=path.basename(urlObj.pathname);var _vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER;const script=new vm.Script(`(function(exports, module, require, __dirname, __filename) {${data}\n})`,{filename,importModuleDynamically:null!=(_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER=null==(_vm_constants=vm.constants)?void 0:_vm_constants.USE_MAIN_CONTEXT_DEFAULT_LOADER)?_vm_constants_USE_MAIN_CONTEXT_DEFAULT_LOADER:importNodeModule});script.runInThisContext()(scriptContext.exports,scriptContext.module,eval("require"),urlDirname,filename);const exportedInterface=scriptContext.module.exports||scriptContext.exports;if(attrs&&exportedInterface&&attrs.globalName){const e=exportedInterface[attrs.globalName]||exportedInterface;return void cb(void 0,e)}cb(void 0,exportedInterface)}catch(e){cb(e instanceof Error?e:new Error(`Script execution error: ${e}`))}};getFetch().then((async e=>{if("esm"===(null==attrs?void 0:attrs.type)||"module"===(null==attrs?void 0:attrs.type))return loadModule(urlObj.href,{fetch:e,vm:await importNodeModule("vm")}).then((async e=>{await e.evaluate(),cb(void 0,e.namespace)})).catch((e=>{cb(e instanceof Error?e:new Error(`Script execution error: ${e}`))}));handleScriptFetch(e,urlObj)})).catch((e=>{cb(e)}))}function loadScriptNode(e,t){return new Promise(((r,n)=>{createScriptNode(e,((e,o)=>{if(e)n(e);else{var i,a;const e=(null==t||null==(i=t.attrs)?void 0:i.globalName)||`__FEDERATION_${null==t||null==(a=t.attrs)?void 0:a.name}:custom__`,n=globalThis[e]=o;r(n)}}),t.attrs,t.loaderHook)}))}async function loadModule(e,t){const{fetch:r,vm:n}=t,o=await r(e),i=await o.text(),a=new n.SourceTextModule(i,{importModuleDynamically:async(r,n)=>loadModule(new URL(r,e).href,t)});return await a.link((async r=>{const n=new URL(r,e).href;return await loadModule(n,t)})),a}function normalizeOptions(e,t,r){return function(n){if(!1===n)return!1;if(void 0===n)return!!e&&t;if(!0===n)return t;if(n&&"object"==typeof n)return(0,_polyfills_esm_mjs__WEBPACK_IMPORTED_MODULE_0__._)({},t,n);throw new Error(`Unexpected type for \`${r}\`, expect boolean/undefined/object, got: ${typeof n}`)}}},89039:(e,t,r)=>{"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{_:()=>n})},36266:(e,t,r)=>{"use strict";function n(){return n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},n.apply(this,arguments)}r.d(t,{Z:()=>a});var o=r(27747),i=r(32968),a={global:n({},o.BM.global,{getGlobalFederationInstance:i.g}),share:o.BM.share}},66950:(e,t,r)=>{"use strict";r.d(t,{S1:()=>a,TV:()=>n.TV,Zj:()=>l,y0:()=>s});var n=r(27747),o=r(32968);let i=null;function a(e){const t=(0,o.g)(e.name,e.version);if(t)return t.initOptions(e),i||(i=t),t;{const t=(0,n.Cv)()||n.TV;return i=new t(e),(0,n.X0)(i),i}}function s(...e){(0,n.hu)(i,"Please call init first");return i.loadRemote.apply(i,e)}function l(...e){return(0,n.hu)(i,"Please call init first"),i.preloadRemote.apply(i,e)}(0,n.qD)(n.TV)},32968:(e,t,r)=>{"use strict";r.d(t,{g:()=>i});var n=r(27747);function o(){return"undefined"!=typeof FEDERATION_BUILD_IDENTIFIER?FEDERATION_BUILD_IDENTIFIER:""}function i(e,t){const r=o();return n.GJ.__FEDERATION__.__INSTANCES__.find((n=>!(!r||n.options.id!==o())||(n.options.name===e&&!n.options.version&&!t||!(n.options.name!==e||!t||n.options.version!==t))))}}}]);
//# sourceMappingURL=vendors-0bc0478e.6e552dacb1b70f2e9ed7.bundle.js.map